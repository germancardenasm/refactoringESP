!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"!==n&&!ot.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(mt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return J.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(wt)||[],function(t,n){e[n]=!0}),e}function a(){X.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a),ot.ready()}function s(){this.expando=ot.expando+s.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ot,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Et.test(n)?ot.parseJSON(n):n)}catch(t){}St.set(t,e,n)}else n=void 0;return n}function c(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return ot.css(t,e,"")},l=s(),c=n&&n[3]||(ot.cssNumber[e]?"":"px"),u=(ot.cssNumber[e]||"px"!==c&&+l)&&Mt.exec(ot.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do o=o||".5",u/=o,ot.style(t,e,u+c);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function u(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function d(t,e){for(var n=0,i=t.length;n<i;n++)Tt.set(t[n],"globalEval",!e||Tt.get(e[n],"globalEval"))}function h(t,e,n,i,r){for(var o,a,s,l,c,h,f=e.createDocumentFragment(),p=[],m=0,g=t.length;m<g;m++)if(o=t[m],o||0===o)if("object"===ot.type(o))ot.merge(p,o.nodeType?[o]:o);else if(Rt.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(Nt.exec(o)||["",""])[1].toLowerCase(),l=It[s]||It._default,a.innerHTML=l[1]+ot.htmlPrefilter(o)+l[2],h=l[0];h--;)a=a.lastChild;ot.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(e.createTextNode(o));for(f.textContent="",m=0;o=p[m++];)if(i&&ot.inArray(o,i)>-1)r&&r.push(o);else if(c=ot.contains(o.ownerDocument,o),a=u(f.appendChild(o),"script"),c&&d(a),n)for(h=0;o=a[h++];)Lt.test(o.type||"")&&n.push(o);return f}function f(){return!0}function p(){return!1}function m(){try{return X.activeElement}catch(t){}}function g(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)g(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=p;else if(!r)return t;return 1===o&&(a=r,r=function(t){return ot().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,r,i,n)})}function v(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Wt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){var n,i,r,o,a,s,l,c;if(1===e.nodeType){if(Tt.hasData(t)&&(o=Tt.access(t),a=Tt.set(e,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;n<i;n++)ot.event.add(e,r,c[r][n])}St.hasData(t)&&(s=St.access(t),l=ot.extend({},s),St.set(e,l))}}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&jt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function x(t,e,n,i){e=Z.apply([],e);var r,o,a,s,l,c,d=0,f=t.length,p=f-1,m=e[0],g=ot.isFunction(m);if(g||f>1&&"string"==typeof m&&!it.checkClone&&Ht.test(m))return t.each(function(r){var o=t.eq(r);g&&(e[0]=m.call(this,r,o.html())),x(o,e,n,i)});if(f&&(r=h(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=ot.map(u(r,"script"),y),s=a.length;d<f;d++)l=r,d!==p&&(l=ot.clone(l,!0,!0),s&&ot.merge(a,u(l,"script"))),n.call(t[d],l,d);if(s)for(c=a[a.length-1].ownerDocument,ot.map(a,b),d=0;d<s;d++)l=a[d],Lt.test(l.type||"")&&!Tt.access(l,"globalEval")&&ot.contains(c,l)&&(l.src?ot._evalUrl&&ot._evalUrl(l.src):ot.globalEval(l.textContent.replace(Yt,"")))}return t}function k(t,e,n){for(var i,r=e?ot.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ot.cleanData(u(i)),i.parentNode&&(n&&ot.contains(i.ownerDocument,i)&&d(u(i,"script")),i.parentNode.removeChild(i));return t}function C(t,e){var n=ot(e.createElement(t)).appendTo(e.body),i=ot.css(n[0],"display");return n.detach(),i}function T(t){var e=X,n=Gt[t];return n||(n=C(t,e),"none"!==n&&n||(Vt=(Vt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Vt[0].contentDocument,e.write(),e.close(),n=C(t,e),Vt.detach()),Gt[t]=n),n}function S(t,e,n){var i,r,o,a,s=t.style;return n=n||Kt(t),a=n?n.getPropertyValue(e)||n[e]:void 0,""!==a&&void 0!==a||ot.contains(t.ownerDocument,t)||(a=ot.style(t,e)),n&&!it.pixelMarginRight()&&Xt.test(a)&&qt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function E(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function O(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function A(t,e,n){var i=Mt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function M(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ot.css(t,n+Pt[o],!0,r)),i?("content"===n&&(a-=ot.css(t,"padding"+Pt[o],!0,r)),"margin"!==n&&(a-=ot.css(t,"border"+Pt[o]+"Width",!0,r))):(a+=ot.css(t,"padding"+Pt[o],!0,r),"padding"!==n&&(a+=ot.css(t,"border"+Pt[o]+"Width",!0,r)));return a}function P(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Kt(t),a="border-box"===ot.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(r=S(t,e,o),(r<0||null==r)&&(r=t.style[e]),Xt.test(r))return r;i=a&&(it.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+M(t,e,n||(a?"border":"content"),i,o)+"px"}function D(t,e){for(var n,i,r,o=[],a=0,s=t.length;a<s;a++)i=t[a],i.style&&(o[a]=Tt.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Dt(i)&&(o[a]=Tt.access(i,"olddisplay",T(i.nodeName)))):(r=Dt(i),"none"===n&&r||Tt.set(i,"olddisplay",r?n:ot.css(i,"display"))));for(a=0;a<s;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function j(t,e,n,i,r){return new j.prototype.init(t,e,n,i,r)}function N(){return t.setTimeout(function(){re=void 0}),re=ot.now()}function L(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=Pt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function I(t,e,n){for(var i,r=(F.tweeners[e]||[]).concat(F.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function R(t,e,n){var i,r,o,a,s,l,c,u,d=this,h={},f=t.style,p=t.nodeType&&Dt(t),m=Tt.get(t,"fxshow");n.queue||(s=ot._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ot.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=ot.css(t,"display"),u="none"===c?Tt.get(t,"olddisplay")||T(t.nodeName):c,"inline"===u&&"none"===ot.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ae.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}h[i]=m&&m[i]||ot.style(t,i)}else c=void 0;if(ot.isEmptyObject(h))"inline"===("none"===c?T(t.nodeName):c)&&(f.display=c);else{m?"hidden"in m&&(p=m.hidden):m=Tt.access(t,"fxshow",{}),o&&(m.hidden=!p),p?ot(t).show():d.done(function(){ot(t).hide()}),d.done(function(){var e;Tt.remove(t,"fxshow");for(e in h)ot.style(t,e,h[e])});for(i in h)a=I(p?m[i]:0,i,d),i in m||(m[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function B(t,e){var n,i,r,o,a;for(n in t)if(i=ot.camelCase(n),r=e[i],o=t[n],ot.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=ot.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function F(t,e,n){var i,r,o=0,a=F.prefilters.length,s=ot.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=re||N(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,n]),o<1&&l?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||N(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ot.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(B(u,c.opts.specialEasing);o<a;o++)if(i=F.prefilters[o].call(c,t,u,c.opts))return ot.isFunction(i.stop)&&(ot._queueHooks(c.elem,c.opts.queue).stop=ot.proxy(i.stop,i)),i;return ot.map(u,I,c),ot.isFunction(c.opts.start)&&c.opts.start.call(t,c),ot.fx.timer(ot.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(t){return t.getAttribute&&t.getAttribute("class")||""}function z(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(wt)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function U(t,e,n,i){function r(s){var l;return o[s]=!0,ot.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=t===Se;return r(e.dataTypes[0])||!o["*"]&&r("*")}function H(t,e){var n,i,r=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ot.extend(!0,t,i),t}function W(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function Y(t,e,n,i){var r,o,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function V(t,e,n,i){var r;if(ot.isArray(e))ot.each(e,function(e,r){n||Me.test(t)?i(t,r):V(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ot.type(e))i(t,e);else for(r in e)V(t+"["+r+"]",e[r],n,i)}function G(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var q=[],X=t.document,K=q.slice,Z=q.concat,Q=q.push,J=q.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},rt="2.2.4",ot=function(t,e){return new ot.fn.init(t,e)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,lt=/-([\da-z])/gi,ct=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return K.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:K.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:q.sort,splice:q.splice},ot.extend=ot.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ot.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(c&&i&&(ot.isPlainObject(i)||(r=ot.isArray(i)))?(r?(r=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},a[e]=ot.extend(c,o,i)):void 0!==i&&(a[e]=i));return a},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=X.createElement("script"),e.text=t,X.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(st,"ms-").replace(lt,ct)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;r<i&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(at,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ot.merge(i,"string"==typeof t?[t]:t):Q.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:J.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;o<a;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,i){var r,o,a=0,s=[];if(n(t))for(r=t.length;a<r;a++)o=e(t[a],a,i),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,i),null!=o&&s.push(o);return Z.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t))return i=K.call(arguments,2),r=function(){return t.apply(e||this,i.concat(K.call(arguments)))},r.guid=t.guid=t.guid||ot.guid++,r},now:Date.now,support:it}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=q[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ut=function(t){function e(t,e,n,i){var r,o,a,s,l,c,d,f,p=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!i&&((e?e.ownerDocument||e:$)!==D&&P(e),e=e||D,N)){if(11!==m&&(c=vt.exec(t)))if(r=c[1]){if(9===m){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&B(e,a)&&a.id===r)return n.push(a),n}else{if(c[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!Y[t+" "]&&(!L||!L.test(t))){if(1!==m)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,"\\$&"):e.setAttribute("id",s=F),d=T(t),o=d.length,l=ht.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=l+" "+h(d[o]);f=d.join(","),p=yt.test(t)&&u(e.parentNode)||e}if(f)try{return Q.apply(n,p.querySelectorAll(f)),n}catch(t){}finally{s===F&&e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=D.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=U++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,c,u=[z,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(c=e[F]||(e[F]={}),l=c[e.uniqueID]||(c[e.uniqueID]={}),(s=l[i])&&s[0]===z&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function g(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),c&&e.push(s)));return a}function v(t,e,n,r,o,a){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,a)),i(function(i,a,s,l){var c,u,d,h=[],f=[],p=a.length,v=i||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:g(v,h,t,s,l),b=n?o||(i?t:p||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(c=g(b,f),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(i){if(o||t){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?tt(i,d):h[u])>-1&&(i[c]=!(a[c]=d))}}else b=g(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],a=o||x.relative[" "],s=o?1:0,l=f(function(t){return t===e},a,!0),c=f(function(t){return tt(e,t)>-1},a,!0),u=[function(t,n,i){var r=!o&&(i||n!==O)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,r}];s<r;s++)if(n=x.relative[t[s].type])u=[f(p(u),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[F]){for(i=++s;i<r&&!x.relative[t[i].type];i++);return v(s>1&&p(u),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&y(t.slice(s,i)),i<r&&y(t=t.slice(i)),i<r&&h(t))}u.push(n)}return p(u)}function b(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,c){var u,d,h,f=0,p="0",m=i&&[],v=[],y=O,b=i||o&&x.find.TAG("*",c),_=z+=null==y?1:Math.random()||.1,w=b.length;for(c&&(O=a===D||a||c);p!==w&&null!=(u=b[p]);p++){if(o&&u){for(d=0,a||u.ownerDocument===D||(P(u),s=!N);h=t[d++];)if(h(u,a||D,s)){l.push(u);break}c&&(z=_)}r&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=K.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return c&&(z=_,O=y),m};return r?i(a):a}var _,w,x,k,C,T,S,E,O,A,M,P,D,j,N,L,I,R,B,F="sizzle"+1*new Date,$=t.document,z=0,U=0,H=n(),W=n(),Y=n(),V=function(t,e){return t===e&&(M=!0),0},G=1<<31,q={}.hasOwnProperty,X=[],K=X.pop,Z=X.push,Q=X.push,J=X.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ht=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){P()};try{Q.apply(X=J.call($.childNodes),$.childNodes),X[$.childNodes.length].nodeType}catch(t){Q={apply:X.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:$;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,j=D.documentElement,N=!C(D),(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(D.getElementsByClassName),w.getById=r(function(t){return j.appendChild(t).id=F,!D.getElementsByName||!D.getElementsByName(F).length}),w.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},I=[],L=[],(w.qsa=gt.test(D.querySelectorAll))&&(r(function(t){j.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||L.push(".#.+[+~]")}),r(function(t){var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=gt.test(R=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&r(function(t){w.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),I.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=gt.test(j.compareDocumentPosition),B=e||gt.test(j.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===D||t.ownerDocument===$&&B($,t)?-1:e===D||e.ownerDocument===$&&B($,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],l=[e];if(!r||!o)return t===D?-1:e===D?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===$?-1:l[i]===$?1:0},D):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&P(t),n=n.replace(ut,"='$1']"),w.matchesSelector&&N&&!Y[n+" "]&&(!I||!I.test(n))&&(!L||!L.test(n)))try{var i=R.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&P(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&P(t);var n=x.attrHandle[e.toLowerCase()],i=n&&q.call(x.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:w.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(M=!w.detectDuplicates,A=!w.sortStable&&t.slice(0),t.sort(V),M){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},k=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(h=g,d=h[F]||(h[F]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[t]||[],f=c[0]===z&&c[1],b=f&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[z,f,b];break}}else if(y&&(h=e,d=h[F]||(h[F]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[t]||[],f=c[0]===z&&c[1],b=f),b===!1)for(;(h=++f&&h&&h[m]||(b=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[F]||(h[F]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),u[t]=[z,b]),h!==e)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=tt(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(st,"$1"));return r[F]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,wt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,wt).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===j},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,T=e.tokenize=function(t,n){var i,r,o,a,s,l,c,u=W[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=x.preFilter;s;){i&&!(r=lt.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ct.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(a in x.filter)!(r=ft[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r
}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):W(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=Y[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)o=y(e[n]),o[F]?i.push(o):r.push(o);o=Y(t,b(r,i)),o.selector=t}return o},E=e.select=function(t,e,n,i){var r,o,a,s,l,c="function"==typeof t&&t,d=!i&&T(t=c.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&N&&x.relative[o[1].type]){if(e=(x.find.ID(a.matches[0].replace(_t,wt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(_t,wt),yt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&h(o),!t)return Q.apply(n,i),n;break}}return(c||S(t,d))(i,e,!N,n,!e||yt.test(t)&&u(e.parentNode)||e),n},w.sortStable=F.split("").sort(V).join("")===F,w.detectDuplicates=!!M,P(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ot.find=ut,ot.expr=ut.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ut.uniqueSort,ot.text=ut.getText,ot.isXMLDoc=ut.isXML,ot.contains=ut.contains;var dt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ot(t).is(n))break;i.push(t)}return i},ht=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ft=ot.expr.match.needsContext,pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;e<n;e++)if(ot.contains(r[e],this))return!0}));for(e=0;e<n;e++)ot.find(t,r[e],i);return i=this.pushStack(n>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ft.test(t)?ot(t):t||[],!1).length}});var gt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=ot.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||gt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:X,!0)),pt.test(i[1])&&ot.isPlainObject(e))for(i in e)ot.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=X.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=X,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};yt.prototype=ot.fn,gt=ot(X);var bt=/^(?:parents|prev(?:Until|All))/,_t={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=ft.test(t)||"string"!=typeof t?ot(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?J.call(ot(t),this[0]):J.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return dt(t,"parentNode")},parentsUntil:function(t,e,n){return dt(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return dt(t,"nextSibling")},prevAll:function(t){return dt(t,"previousSibling")},nextUntil:function(t,e,n){return dt(t,"nextSibling",n)},prevUntil:function(t,e,n){return dt(t,"previousSibling",n)},siblings:function(t){return ht((t.parentNode||{}).firstChild,t)},children:function(t){return ht(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,i){var r=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(_t[t]||ot.uniqueSort(r),bt.test(t)&&r.reverse()),this.pushStack(r)}});var wt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,i,r,a=[],s=[],l=-1,c=function(){for(r=t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},u={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function e(n){ot.each(n,function(n,i){ot.isFunction(i)?t.unique&&u.has(i)||a.push(i):i&&i.length&&"string"!==ot.type(i)&&e(i)})}(arguments),n&&!e&&c()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(t){return t?ot.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=s=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var a=ot.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,i):i}},r={};return i.pipe=i.then,ot.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=K.call(arguments),a=o.length,s=1!==a||t&&ot.isFunction(t.promise)?a:0,l=1===s?t:ot.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?K.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().progress(c(r,n,e)).done(c(r,i,o)).fail(l.reject):--s;return s||l.resolveWith(i,o),l.promise()}});var xt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(xt.resolveWith(X,[ot]),ot.fn.triggerHandler&&(ot(X).triggerHandler("ready"),ot(X).off("ready"))))}}),ot.ready.promise=function(e){return xt||(xt=ot.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?t.setTimeout(ot.ready):(X.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a))),xt.promise(e)},ot.ready.promise();var kt=function(t,e,n,i,r,o,a){var s=0,l=t.length,c=null==n;if("object"===ot.type(n)){r=!0;for(s in n)kt(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ot(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):o},Ct=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};s.uid=1,s.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Ct(t))return{};var e=t[this.expando];return e||(e={},Ct(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?i=e.concat(e.map(ot.camelCase)):(r=ot.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(wt)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var Tt=new s,St=new s,Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ot=/[A-Z]/g;ot.extend({hasData:function(t){return St.hasData(t)||Tt.hasData(t)},data:function(t,e,n){return St.access(t,e,n)},removeData:function(t,e){St.remove(t,e)},_data:function(t,e,n){return Tt.access(t,e,n)},_removeData:function(t,e){Tt.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=St.get(o),1===o.nodeType&&!Tt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),l(o,i,r[i])));Tt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){St.set(this,t)}):kt(this,function(e){var n,i;if(o&&void 0===e){if(n=St.get(o,t)||St.get(o,t.replace(Ot,"-$&").toLowerCase()),void 0!==n)return n;if(i=ot.camelCase(t),n=St.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else i=ot.camelCase(t),this.each(function(){var n=St.get(this,i);St.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&St.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){St.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Tt.get(t,e),n&&(!i||ot.isArray(n)?i=Tt.access(t,e,ot.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,r=n.shift(),o=ot._queueHooks(t,e),a=function(){ot.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Tt.get(t,n)||Tt.access(t,n,{empty:ot.Callbacks("once memory").add(function(){Tt.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ot.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Tt.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var At=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+At+")([a-z%]*)$","i"),Pt=["Top","Right","Bottom","Left"],Dt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},jt=/^(?:checkbox|radio)$/i,Nt=/<([\w:-]+)/,Lt=/^$|\/(?:java|ecma)script/i,It={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};It.optgroup=It.option,It.tbody=It.tfoot=It.colgroup=It.caption=It.thead,It.th=It.td;var Rt=/<|&#?\w+;/;!function(){var t=X.createDocumentFragment(),e=t.appendChild(X.createElement("div")),n=X.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Bt=/^key/,Ft=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$t=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,u,d,h,f,p,m,g=Tt.get(t);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ot.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(wt)||[""],c=e.length;c--;)s=$t.exec(e[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(d=ot.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=ot.event.special[f]||{},u=ot.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&d.setup.call(t,i,p,a)!==!1||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),ot.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,c,u,d,h,f,p,m,g=Tt.hasData(t)&&Tt.get(t);if(g&&(l=g.events)){for(e=(e||"").match(wt)||[""],c=e.length;c--;)if(s=$t.exec(e[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(d=ot.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));a&&!h.length&&(d.teardown&&d.teardown.call(t,p,g.handle)!==!1||ot.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)ot.event.remove(t,f+e[c],n,i,!0);ot.isEmptyObject(l)&&Tt.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,r,o,a=[],s=K.call(arguments),l=(Tt.get(this,"events")||{})[t.type]||[],c=ot.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=ot.event.handlers.call(this,t,l),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((ot.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;n<s;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ot(r,this).index(l)>-1:ot.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||X,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ft.test(r)?this.mouseHooks:Bt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new ot.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=X),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ot.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:p):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ot.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,i){return g(this,t,e,n,i)},one:function(t,e,n,i){return g(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=p),this.each(function(){ot.event.remove(this,t,n,e)})}});var zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ut=/<script|<style|<link/i,Ht=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^true\/(.*)/,Yt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(zt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),l=ot.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(a=u(s),o=u(t),i=0,r=o.length;i<r;i++)w(o[i],a[i]);if(e)if(n)for(o=o||u(t),a=a||u(s),i=0,r=o.length;i<r;i++)_(o[i],a[i]);else _(t,s);return a=u(s,"script"),a.length>0&&d(a,!l&&u(t,"script")),s},cleanData:function(t){for(var e,n,i,r=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(Ct(n)){if(e=n[Tt.expando]){if(e.events)for(i in e.events)r[i]?ot.event.remove(n,i):ot.removeEvent(n,i,e.handle);n[Tt.expando]=void 0}n[St.expando]&&(n[St.expando]=void 0)}}}),ot.fn.extend({domManip:x,detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return kt(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(u(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ut.test(t)&&!It[(Nt.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(u(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(u(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,i=[],r=ot(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),ot(r[a])[e](n),Q.apply(i,n.get());return this.pushStack(i)}});var Vt,Gt={HTML:"block",BODY:"block"},qt=/^margin/,Xt=new RegExp("^("+At+")(?!px)[a-z%]+$","i"),Kt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Zt=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r},Qt=X.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Qt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,Qt.removeChild(a)}var n,i,r,o,a=X.createElement("div"),s=X.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ot.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=s.appendChild(X.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Qt.appendChild(a),e=!parseFloat(t.getComputedStyle(n).marginRight),Qt.removeChild(a),s.removeChild(n),e}}))}();var Jt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=X.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=S(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=ot.camelCase(e),l=t.style;return e=ot.cssProps[s]||(ot.cssProps[s]=O(s)||s),a=ot.cssHooks[e]||ot.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e]:(o=typeof n,"string"===o&&(r=Mt.exec(n))&&r[1]&&(n=c(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ot.cssNumber[s]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=ot.camelCase(e);return e=ot.cssProps[s]||(ot.cssProps[s]=O(s)||s),a=ot.cssHooks[e]||ot.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=S(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,i){if(n)return Jt.test(ot.css(t,"display"))&&0===t.offsetWidth?Zt(t,te,function(){return P(t,e,i)}):P(t,e,i)},set:function(t,n,i){var r,o=i&&Kt(t),a=i&&M(t,e,i,"border-box"===ot.css(t,"boxSizing",!1,o),o);return a&&(r=Mt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),A(t,n,a)}}}),ot.cssHooks.marginLeft=E(it.reliableMarginLeft,function(t,e){if(e)return(parseFloat(S(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ot.cssHooks.marginRight=E(it.reliableMarginRight,function(t,e){if(e)return Zt(t,{display:"inline-block"},S,[t,"marginRight"])}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Pt[i]+e]=o[i]||o[i-2]||o[0];return r}},qt.test(t)||(ot.cssHooks[t+e].set=A)}),ot.fn.extend({css:function(t,e){return kt(this,function(t,e,n){var i,r,o={},a=0;if(ot.isArray(e)){for(i=Kt(t),r=e.length;a<r;a++)o[e[a]]=ot.css(t,e[a],!1,i);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Dt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=j,j.prototype={constructor:j,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,n=j.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=j.prototype.init,ot.fx.step={};var re,oe,ae=/^(?:toggle|show|hide)$/,se=/queueHooks$/;ot.Animation=ot.extend(F,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return c(n.elem,t,Mt.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],F.tweeners[n]=F.tweeners[n]||[],F.tweeners[n].unshift(e)},prefilters:[R],prefilter:function(t,e){e?F.prefilters.unshift(t):F.prefilters.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ot.isEmptyObject(t),o=ot.speed(e,n,i),a=function(){var e=F(this,ot.extend({},t),o);(r||Tt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ot.timers,a=Tt.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&se.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Tt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ot.timers,a=i?i.length:0;for(n.finish=!0,ot.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,i,r)}}),ot.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(re=ot.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),re=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=X.createElement("input"),e=X.createElement("select"),n=e.appendChild(X.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=X.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var le,ce=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return kt(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),r=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ot.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){
var n,i,r=0,o=e&&e.match(wt);if(o&&1===t.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),le={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ce[e]||ot.find.attr;ce[e]=function(t,e,i){var r,o;return i||(o=ce[e],ce[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ce[e]=o),r}});var ue=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return kt(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,r=ot.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):ue.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),it.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var he=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,$(this)))});if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[l++];)if(r=$(n),i=1===n.nodeType&&(" "+r+" ").replace(he," ")){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=ot.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,$(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[l++];)if(r=$(n),i=1===n.nodeType&&(" "+r+" ").replace(he," ")){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=ot.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,$(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ot(this),o=t.match(wt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=$(this),e&&Tt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Tt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+$(n)+" ").replace(he," ").indexOf(e)>-1)return!0;return!1}});var fe=/\r/g,pe=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=ot.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ot(this).val()):t,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(fe,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(pe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(n=i[l],(n.selected||l===r)&&(it.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=ot.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=ot.inArray(ot.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){if(ot.isArray(e))return t.checked=ot.inArray(ot(t).val(),e)>-1}},it.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var me=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,i,r){var o,a,s,l,c,u,d,h=[i||X],f=nt.call(e,"type")?e.type:e,p=nt.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!me.test(f+ot.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,e=e[ot.expando]?e:new ot.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ot.makeArray(n,[e]),d=ot.event.special[f]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!ot.isWindow(i)){for(l=d.delegateType||f,me.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(i.ownerDocument||X)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||f,u=(Tt.get(a,"events")||{})[e.type]&&Tt.get(a,"handle"),u&&u.apply(a,n),u=c&&a[c],u&&u.apply&&Ct(a)&&(e.result=u.apply(a,n),e.result===!1&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Ct(i)||c&&ot.isFunction(i[f])&&!ot.isWindow(i)&&(s=i[c],s&&(i[c]=null),ot.event.triggered=f,i[f](),ot.event.triggered=void 0,s&&(i[c]=s)),e.result}},simulate:function(t,e,n){var i=ot.extend(new ot.Event,n,{type:t,isSimulated:!0});ot.event.trigger(i,null,e)}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ot.event.trigger(t,e,n,!0)}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Tt.access(i,e);r||i.addEventListener(t,n,!0),Tt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Tt.access(i,e)-1;r?Tt.access(i,e,r):(i.removeEventListener(t,n,!0),Tt.remove(i,e))}}});var ge=t.location,ve=ot.now(),ye=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),n};var be=/#.*$/,_e=/([?&])_=[^&]*/,we=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ke=/^(?:GET|HEAD)$/,Ce=/^\/\//,Te={},Se={},Ee="*/".concat("*"),Oe=X.createElement("a");Oe.href=ge.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:xe.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ee,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,ot.ajaxSettings),e):H(ot.ajaxSettings,t)},ajaxPrefilter:z(Te),ajaxTransport:z(Se),ajax:function(e,n){function i(e,n,i,s){var c,d,y,b,w,k=n;2!==_&&(_=2,l&&t.clearTimeout(l),r=void 0,a=s||"",x.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(b=W(h,x,i)),b=Y(h,b,x,c),c?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ot.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(ot.etag[o]=w)),204===e||"HEAD"===h.type?k="nocontent":304===e?k="notmodified":(k=b.state,d=b.data,y=b.error,c=!y)):(y=k,!e&&k||(k="error",e<0&&(e=0))),x.status=e,x.statusText=(n||k)+"",c?m.resolveWith(f,[d,k,x]):m.rejectWith(f,[x,k,y]),x.statusCode(v),v=void 0,u&&p.trigger(c?"ajaxSuccess":"ajaxError",[x,h,c?d:y]),g.fireWith(f,[x,k]),u&&(p.trigger("ajaxComplete",[x,h]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,l,c,u,d,h=ot.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?ot(f):ot.event,m=ot.Deferred(),g=ot.Callbacks("once memory"),v=h.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!s)for(s={};e=we.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return _||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),i(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||ge.href)+"").replace(be,"").replace(Ce,ge.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ot.trim(h.dataType||"*").toLowerCase().match(wt)||[""],null==h.crossDomain){c=X.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Oe.protocol+"//"+Oe.host!=c.protocol+"//"+c.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ot.param(h.data,h.traditional)),U(Te,h,n,x),2===_)return x;u=ot.event&&h.global,u&&0===ot.active++&&ot.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ke.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(ye.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=_e.test(o)?o.replace(_e,"$1_="+ve++):o+(ye.test(o)?"&":"?")+"_="+ve++)),h.ifModified&&(ot.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&x.setRequestHeader("If-None-Match",ot.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ee+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===_))return x.abort();w="abort";for(d in{success:1,error:1,complete:1})x[d](h[d]);if(r=U(Se,h,n,x)){if(x.readyState=1,u&&p.trigger("ajaxSend",[x,h]),2===_)return x;h.async&&h.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},h.timeout));try{_=1,r.send(y,i)}catch(t){if(!(_<2))throw t;i(-1,t)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:r,data:n,success:i},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Ae=/%20/g,Me=/\[\]$/,Pe=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,je=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],r=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){r(this.name,this.value)});else for(n in t)V(n,t[n],e,r);return i.join("&").replace(Ae,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&je.test(this.nodeName)&&!De.test(t)&&(this.checked||!jt.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(Pe,"\r\n")}}):{name:e.name,value:n.replace(Pe,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ne={0:200,1223:204},Le=ot.ajaxSettings.xhr();it.cors=!!Le&&"withCredentials"in Le,it.ajax=Le=!!Le,ot.ajaxTransport(function(e){var n,i;if(it.cors||Le&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ne[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),X.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ie=[],Re=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ie.pop()||ot.expando+"_"+ve++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(Re.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Re.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Re,"$1"+r):e.jsonp!==!1&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||ot.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?ot(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ie.push(r)),a&&ot.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||X;var i=pt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=h([t],e,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var Be=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&Be)return Be.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=ot.trim(t.slice(s)),t=t.slice(0,s)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&ot.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,c,u=ot.css(t,"position"),d=ot(t),h={};"static"===u&&(t.style.position="relative"),s=d.offset(),o=ot.css(t,"top"),l=ot.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):d.css(h)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,ot.contains(e,i)?(r=i.getBoundingClientRect(),n=G(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(i=t.offset()),i.top+=ot.css(t[0],"borderTopWidth",!0),i.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ot.css(n,"marginTop",!0),left:e.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Qt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(i){return kt(this,function(t,i,r){var o=G(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=E(it.pixelPosition,function(t,n){if(n)return n=S(t,e),Xt.test(n)?ot(t).position()[e]+"px":n})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return kt(this,function(e,n,i){var r;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ot.css(e,n,a):ot.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var Fe=t.jQuery,$e=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=$e),e&&t.jQuery===ot&&(t.jQuery=Fe),ot},e||(t.jQuery=t.$=ot),ot}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(i){var r,o,a,s,l,c;if(n.fire(i,"ajax:before")){if(s=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),a=t(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(a.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);return c={type:r||"GET",data:a,dataType:l,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!!n.fire(i,"ajax:beforeSend",[t,r])&&void i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(o)},s&&(c.xhrFields={withCredentials:s}),o&&(c.url=o),n.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(t){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=n.csrfToken(),l=n.csrfParam(),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l===e||s===e||n.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",i=t.data("disable-with"),i!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),r=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{r=n.confirm(i)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,n,i){var r,o,a,s,l=t(),c=n||"input,textarea",u=e.find(c),d={};return u.each(function(){r=t(this),r.is("input[type=radio]")?(s=r.attr("name"),d[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(a=e.find('input[type=radio][name="'+s+'"]'),l=l.add(a)),d[s]=s)):(o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),o===i&&(l=l.add(r)))}),!!l.length&&l},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),i.on("click.rails",n.linkClickSelector,function(e){var i=t(this),r=i.data("method"),o=i.data("params"),a=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(a&&(!r||"GET"===r)&&!o)return!0;var s=n.handleRemote(i);return s===!1?n.enableElement(i):s.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.on("submit.rails",n.formSubmitSelector,function(i){var r,o,a=t(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if(r=n.blankInputs(a,n.requiredInputSelector,!1),r&&n.fire(a,"ajax:aborted:required",[r]))return n.stopEverything(i)}else a.data("ujs:formnovalidate-button",e);if(s){if(o=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.on("click.rails",n.formInputClickSelector,function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null,a=i.closest("form");0===a.length&&(a=t("#"+i.attr("form"))),a.data("ujs:submit-button",o),a.data("ujs:formnovalidate-button",i.attr("formnovalidate")),a.data("ujs:submit-button-formaction",i.attr("formaction")),a.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,n=t(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.bottom,s=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom()),e=!(null!=this.unpin&&i+this.unpin<=r.top)&&(null!=a&&r.top+this.$element.height()>=n-a?"bottom":null!=s&&i<=s&&"top"),this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),r=i.data("affix"),o="object"==typeof n&&n;r||i.data("affix",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){i.trigger("closed").remove()}var i,r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=t(o),e&&e.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(e=t.Event("close")),e.isDefaultPrevented()||(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.on(t.support.transition.end,n):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),r=i.data("button"),o="object"==typeof n&&n;r||i.data("button",r=new e(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),
n.button("toggle")})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),i=this;if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(e,n){var i,r=this.$element.find(".item.active"),o=n||r[e](),a=this.interval,s="next"==e?"left":"right",l="next"==e?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=t.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,r.addClass(s),o.addClass(s),this.$element.one(t.support.transition.end,function(){o.removeClass([e,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),r=i.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("carousel",r=new e(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i,r=t(this),o=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},o.data(),r.data());o.carousel(a),(i=r.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),e.preventDefault()})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,i){var r=this,o=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),r=i.data("collapse"),o=t.extend({},t.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),r=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(r).data("collapse")?"toggle":i.data();i[t(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(r).collapse(o)})}(window.jQuery),!function(t){"use strict";function e(){t(".dropdown-backdrop").remove(),t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,i=e.attr("data-target");return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&t(i),n&&n.length||(n=e.parent()),n}var i="[data-toggle=dropdown]",r=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,o=t(this);if(!o.is(".disabled, :disabled"))return i=n(o),r=i.hasClass("open"),e(),r||("ontouchstart"in document.documentElement,i.toggleClass("open")),o.focus(),!1},keydown:function(e){var r,o,a,s,l;if(/(38|40|27)/.test(e.keyCode)&&(r=t(this),e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled"))){if(a=n(r),s=a.hasClass("open"),!s||s&&27==e.keyCode)return 27==e.which&&a.find(i).focus(),r.click();o=t("[role=menu] li:not(.divider):visible a",a),o.length&&(l=o.index(o.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init(t,e)};e.prototype={constructor:e,init:function(e,n){var i=this;this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote,function(){var e=t.Event("loaded");i.$element.trigger(e)});var r="function"==typeof this.options.manager?this.options.manager.call(this):this.options.manager;r=r.appendModal?r:t(r).modalmanager().data("modalmanager"),r.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=t.Event("show");this.isShown||(this.$element.trigger(e),e.isDefaultPrevented()||(this.escape(),this.tab(),this.options.loading&&this.loading()))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.tab(),this.isLoading&&this.loading(),t(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},layout:function(){var e=this.options.height?"height":"max-height",n=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var i=this;this.$element.css("margin-left",function(){return/%/gi.test(i.options.width)?-(parseInt(i.options.width)/2)+"%":-(t(this).width()/2)+"px"})}else this.$element.css("width",""),this.$element.css("margin-left","");this.$element.find(".modal-body").css("overflow","").css(e,""),n&&this.$element.find(".modal-body").css("overflow","auto").css(e,n);var r=t(window).height()-10<this.$element.height();r||this.options.modalOverflow?this.$element.css("margin-top",0).addClass("modal-overflow"):this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")},tab:function(){var e=this;this.isShown&&this.options.consumeTab?this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(n){if(n.keyCode&&9==n.keyCode){var i=[],r=Number(t(this).data("tabindex"));e.$element.find("[data-tabindex]:enabled:visible:not([readonly])").each(function(){i.push(Number(t(this).data("tabindex")))}),i.sort(function(t,e){return t-e});var o=t.inArray(r,i);n.shiftKey?0==o?e.$element.find("[data-tabindex="+i[i.length-1]+"]").focus():e.$element.find("[data-tabindex="+i[o-1]+"]").focus():o<i.length-1?e.$element.find("[data-tabindex="+i[o+1]+"]").focus():e.$element.find("[data-tabindex="+i[0]+"]").focus(),n.preventDefault()}}):this.isShown||this.$element.off("keydown.tabindex.modal")},escape:function(){var t=this;this.isShown&&this.options.keyboard?(this.$element.attr("tabindex")||this.$element.attr("tabindex",-1),this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this.options.height?"height":"max-height",e=this.options.height||this.options.maxHeight;e&&this.$element.find(".modal-body").css("overflow","").css(t,""),this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove(),this.$loading=null,this.isLoading=!1},loading:function(e){e=e||function(){};var n=this.$element.hasClass("fade")?"fade":"";if(this.isLoading)if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var i=this;t.support.transition&&this.$element.hasClass("fade")?this.$loading.one(t.support.transition.end,function(){i.removeLoading()}):i.removeLoading()}else e&&e(this.isLoading);else{var r=t.support.transition&&n;this.$loading=t('<div class="loading-mask '+n+'">').append(this.options.spinner).appendTo(this.$element),r&&this.$loading[0].offsetWidth,this.$loading.addClass("in"),this.isLoading=!0,r?this.$loading.one(t.support.transition.end,e):e()}},focus:function(){var t=this.$element.find(this.options.focusOn);t=t.length?t:this.$element,t.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var t=this;setTimeout(function(){t.$element.addClass("animated").addClass(t.options.attentionAnimation)},0)}this.focus()},destroy:function(){var e=t.Event("destroy");this.$element.trigger(e),e.isDefaultPrevented()||(this.$element.off(".modal").removeData("modal").removeClass("in").attr("aria-hidden",!0),this.$parent!==this.$element.parent()?this.$element.appendTo(this.$parent):this.$parent.length||(this.$element.remove(),this.$element=null),this.$element.trigger("destroyed"))}},t.fn.modal=function(n,i){return this.each(function(){var r=t(this),o=r.data("modal"),a=t.extend({},t.fn.modal.defaults,r.data(),"object"==typeof n&&n);o||r.data("modal",o=new e(this,a)),"string"==typeof n?o[n].apply(o,[].concat(i)):a.show&&o.show()})},t.fn.modal.defaults={keyboard:!0,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!0,focusOn:null,replace:!1,resize:!1,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},t.fn.modal.Constructor=e,t(function(){t(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),r=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),n.data());e.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})})}(window.jQuery),!function(t){"use strict";function e(e,n){var i,r=t.proxy(this.process,this),o=t(t(e).is("body")?window:e);this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=t(e).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,n=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),r=/^#\w/.test(i)&&t(i);return r&&r.length&&[[r.position().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(e>=i)return a!=(t=o.last()[0])&&this.activate(t);for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},activate:function(e){var n,i;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),r=i.data("scrollspy"),o="object"==typeof n&&n;r||i.data("scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(e=o.find(".active:last a")[0],i=t.Event("show",{relatedTarget:e}),r.trigger(i),i.isDefaultPrevented()||(n=t(a),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,r):r(),o.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),r=i.data("tab");r||i.data("tab",r=new e(this)),"string"==typeof n&&r[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var r,o,a,s,l;for(this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" "),l=a.length;l--;)s=a[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,i=t.fn[this.type].defaults,r={};return this._options&&t.each(this._options,function(t,e){i[t]!=e&&(r[t]=e)},this),n=t(e.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",void(this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show))):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var e,n,i,r,o,a,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,r=e[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,r,o,a=this.tip(),s=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,o=!0),"bottom"==e||"top"==e?(r=0,t.left<0&&(r=t.left*-2,t.left=0,a.offset(t),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&a.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),i=t.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],i=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?i.push(e):r.push(e):n.push(e);return n.concat(i,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,i){return e=t(n.options.item).attr("data-value",i),e.find("a").html(n.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),n=e.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var i=t(this),r=i.data("typeahead"),o="object"==typeof n&&n;r||i.data("typeahead",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),!function(t){"use strict";function e(t){return function(e){if(e&&this===e.target)return t.apply(this,arguments)}}var n=function(t,e){this.init(t,e)};n.prototype={constructor:n,init:function(e,n){if(this.$element=t(e),this.options=t.extend({},t.fn.modalmanager.defaults,this.$element.data(),"object"==typeof n&&n),this.stack=[],this.backdropCount=0,this.options.resize){var i,r=this;t(window).on("resize.modal",function(){i&&clearTimeout(i),i=setTimeout(function(){for(var t=0;t<r.stack.length;t++)r.stack[t].isShown&&r.stack[t].layout()},10)})}},createModal:function(e,n){t(e).modal(t.extend({manager:this},n))},appendModal:function(n){this.stack.push(n);var i=this;n.$element.on("show.modalmanager",e(function(){var e=function(){n.isShown=!0;var e=t.support.transition&&n.$element.hasClass("fade");i.$element.toggleClass("modal-open",i.hasOpenModal()).toggleClass("page-overflow",t(window).height()<i.$element.height()),n.$parent=n.$element.parent(),n.$container=i.createContainer(n),n.$element.appendTo(n.$container),i.backdrop(n,function(){n.$element.show(),e&&n.$element[0].offsetWidth,n.layout(),n.$element.addClass("in").attr("aria-hidden",!1);var r=function(){i.setFocus(),n.$element.trigger("shown")};e?n.$element.one(t.support.transition.end,r):r()})};n.options.replace?i.replace(e):e()})),n.$element.on("hidden.modalmanager",e(function(){if(i.backdrop(n),n.$element.parent().length)if(n.$backdrop){var e=t.support.transition&&n.$element.hasClass("fade");e&&n.$element[0].offsetWidth,t.support.transition&&n.$element.hasClass("fade")?n.$backdrop.one(t.support.transition.end,function(){n.destroy()}):n.destroy()}else n.destroy();else i.destroyModal(n)})),n.$element.on("destroyed.modalmanager",e(function(){i.destroyModal(n)}))},getOpenModals:function(){for(var t=[],e=0;e<this.stack.length;e++)this.stack[e].isShown&&t.push(this.stack[e]);return t},hasOpenModal:function(){return this.getOpenModals().length>0},setFocus:function(){for(var t,e=0;e<this.stack.length;e++)this.stack[e].isShown&&(t=this.stack[e]);t&&t.focus()},destroyModal:function(t){t.$element.off(".modalmanager"),t.$backdrop&&this.removeBackdrop(t),this.stack.splice(this.getIndexOfModal(t),1);var e=this.hasOpenModal();this.$element.toggleClass("modal-open",e),e||this.$element.removeClass("page-overflow"),this.removeContainer(t),this.setFocus()},getModalAt:function(t){return this.stack[t]},getIndexOfModal:function(t){for(var e=0;e<this.stack.length;e++)if(t===this.stack[e])return e},replace:function(n){for(var i,r=0;r<this.stack.length;r++)this.stack[r].isShown&&(i=this.stack[r]);i?(this.$backdropHandle=i.$backdrop,i.$backdrop=null,n&&i.$element.one("hidden",e(t.proxy(n,this))),i.hide()):n&&n()},removeBackdrop:function(t){t.$backdrop.remove(),t.$backdrop=null},createBackdrop:function(e,n){var i;return this.$backdropHandle?(i=this.$backdropHandle,i.off(".modalmanager"),this.$backdropHandle=null,this.isLoading&&this.removeSpinner()):i=t(n).addClass(e).appendTo(this.$element),i},removeContainer:function(t){t.$container.remove(),t.$container=null},createContainer:function(n){var r;return r=t('<div class="modal-scrollable">').css("z-index",i("modal",this.getOpenModals().length)).appendTo(this.$element),n&&"static"!=n.options.backdrop?r.on("click.modal",e(function(){n.hide()})):n&&r.on("click.modal",e(function(){n.attention()})),r},backdrop:function(e,n){var r=e.$element.hasClass("fade")?"fade":"",o=e.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(e.isShown&&o){var a=t.support.transition&&r&&!this.$backdropHandle;e.$backdrop=this.createBackdrop(r,e.options.backdropTemplate),e.$backdrop.css("z-index",i("backdrop",this.getOpenModals().length)),a&&e.$backdrop[0].offsetWidth,e.$backdrop.addClass("in"),this.backdropCount+=1,a?e.$backdrop.one(t.support.transition.end,n):n()}else if(!e.isShown&&e.$backdrop){e.$backdrop.removeClass("in"),this.backdropCount-=1;var s=this;t.support.transition&&e.$element.hasClass("fade")?e.$backdrop.one(t.support.transition.end,function(){s.removeBackdrop(e)}):s.removeBackdrop(e)}else n&&n()},removeSpinner:function(){this.$spinner&&this.$spinner.remove(),this.$spinner=null,this.isLoading=!1},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove(),this.$backdropHandle=null,this.removeSpinner()},loading:function(e){if(e=e||function(){},this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",t(window).height()<this.$element.height()),this.isLoading)if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var n=this;t.support.transition?this.$backdropHandle.one(t.support.transition.end,function(){n.removeLoading()}):n.removeLoading()}else e&&e(this.isLoading);else{this.$backdropHandle=this.createBackdrop("fade",this.options.backdropTemplate),this.$backdropHandle[0].offsetWidth;var r=this.getOpenModals();this.$backdropHandle.css("z-index",i("backdrop",r.length+1)).addClass("in");var o=t(this.options.spinner).css("z-index",i("modal",r.length+1)).appendTo(this.$element).addClass("in");this.$spinner=t(this.createContainer()).append(o).on("click.modalmanager",t.proxy(this.loading,this)),this.isLoading=!0,t.support.transition?this.$backdropHandle.one(t.support.transition.end,e):e()}}};var i=function(){var e,n={};return function(i,r){if("undefined"==typeof e){var o=t('<div class="modal hide" />').appendTo("body"),a=t('<div class="modal-backdrop hide" />').appendTo("body");n.modal=+o.css("z-index"),n.backdrop=+a.css("z-index"),e=n.modal-n.backdrop,o.remove(),a.remove(),a=o=null}return n[i]+e*r}}();t.fn.modalmanager=function(e,i){
return this.each(function(){var r=t(this),o=r.data("modalmanager");o||r.data("modalmanager",o=new n(this,e)),"string"==typeof e&&o[e].apply(o,[].concat(i))})},t.fn.modalmanager.defaults={backdropLimit:999,resize:!0,spinner:'<div class="loading-spinner fade" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},t.fn.modalmanager.Constructor=n,t(function(){t(document).off("show.bs.modal").off("hidden.bs.modal")})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.toggle"),o="object"==typeof e&&e;r||i.data("bs.toggle",r=new n(this,o)),"string"==typeof e&&r[e]&&r[e]()})}var n=function(e,n){this.$element=t(e),this.options=t.extend({},this.defaults(),n),this.render()};n.VERSION="2.2.0",n.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"default",size:"normal",style:"",width:null,height:null},n.prototype.defaults=function(){return{on:this.$element.attr("data-on")||n.DEFAULTS.on,off:this.$element.attr("data-off")||n.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||n.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||n.DEFAULTS.offstyle,size:this.$element.attr("data-size")||n.DEFAULTS.size,style:this.$element.attr("data-style")||n.DEFAULTS.style,width:this.$element.attr("data-width")||n.DEFAULTS.width,height:this.$element.attr("data-height")||n.DEFAULTS.height}},n.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var e="large"===this.options.size?"btn-large":"small"===this.options.size?"btn-small":"mini"===this.options.size?"btn-mini":"",n=t('<label class="btn">').html(this.options.on).addClass(this._onstyle+" "+e),i=t('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+e+" active"),r=t('<span class="toggle-handle btn btn-default">').addClass(e),o=t('<div class="toggle-group">').append(n,i,r),a=t('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(e).addClass(this.options.style);this.$element.wrap(a),t.extend(this,{$toggle:this.$element.parent(),$toggleOn:n,$toggleOff:i,$toggleGroup:o}),this.$toggle.append(o);var s=this.options.width||Math.max(n.width(),i.width())+r.outerWidth()/2,l=this.options.height||Math.max(n.height(),i.height());n.addClass("toggle-on"),i.addClass("toggle-off"),this.$toggle.css({width:s,height:l}),this.options.height&&(n.css("line-height",n.height()+"px"),i.css("line-height",i.height()+"px")),this.update(!0),this.trigger(!0)},n.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},n.prototype.on=function(t){return!this.$element.prop("disabled")&&(this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),void(t||this.trigger()))},n.prototype.off=function(t){return!this.$element.prop("disabled")&&(this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),void(t||this.trigger()))},n.prototype.enable=function(){this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},n.prototype.disable=function(){this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},n.prototype.update=function(t){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on(t):this.off(t)},n.prototype.trigger=function(e){this.$element.off("change.bs.toggle"),e||this.$element.change(),this.$element.on("change.bs.toggle",t.proxy(function(){this.update()},this))},n.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var i=t.fn.bootstrapToggle;t.fn.bootstrapToggle=e,t.fn.bootstrapToggle.Constructor=n,t.fn.toggle.noConflict=function(){return t.fn.bootstrapToggle=i,this},t(function(){t("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()}),t(document).on("click.bs.toggle","div[data-toggle^=toggle]",function(e){var n=t(this).find("input[type=checkbox]");n.bootstrapToggle("toggle"),e.preventDefault()})}(jQuery),function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var n=t([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(e){var n=t(document.createTextNode(""));e.before(n),n.before(e),n.remove()}function i(t){function e(t){return $[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function r(t,e){for(var n=0,i=e.length;n<i;n+=1)if(a(t,e[n]))return n;return-1}function o(){var e=t(F);e.appendTo(document.body);var n={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),n}function a(t,n){return t===n||t!==e&&n!==e&&(null!==t&&null!==n&&(t.constructor===String?t+""==n+"":n.constructor===String&&n+""==t+""))}function s(t,e,n){var i,r,o;if(null===t||t.length<1)return[];for(i=t.split(e),r=0,o=i.length;r<o;r+=1)i[r]=n(i[r]);return i}function l(t){return t.outerWidth(!1)-t.width()}function c(n){var i="keyup-change-value";n.on("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.on("keyup",function(){var r=t.data(n,i);r!==e&&n.val()!==r&&(t.removeData(n,i),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var i=R;i!==e&&i.x===n.pageX&&i.y===n.pageY||t(n.target).trigger("mousemove-filtered",n)})}function d(t,n,i){i=i||e;var r;return function(){var e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,e)},t)}}function h(t,e){var n=d(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){r(t.target,e.get())>=0&&n(t)})}function f(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],i=t.val().length;t.focus();var r=n.offsetWidth>0||n.offsetHeight>0;r&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var n=0,i=0;if("selectionStart"in e)n=e.selectionStart,i=e.selectionEnd-n;else if("selection"in document){e.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-e.value.length),n=r.text.length-i}return{offset:n,length:i}}function m(t){t.preventDefault(),t.stopPropagation()}function g(t){t.preventDefault(),t.stopImmediatePropagation()}function v(e){if(!N){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);N=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),N.attr("class","select2-sizer"),t(document.body).append(N)}return N.text(e.val()),N.width()}function y(e,n,i){var r,o,a=[];r=t.trim(e.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),r=t.trim(n.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&a.push(o))})),e.attr("class",a.join(" "))}function b(t,e,n,r){var o=i(t.toUpperCase()).indexOf(i(e.toUpperCase())),a=e.length;return o<0?void n.push(r(t)):(n.push(r(t.substring(0,o))),n.push("<span class='select2-match'>"),n.push(r(t.substring(o,o+a))),n.push("</span>"),void n.push(r(t.substring(o+a,t.length))))}function _(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function w(n){var i,r=null,o=n.quietMillis||100,a=n.url,s=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,o=a,c=n.transport||t.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||e,dataType:n.dataType||"json"},d=t.extend({},t.fn.select2.ajaxDefaults.params,u);i=i?i.call(s,l.term,l.page,l.context):null,o="function"==typeof o?o.call(s,l.term,l.page,l.context):o,r&&"function"==typeof r.abort&&r.abort(),n.params&&(t.isFunction(n.params)?t.extend(d,n.params.call(s)):t.extend(d,n.params)),t.extend(d,{url:o,dataType:n.dataType,data:i,success:function(t){var e=n.results(t,l.page,l);l.callback(e)},error:function(t,e,n){var i={hasError:!0,jqXHR:t,textStatus:e,errorThrown:n};l.callback(i)}}),r=c.call(s,d)},o)}}function x(e){var n,i,r=e,o=function(t){return""+t.text};t.isArray(r)&&(i=r,r={results:i}),t.isFunction(r)===!1&&(i=r,r=function(){return i});var a=r();return a.text&&(o=a.text,t.isFunction(o)||(n=a.text,o=function(t){return t[n]})),function(e){var n,i=e.term,a={results:[]};return""===i?void e.callback(r()):(n=function(r,a){var s,l;if(r=r[0],r.children){s={};for(l in r)r.hasOwnProperty(l)&&(s[l]=r[l]);s.children=[],t(r.children).each2(function(t,e){n(e,s.children)}),(s.children.length||e.matcher(i,o(s),r))&&a.push(s)}else e.matcher(i,o(r),r)&&a.push(r)},t(r().results).each2(function(t,e){n(e,a.results)}),void e.callback(a))}}function k(n){var i=t.isFunction(n);return function(r){var o=r.term,a={results:[]},s=i?n(r):n;t.isArray(s)&&(t(s).each(function(){var t=this.text!==e,n=t?this.text:this;(""===o||r.matcher(o,n))&&a.results.push(t?this:{id:this,text:this})}),r.callback(a))}}function C(e,n){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(n+" must be a string, function, or falsy value")}function T(e,n){if(t.isFunction(e)){var i=Array.prototype.slice.call(arguments,2);return e.apply(n,i)}return e}function S(e){var n=0;return t.each(e,function(t,e){e.children?n+=S(e.children):n++}),n}function E(t,n,i,r){var o,s,l,c,u,d=t,h=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return e;for(;;){for(s=-1,l=0,c=r.tokenSeparators.length;l<c&&(u=r.tokenSeparators[l],s=t.indexOf(u),!(s>=0));l++);if(s<0)break;if(o=t.substring(0,s),t=t.substring(s+u.length),o.length>0&&(o=r.createSearchChoice.call(this,o,n),o!==e&&null!==o&&r.id(o)!==e&&null!==r.id(o))){for(h=!1,l=0,c=n.length;l<c;l++)if(a(r.id(o),r.id(n[l]))){h=!0;break}h||i(o)}}return d!==t?t:void 0}function O(){var e=this;t.each(arguments,function(t,n){e[n].remove(),e[n]=null})}function A(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(window.Select2===e){var M,P,D,j,N,L,I,R={x:0,y:0},B={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case B.LEFT:case B.RIGHT:case B.UP:case B.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case B.SHIFT:case B.CTRL:case B.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&t<=123}},F="<div class='select2-measure-scrollbar'></div>",$={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};L=t(document),j=function(){var t=1;return function(){return t++}}(),M=A(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,r,a=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+j()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=t(document.body),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(T(n.containerCss,this.opts.element)),this.container.addClass(T(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=i=this.container.find(a),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),u(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),h(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&i.mousewheel(function(t,e,n,r){var o=i.scrollTop();r>0&&o-r<=0?(i.scrollTop(0),m(t)):r<0&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),m(t))}),c(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===e&&(s=!1),this.enable(!s);var l=n.element.prop("readonly");l===e&&(l=!1),this.readonly(l),I=I||o(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,n=t.data("select2"),i=this;this.close(),t.length&&t[0].detachEvent&&i._sync&&t.each(function(){i._sync&&this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==e&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),t.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),O.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:a(t.attr("locked"),"locked")||a(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(n){var i,r,o,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,r,o){var a,s=this.opts.id,l=this.liveRegion;(a=function(i,r,u){var d,h,f,p,m,g,v,y,b,_;i=n.sortResults(i,r,o);var w=[];for(d=0,h=i.length;d<h;d+=1)f=i[d],m=f.disabled===!0,p=!m&&s(f)!==e,g=f.children&&f.children.length>0,v=t("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(p?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(f)),v.attr("role","presentation"),y=t(document.createElement("div")),y.addClass("select2-result-label"),y.attr("id","select2-result-label-"+j()),y.attr("role","option"),_=n.formatResult(f,y,o,c.opts.escapeMarkup),_!==e&&(y.html(_),v.append(y)),g&&(b=t("<ul></ul>"),b.addClass("select2-result-sub"),a(f.children,b,u+1),v.append(b)),v.data("select2-data",f),w.push(v[0]);r.append(w),l.text(n.formatMatches(i.length))})(r,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(o=n.id,n.id=function(t){return t[o]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(t){var n,r,o,a={results:[],more:!1},s=t.term;o=function(e,n){var i;e.is("option")?t.matcher(s,e.text(),e)&&n.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(t,e){o(e,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==e&&n.length>0&&(r=this.getPlaceholderOption(),r&&(n=n.not(r))),n.each2(function(t,e){o(e,a.results)}),t.callback(a)}),n.id=function(t){return t.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=w.call(n.element,n.ajax)):"data"in n?n.query=x(n.data):"tags"in n&&(n.query=k(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),n.initSelection===e&&(n.initSelection=function(e,i){var r=[];t(s(e.val(),n.separator,n.transformVal)).each(function(){var e={id:this,text:this},i=n.tags;t.isFunction(i)&&(i=i()),t(i).each(function(){if(a(this.id,e.id))return e=this,!1}),r.push(e)}),i(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,i=this.opts.element,r=this;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var t=i.prop("disabled");t===e&&(t=!1),this.enable(!t);var n=i.prop("readonly");n===e&&(n=!1),this.readonly(n),this.container&&(y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass,this.opts.element)))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",r._sync)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(e){t.each(e,r._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var n=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i,r,o,a=this.dropdown,s=this.container,l=s.offset(),c=s.outerHeight(!1),u=s.outerWidth(!1),d=a.outerHeight(!1),h=t(window),f=h.width(),p=h.height(),m=h.scrollLeft()+f,g=h.scrollTop()+p,v=l.top+c,y=l.left,b=v+d<=g,_=l.top-d>=h.scrollTop(),w=a.outerWidth(!1),x=function(){return y+w<=m},k=function(){return l.left+m+s.outerWidth(!1)>w},C=a.hasClass("select2-drop-above");C?(n=!0,!_&&b&&(i=!0,n=!1)):(n=!1,!b&&_&&(i=!0,n=!0)),i&&(a.hide(),l=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),d=a.outerHeight(!1),m=h.scrollLeft()+f,g=h.scrollTop()+p,v=l.top+c,y=l.left,w=a.outerWidth(!1),a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=t(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),w=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:I.width),w>u?u=w:w=u,d=a.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(e=this.body.offset(),
v-=e.top,y-=e.left),!x()&&k()&&(y=l.left+this.container.outerWidth(!1)-w),r={left:y,width:u},n?(r.top=l.top-d,r.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(r.top=v,r.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),r=t.extend(r,T(this.opts.dropdownCss,this.opts.element)),a.css(r)},shouldOpen:function(){var e;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),L.on("mousemove.select2Event",function(t){R.x=t.pageX,R.y=t.pageY}),!0)},opening:function(){var e,i=this.containerEventName,r="scroll."+i,o="resize."+i,a="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),e=t("#select2-drop-mask"),0===e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",function(i){n(e);var r,o=t("#select2-drop");o.length>0&&(r=o.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){t(this).on(o+" "+r+" "+a,function(){s.opened()&&s.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,n="scroll."+e,i="resize."+e,r="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),L.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,n,i,r,o,a,s,l,c=this.results;if(n=this.highlight(),!(n<0)){if(0==n)return void c.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),i=t(e[n]),l=(i.offset()||{}).top||0,r=l+i.outerHeight(!0),n===e.length-1&&(s=c.find("li.select2-more-results"),s.length>0&&(r=s.offset().top+s.outerHeight(!0))),o=c.offset().top+c.outerHeight(!1),r>o&&c.scrollTop(c.scrollTop()+(r-o)),a=l-c.offset().top,a<0&&"none"!=i.css("display")&&c.scrollTop(c.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=e;var r=t(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var n,i,o=this.findHighlightableChoices();return 0===arguments.length?r(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),e<0&&(e=0),this.removeHighlight(),n=t(o[e]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),i=n.data("select2-data"),void(i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),a=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(t){r.opened()&&(r.opts.populateResults.call(this,e,t.results,{term:o,page:i,context:a}),r.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).html(r.opts.escapeMarkup(T(r.opts.formatLoadMore,r.opts.element,i+1))),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),h.positionDropdown(),u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?h.liveRegion.text(u.text()):h.liveRegion.text(h.opts.formatMatches(u.find('.select2-result-selectable:not(".select2-selected")').length))}function r(t){u.html(t),i()}var o,s,l,c=this.search,u=this.results,d=this.opts,h=this,f=c.val(),p=t.data(this.container,"select2-last-term");if((n===!0||!p||!a(f,p))&&(t.data(this.container,"select2-last-term",f),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(o=this.data(),t.isArray(o)&&o.length>=m&&C(d.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+T(d.formatSelectionTooBig,d.element,m)+"</li>");if(c.val().length<d.minimumInputLength)return r(C(d.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+T(d.formatInputTooShort,d.element,c.val(),d.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return void r(C(d.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+T(d.formatInputTooLong,d.element,c.val(),d.maximumInputLength)+"</li>":"");d.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+T(d.formatSearching,d.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),s=this.tokenize(),s!=e&&null!=s&&c.val(s),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(o){var s;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(o.hasError!==e&&C(d.formatAjaxError,"formatAjaxError"))return void r("<li class='select2-ajax-error'>"+T(d.formatAjaxError,d.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");if(this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(s=this.opts.createSearchChoice.call(h,c.val(),o.results),s!==e&&null!==s&&h.id(s)!==e&&null!==h.id(s)&&0===t(o.results).filter(function(){return a(h.id(this),h.id(s))}).length&&this.opts.createSearchChoicePosition(o.results,s)),0===o.results.length&&C(d.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+T(d.formatNoMatches,d.element,c.val())+"</li>");u.empty(),h.opts.populateResults.call(this,u,o.results,{term:c.val(),page:this.resultsPage,context:null}),o.more===!0&&C(d.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+d.escapeMarkup(T(d.formatLoadMore,d.element,this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),i(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(t){if(this._touchMoved)return void this.clearTouchMoved();var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function n(){var n,i,r,o,a,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),o=0,a=i.length;o<a;o+=1)if(s=i[o].replace(/\s/g,""),r=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),P=A(M,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(r=this.search.val().length,n.setSelectionRange(r,r))),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),O.call(this,"selection","focusser")},initContainer:function(){var e,i,r=this.container,o=this.dropdown,a=j();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),i=t("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode){if(t.which===B.PAGE_UP||t.which===B.PAGE_DOWN)return void m(t);switch(t.which){case B.UP:case B.DOWN:return this.moveHighlight(t.which===B.UP?-1:1),void m(t);case B.ENTER:return this.selectHighlighted(),void m(t);case B.TAB:return void this.selectHighlighted({noFocus:!0});case B.ESC:return this.cancel(t),void m(t)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==B.TAB&&!B.isControl(t)&&!B.isFunctionKey(t)&&t.which!==B.ESC){if(this.opts.openOnEnter===!1&&t.which===B.ENTER)return void m(t);if(t.which==B.DOWN||t.which==B.UP||t.which==B.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void m(t)}return t.which==B.DELETE||t.which==B.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(t)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),g(t),this.close(),this.selection&&this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(i){n(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(i)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){m(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(e){var n=this.selection.data("select2-data");if(n){var i=t.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(n,t.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==e&&((t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val())},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=t.find("option").filter(function(){return this.selected&&!this.disabled});e(n.optionToData(i))}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var r=n.val(),o=null;e.query({matcher:function(t,n,i){var s=a(r,e.id(i));return s&&(o=i),s},callback:t.isFunction(i)?function(){i(o)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var i=0,r=this;if(this.findHighlightableChoices().each2(function(t,e){if(a(r.id(e.data("select2-data")),r.opts.element.val()))return i=t,!1}),n!==!1&&(e===!0&&i>=0?this.highlight(i):this.highlight(0)),e===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(S(t.results)>=o)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),a(n,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var n,i,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),r.empty(),null!==t&&(n=this.opts.formatSelection(t,r,this.opts.escapeMarkup)),n!==e&&r.append(n),i=this.opts.formatSelectionCssClass(t,r),i!==e&&r.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,n=!1,i=null,r=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return i=r.optionToData(e),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(!t&&0!==t)return void this.clear(n);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder(),n&&r.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(t?(n=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),i&&this.triggerChange({added:t,removed:n})):this.clear(i)))}}),D=A(M,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){i.push(n.optionToData(e))}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var r=s(n.val(),e.separator,e.transformVal),o=[];e.query({matcher:function(n,i,s){var l=t.grep(r,function(t){return a(t,e.id(s))}).length;return l&&o.push(s),l},callback:t.isFunction(i)?function(){for(var t=[],n=0;n<r.length;n++)for(var s=r[n],l=0;l<o.length;l++){var c=o[l];if(a(s,e.id(c))){t.push(c),o.splice(l,1);break}}i(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),O.call(this,"searchContainer","selection")},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n);var i=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+j()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),r=n.next(".select2-search-choice:not(.select2-locked)"),o=p(this.search);if(n.length&&(t.which==B.LEFT||t.which==B.RIGHT||t.which==B.BACKSPACE||t.which==B.DELETE||t.which==B.ENTER)){var a=n;return t.which==B.LEFT&&i.length?a=i:t.which==B.RIGHT?a=r.length?r:null:t.which===B.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),a=i.length?i:r):t.which==B.DELETE?this.unselect(n.first())&&(this.search.width(10),a=r.length?r:null):t.which==B.ENTER&&(a=null),this.selectChoice(a),m(t),void(a&&a.length||this.open())}if((t.which===B.BACKSPACE&&1==this.keydowns||t.which==B.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void m(t);if(this.selectChoice(null),this.opened())switch(t.which){case B.UP:case B.DOWN:return this.moveHighlight(t.which===B.UP?-1:1),void m(t);case B.ENTER:return this.selectHighlighted(),void m(t);case B.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case B.ESC:return this.cancel(t),void m(t)}if(t.which!==B.TAB&&!B.isControl(t)&&!B.isFunctionKey(t)&&t.which!==B.BACKSPACE&&t.which!==B.ESC){if(t.which===B.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),t.which!==B.PAGE_UP&&t.which!==B.PAGE_DOWN||m(t),t.which===B.ENTER&&m(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),n=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var n=[],i=[],o=this;t(e).each(function(){r(o.id(this),n)<0&&(n.push(o.id(this)),i.push(this))}),e=i,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,n){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r,o=!n.locked,a=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?a:s,c=this.id(n),u=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=e&&l.find("div").replaceWith(t("<div></div>").html(i)),r=this.opts.formatSelectionCssClass(n,l.find("div")),r!=e&&l.addClass(r),o&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(e){var n,i,o=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(n=e.data("select2-data")){var a=t.Event("select2-removing");if(a.val=this.id(n),a.choice=n,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(i=r(this.id(n),o))>=0;)o.splice(i,1),this.setVal(o),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(t,e,n){var i=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),s=this;o.each2(function(t,e){var n=s.id(e.data("select2-data"));r(n,i)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),this.highlight()==-1&&n!==!1&&this.opts.closeOnSelect===!0&&s.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&C(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+T(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var t,e,n,i,r,o=l(this.search);t=v(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(e-i)-o,r<t&&(r=n-o),r<40&&(r=n-o),r<=0&&(r=t),this.search.width(Math.floor(r))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator,this.opts.transformVal))},setVal:function(e){var n;this.select?this.select.val(e):(n=[],t(e).each(function(){r(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),n=0;n<e.length;n++)for(var i=0;i<t.length;i++)a(this.opts.id(e[n]),this.opts.id(t[i]))&&(e.splice(n,1),n>0&&n--,t.splice(i,1),i--);return{added:e,removed:t}},val:function(n,i){var r,o=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t.map(e,o.id);o.setVal(n),o.updateSelection(e),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(r,o.data()));
})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,n){var i,r,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(r=this.data(),e||(e=[]),i=t.map(e,function(t){return o.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),t.fn.select2=function(){var n,i,o,a,s,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],d=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:t.extend({},l[0]),n.element=t(this),"select"===n.element.get(0).tagName.toLowerCase()?s=n.element.prop("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),i=s?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(r(l[0],c)<0)throw"Unknown method: "+l[0];if(a=e,i=t(this).data("select2"),i===e)return;if(o=l[0],"container"===o?a=i.container:"dropdown"===o?a=i.dropdown:(h[o]&&(o=h[o]),a=i[o].apply(i,l.slice(1))),r(l[0],u)>=0||r(l[0],d)>=0&&1==l.length)return!1}}),a===e?this:a},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var r=[];return b(this.text(t),n.term,r,i),r.join("")},transformVal:function(e){return t.trim(e)},formatSelection:function(t,n,i){return t?i(this.text(t)):e},sortResults:function(t){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},text:function(e){return e&&this.data&&this.data.text?t.isFunction(this.data.text)?this.data.text(e):e[this.data.text]:e.text},matcher:function(t,e){return i(""+e).toUpperCase().indexOf(i(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:_,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){var e="ontouchstart"in window||navigator.msMaxTouchPoints>0;return!e||!(t.opts.minimumResultsForSearch<0)}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:x,tags:k},util:{debounce:d,markMatch:b,escapeMarkup:_,stripDiacritics:i},"class":{"abstract":M,single:P,multi:D}}}}(jQuery),window.TinyMCERails={configuration:{"default":{}},initialize:function(t,e){if("undefined"!=typeof tinyMCE){var n=TinyMCERails.configuration[t||"default"];n=TinyMCERails._merge(n,e),tinyMCE.init(n)}else setTimeout(function(){TinyMCERails.initialize(t,e)},50)},setupTurbolinks:function(){document.addEventListener("turbolinks:before-render",function(){tinymce.remove()})},_merge:function(){for(var t={},e=0;e<arguments.length;++e){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("[object Object]"===Object.prototype.toString.call(n[i])?t[i]=TinyMCERails._merge(t[i],n[i]):t[i]=n[i])}return t}},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&TinyMCERails.setupTurbolinks(),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(){var t={},e=function(e){for(var n=t[e],r=n.deps,o=n.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=i(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+e+"] returned undefined";n.instance=c},n=function(e,n,i){if("string"!=typeof e)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+e;if(void 0===i)throw"no definition function for "+e;t[e]={deps:n,defn:i,instance:void 0}},i=function(n){var i=t[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&e(n),i.instance},r=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=i(t[o]);e.apply(null,r)},o={};o.bolt={module:{api:{define:n,require:r,demand:i}}};var a=n,s=function(t,e){a(t,[],function(){return e})};s("global!Array",Array),s("global!Error",Error),a("ephox.katamari.api.Fun",["global!Array","global!Error"],function(t,e){var n=function(){},i=function(t){return function(){return t()}},r=function(t,e){return function(){return t(e.apply(null,arguments))}},o=function(t){return function(){return t}},a=function(t){return t},s=function(t,e){return t===e},l=function(e){for(var n=new t(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(){for(var i=new t(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];var o=n.concat(i);return e.apply(null,o)}},c=function(t){return function(){return!t.apply(null,arguments)}},u=function(t){return function(){throw new e(t)}},d=function(t){return t()},h=function(t){t()},f=o(!1),p=o(!0);return{noop:n,noarg:i,compose:r,constant:o,identity:a,tripleEquals:s,curry:l,not:c,die:u,apply:d,call:h,never:f,always:p}}),s("global!window",window),s("global!Object",Object),a("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(t,e){var n=t.never,i=t.always,r=function(){return o},o=function(){var o=function(t){return t.isNone()},a=function(t){return t()},s=function(t){return t},l=function(){},c={fold:function(t){return t()},is:n,isSome:n,isNone:i,getOr:s,getOrThunk:a,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},or:s,orThunk:a,map:r,ap:r,each:l,bind:r,flatten:r,exists:n,forall:i,filter:r,equals:o,equals_:o,toArray:function(){return[]},toString:t.constant("none()")};return e.freeze&&e.freeze(c),c}(),a=function(t){var e=function(){return t},s=function(){return u},l=function(e){return a(e(t))},c=function(e){return e(t)},u={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:i,isNone:n,getOr:e,getOrThunk:e,getOrDie:e,or:s,orThunk:s,map:l,ap:function(e){return e.fold(r,function(e){return a(e(t))})},each:function(e){e(t)},bind:c,flatten:e,exists:c,forall:c,filter:function(e){return e(t)?u:o},equals:function(e){return e.is(t)},equals_:function(e,i){return e.fold(n,function(e){return i(t,e)})},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return u},s=function(t){return null===t||void 0===t?o:a(t)};return{some:a,none:r,from:s}}),s("global!String",String),a("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(t,e,n,i){var r=function(){var t=e.prototype.indexOf,n=function(e,n){return t.call(e,n)},i=function(t,e){return _(t,e)};return void 0===t?i:n}(),o=function(e,n){var i=r(e,n);return i===-1?t.none():t.some(i)},a=function(t,e){return r(t,e)>-1},s=function(t,e){return b(t,e).isSome()},l=function(t,e){for(var n=[],i=0;i<t;i++)n.push(e(i));return n},c=function(t,e){for(var n=[],i=0;i<t.length;i+=e){var r=t.slice(i,i+e);n.push(r)}return n},u=function(t,n){for(var i=t.length,r=new e(i),o=0;o<i;o++){var a=t[o];r[o]=n(a,o,t)}return r},d=function(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];e(r,n,t)}},h=function(t,e){for(var n=t.length-1;n>=0;n--){var i=t[n];e(i,n,t)}},f=function(t,e){for(var n=[],i=[],r=0,o=t.length;r<o;r++){var a=t[r],s=e(a,r,t)?n:i;s.push(a)}return{pass:n,fail:i}},p=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];e(o,i,t)&&n.push(o)}return n},m=function(t,e){if(0===t.length)return[];for(var n=e(t[0]),i=[],r=[],o=0,a=t.length;o<a;o++){var s=t[o],l=e(s);l!==n&&(i.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&i.push(r),i},g=function(t,e,n){return h(t,function(t){n=e(n,t)}),n},v=function(t,e,n){return d(t,function(t){n=e(n,t)}),n},y=function(e,n){for(var i=0,r=e.length;i<r;i++){var o=e[i];if(n(o,i,e))return t.some(o)}return t.none()},b=function(e,n){for(var i=0,r=e.length;i<r;i++){var o=e[i];if(n(o,i,e))return t.some(i)}return t.none()},_=function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},w=e.prototype.push,x=function(t){for(var i=[],r=0,o=t.length;r<o;++r){if(!e.prototype.isPrototypeOf(t[r]))throw new n("Arr.flatten item "+r+" was not an array, input: "+t);w.apply(i,t[r])}return i},k=function(t,e){var n=u(t,e);return x(n)},C=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n];if(e(r,n,t)!==!0)return!1}return!0},T=function(t,e){return t.length===e.length&&C(t,function(t,n){return t===e[n]})},S=e.prototype.slice,E=function(t){var e=S.call(t,0);return e.reverse(),e},O=function(t,e){return p(t,function(t){return!a(e,t)})},A=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var a=t[r];n[i(a)]=e(a,r)}return n},M=function(t){return[t]},P=function(t,e){var n=S.call(t,0);return n.sort(e),n},D=function(e){return 0===e.length?t.none():t.some(e[0])},j=function(e){return 0===e.length?t.none():t.some(e[e.length-1])};return{map:u,each:d,eachr:h,partition:f,filter:p,groupBy:m,indexOf:o,foldr:g,foldl:v,find:y,findIndex:b,flatten:x,bind:k,forall:C,exists:s,contains:a,equal:T,reverse:E,chunk:c,difference:O,mapToObject:A,pure:M,sort:P,range:l,head:D,last:j}}),s("global!document",document),a("ephox.katamari.api.Global",[],function(){var t="undefined"!=typeof window?window:Function("return this;")();return t}),a("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(t){var e=function(e,n){for(var i=void 0!==n?n:t,r=0;r<e.length&&void 0!==i&&null!==i;++r)i=i[e[r]];return i},n=function(t,n){var i=t.split(".");return e(i,n)},i=function(t,e){return void 0!==t[e]&&null!==t[e]||(t[e]={}),t[e]},r=function(e,n){for(var r=void 0!==n?n:t,o=0;o<e.length;++o)r=i(r,e[o]);return r},o=function(t,e){var n=t.split(".");return r(n,e)};return{path:e,resolve:n,forge:r,namespace:o}}),a("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(t){var e=function(e,n){return t.resolve(e,n)},n=function(t,n){var i=e(t,n);if(void 0===i)throw t+" not available on this browser";return i};return{getOrDie:n}}),a("ephox.sand.api.URL",["ephox.sand.util.Global"],function(t){var e=function(){return t.getOrDie("URL")},n=function(t){return e().createObjectURL(t)},i=function(t){e().revokeObjectURL(t)};return{createObjectURL:n,revokeObjectURL:i}}),s("global!matchMedia",matchMedia),s("global!navigator",navigator),a("tinymce.core.Env",["ephox.sand.api.URL","global!document","global!matchMedia","global!navigator","global!window"],function(t,e,n,i,r){var o,a,s,l,c,u,d,h,f,p,m,g,v,y=i,b=y.userAgent,_=function(t){return"matchMedia"in r&&n(t).matches};o=r.opera&&r.opera.buildNumber,f=/Android/.test(b),a=/WebKit/.test(b),s=!a&&!o&&/MSIE/gi.test(b)&&/Explorer/gi.test(y.appName),s=s&&/MSIE (\w+)\./.exec(b)[1],l=b.indexOf("Trident/")!=-1&&(b.indexOf("rv:")!=-1||y.appName.indexOf("Netscape")!=-1)&&11,c=b.indexOf("Edge/")!=-1&&!s&&!l&&12,s=s||l||c,u=!a&&!l&&/Gecko/.test(b),d=b.indexOf("Mac")!=-1,h=/(iPad|iPhone)/.test(b),p="FormData"in r&&"FileReader"in r&&"URL"in r&&!!t.createObjectURL,m=_("only screen and (max-device-width: 480px)")&&(f||h),g=_("only screen and (min-width: 800px)")&&(f||h),v=b.indexOf("Windows Phone")!=-1,c&&(a=!1);var w=!h||p||b.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:o,webkit:a,ie:s,gecko:u,mac:d,iOS:h,android:f,contentEditable:w,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=s,range:r.getSelection&&"Range"in r,documentMode:s&&!c?e.documentMode||7:10,fileApi:p,ceFalse:s===!1||s>8,canHaveCSP:s===!1||s>11,desktop:!m&&!g,windowsPhone:v}}),s("global!clearInterval",clearInterval),s("global!clearTimeout",clearTimeout),s("global!setInterval",setInterval),s("global!setTimeout",setTimeout),a("tinymce.core.util.Promise",[],function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(e,t(i,this),t(r,this))}function n(t){var e=this;return null===this._state?void this._deferreds.push(t):void l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(e){return void t.reject(e)}t.resolve(i)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void s(t(n,e),t(i,this),t(r,this))}this._state=!0,this._value=e,o.call(this)}catch(t){r.call(this,t)}}function r(t){this._state=!1,this._value=t,o.call(this)}function o(){for(var t=0,e=this._deferreds.length;t<e;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function a(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function s(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(t){if(i)return;i=!0,n(t)}}if(window.Promise)return window.Promise;var l=e.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,i){var r=this;return new e(function(e,o){n.call(r,new a(t,i,e,o))})},e.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new e(function(e,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(o,t)},n)}t[o]=a,0===--r&&e(t)}catch(t){n(t)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},e}),a("tinymce.core.util.Delay",["global!clearInterval","global!clearTimeout","global!document","global!setInterval","global!setTimeout","global!window","tinymce.core.util.Promise"],function(t,e,n,i,r,o,a){var s,l=function(t,e){var n,i=o.requestAnimationFrame,r=["ms","moz","webkit"],a=function(t){o.setTimeout(t,0)};for(n=0;n<r.length&&!i;n++)i=o[r[n]+"RequestAnimationFrame"];i||(i=a),i(t,e)},c=function(t,e){return"number"!=typeof e&&(e=0),r(t,e)},u=function(t,e){return"number"!=typeof e&&(e=1),i(t,e)},d=function(t){return e(t)},h=function(e){return t(e)},f=function(t,n){var i,r;return r=function(){var r=arguments;e(i),i=c(function(){t.apply(this,r)},n)},r.stop=function(){e(i)},r};return{requestAnimationFrame:function(t,e){return s?void s.then(t):void(s=new a(function(t){e||(e=n.body),l(t,e)}).then(t))},setTimeout:c,setInterval:u,setEditorTimeout:function(t,e,n){return c(function(){t.removed||e()},n)},setEditorInterval:function(e,n,i){var r;return r=u(function(){e.removed?t(r):n()},i)},debounce:f,throttle:f,clearInterval:h,clearTimeout:d}}),a("tinymce.core.dom.EventUtils",["global!document","global!window","tinymce.core.Env","tinymce.core.util.Delay"],function(t,e,n,i){"use strict";var r="mce-data-",o=/^(?:mouse|contextmenu)|click/,a={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},s=function(t){return t.isDefaultPrevented===c||t.isDefaultPrevented===l},l=function(){return!1},c=function(){return!0},u=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},d=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},h=function(t,e){var n,i=e;return n=t.path,n&&n.length>0&&(i=n[0]),t.deepPath&&(n=t.deepPath(),n&&n.length>0&&(i=n[0])),i},f=function(e,i){var r,u,d=i||{};for(r in e)a[r]||(d[r]=e[r]);if(d.target||(d.target=d.srcElement||t),n.experimentalShadowDom&&(d.target=h(e,d.target)),e&&o.test(e.type)&&e.pageX===u&&e.clientX!==u){var f=d.target.ownerDocument||t,p=f.documentElement,m=f.body;d.pageX=e.clientX+(p&&p.scrollLeft||m&&m.scrollLeft||0)-(p&&p.clientLeft||m&&m.clientLeft||0),d.pageY=e.clientY+(p&&p.scrollTop||m&&m.scrollTop||0)-(p&&p.clientTop||m&&m.clientTop||0)}return d.preventDefault=function(){d.isDefaultPrevented=c,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},d.stopPropagation=function(){d.isPropagationStopped=c,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},d.stopImmediatePropagation=function(){d.isImmediatePropagationStopped=c,d.stopPropagation()},s(d)===!1&&(d.isDefaultPrevented=l,d.isPropagationStopped=l,d.isImmediatePropagationStopped=l),"undefined"==typeof d.metaKey&&(d.metaKey=!1),d},p=function(t,e,r){var o=t.document,a={type:"ready"};if(r.domLoaded)return void e(a);var s=function(){return"complete"===o.readyState||"interactive"===o.readyState&&o.body},l=function(){r.domLoaded||(r.domLoaded=!0,e(a))},c=function(){s()&&(d(o,"readystatechange",c),l())},h=function(){try{o.documentElement.doScroll("left")}catch(t){return void i.setTimeout(h)}l()};!o.addEventListener||n.ie&&n.ie<11?(u(o,"readystatechange",c),o.documentElement.doScroll&&t.self===t.top&&h()):s()?l():u(t,"DOMContentLoaded",l),u(t,"load",l)},m=function(){var n,i,o,a,s,l=this,c={};i=r+(+new Date).toString(32),a="onmouseenter"in t.documentElement,o="onfocusin"in t.documentElement,s={mouseenter:"mouseover",mouseleave:"mouseout"},n=1,l.domLoaded=!1,l.events=c;var h=function(t,e){var n,i,r,o,a=c[e];if(n=a&&a[t.type])for(i=0,r=n.length;i<r;i++)if(o=n[i],o&&o.func.call(o.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return};l.bind=function(t,r,d,m){var g,v,y,b,_,w,x,k=e,C=function(t){h(f(t||k.event),g)};if(t&&3!==t.nodeType&&8!==t.nodeType){for(t[i]?g=t[i]:(g=n++,t[i]=g,c[g]={}),m=m||t,r=r.split(" "),y=r.length;y--;)b=r[y],w=C,_=x=!1,"DOMContentLoaded"===b&&(b="ready"),l.domLoaded&&"ready"===b&&"complete"==t.readyState?d.call(m,f({type:b})):(a||(_=s[b],_&&(w=function(t){var e,n;if(e=t.currentTarget,n=t.relatedTarget,n&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||(t=f(t||k.event),t.type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,h(t,g))})),o||"focusin"!==b&&"focusout"!==b||(x=!0,_="focusin"===b?"focus":"blur",w=function(t){t=f(t||k.event),t.type="focus"===t.type?"focusin":"focusout",h(t,g)}),v=c[g][b],v?"ready"===b&&l.domLoaded?d({type:b}):v.push({func:d,scope:m}):(c[g][b]=v=[{func:d,scope:m}],v.fakeName=_,v.capture=x,v.nativeHandler=w,"ready"===b?p(t,w,l):u(t,_||b,w,x)));return t=v=0,d}},l.unbind=function(t,e,n){var r,o,a,s,u,h;if(!t||3===t.nodeType||8===t.nodeType)return l;if(r=t[i]){if(h=c[r],e){for(e=e.split(" "),a=e.length;a--;)if(u=e[a],o=h[u]){if(n)for(s=o.length;s--;)if(o[s].func===n){var f=o.nativeHandler,p=o.fakeName,m=o.capture;o=o.slice(0,s).concat(o.slice(s+1)),o.nativeHandler=f,o.fakeName=p,o.capture=m,h[u]=o}n&&0!==o.length||(delete h[u],d(t,o.fakeName||u,o.nativeHandler,o.capture))}}else{for(u in h)o=h[u],d(t,o.fakeName||u,o.nativeHandler,o.capture);h={}}for(u in h)return l;delete c[r];try{delete t[i]}catch(e){t[i]=null}}return l},l.fire=function(t,e,n){var r;if(!t||3===t.nodeType||8===t.nodeType)return l;n=f(null,n),n.type=e,n.target=t;do r=t[i],r&&h(n,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!n.isPropagationStopped());return l},l.clean=function(t){var e,n,r=l.unbind;if(!t||3===t.nodeType||8===t.nodeType)return l;if(t[i]&&r(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(r(t),n=t.getElementsByTagName("*"),e=n.length;e--;)t=n[e],t[i]&&r(t);return l},l.destroy=function(){c={}},l.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}};return m.Event=new m,m.Event.bind(e,"ready",function(){}),m}),a("tinymce.core.dom.Sizzle",[],function(){function t(t,e,n,i){var r,o,a,l,u,d,h,f,p,m;if((e?e.ownerDocument||e:R)!==A&&O(e),e=e||A,n=n||[],!t||"string"!=typeof t)return n;if(1!==(l=e.nodeType)&&9!==l)return[];if(P&&!i){if(r=pt.exec(t))if(a=r[1]){if(9===l){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&L(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return K.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&y.getElementsByClassName)return K.apply(n,e.getElementsByClassName(a)),n}if(y.qsa&&(!D||!D.test(t))){if(f=h=I,p=e,m=9===l&&t,1===l&&"object"!==e.nodeName.toLowerCase()){for(d=x(t),(h=e.getAttribute("id"))?f=h.replace(gt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",u=d.length;u--;)d[u]=f+c(d[u]);p=mt.test(t)&&s(e.parentNode)||e,m=d.join(",")}if(m)try{return K.apply(n,p.querySelectorAll(m)),n}catch(t){}finally{h||e.removeAttribute("id")}}}return C(t.replace(rt,"$1"),e,n,i)}function e(){function t(n,i){return e.push(n+" ")>b.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function n(t){return t[I]=!0,t}function i(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function r(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function o(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function a(t){return n(function(e){return e=+e,n(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function s(t){return t&&typeof t.getElementsByTagName!==W&&t}function l(){}function c(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function u(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=F++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,c=[B,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[I]||(e[I]={}),(s=l[i])&&s[0]===B&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=t(e,n,a))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function h(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function f(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),c&&e.push(s)));return a}function p(t,e,i,r,o,a){return r&&!r[I]&&(r=p(r)),o&&!o[I]&&(o=p(o,a)),n(function(n,a,s,l){var c,u,d,p=[],m=[],g=a.length,v=n||h(e||"*",s.nodeType?[s]:s,[]),y=!t||!n&&e?v:f(v,p,t,s,l),b=i?o||(n?t:g||r)?[]:a:y;if(i&&i(y,b,s,l),r)for(c=f(b,m),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[m[u]]=!(y[m[u]]=d));if(n){if(o||t){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?Q.call(n,d):p[u])>-1&&(n[c]=!(a[c]=d))}}else b=f(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function m(t){for(var e,n,i,r=t.length,o=b.relative[t[0].type],a=o||b.relative[" "],s=o?1:0,l=u(function(t){return t===e},a,!0),h=u(function(t){return Q.call(e,t)>-1},a,!0),f=[function(t,n,i){return!o&&(i||n!==T)||((e=n).nodeType?l(t,n,i):h(t,n,i))}];s<r;s++)if(n=b.relative[t[s].type])f=[u(d(f),n)];else{if(n=b.filter[t[s].type].apply(null,t[s].matches),n[I]){for(i=++s;i<r&&!b.relative[t[i].type];i++);return p(s>1&&d(f),s>1&&c(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(rt,"$1"),n,s<i&&m(t.slice(s,i)),i<r&&m(t=t.slice(i)),i<r&&c(t))}f.push(n)}return d(f)}function g(e,i){var r=i.length>0,o=e.length>0,a=function(n,a,s,l,c){var u,d,h,p=0,m="0",g=n&&[],v=[],y=T,_=n||o&&b.find.TAG("*",c),w=B+=null==y?1:Math.random()||.1,x=_.length;for(c&&(T=a!==A&&a);m!==x&&null!=(u=_[m]);m++){if(o&&u){for(d=0;h=e[d++];)if(h(u,a,s)){l.push(u);break}c&&(B=w)}r&&((u=!h&&u)&&p--,n&&g.push(u))}if(p+=m,r&&m!==p){for(d=0;h=i[d++];)h(g,v,a,s);if(n){if(p>0)for(;m--;)g[m]||v[m]||(v[m]=q.call(l));v=f(v)}K.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(B=w,T=y),g};return r?n(a):a}var v,y,b,_,w,x,k,C,T,S,E,O,A,M,P,D,j,N,L,I="sizzle"+-new Date,R=window.document,B=0,F=0,$=e(),z=e(),U=e(),H=function(t,e){return t===e&&(E=!0),0},W="undefined",Y=1<<31,V={}.hasOwnProperty,G=[],q=G.pop,X=G.push,K=G.push,Z=G.slice,Q=G.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",it=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",rt=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),ot=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),st=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),lt=new RegExp(it),ct=new RegExp("^"+et+"$"),ut={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,ht=/^h\d$/i,ft=/^[^{]+\{\s*\[native \w/,pt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,gt=/'|\\/g,vt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{K.apply(G=Z.call(R.childNodes),R.childNodes),G[R.childNodes.length].nodeType}catch(t){K={apply:G.length?function(t,e){X.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}y=t.support={},w=t.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=t.setDocument=function(t){function e(t){try{return t.top}catch(t){}return null}var n,r=t?t.ownerDocument||t:R,o=r.defaultView;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,M=r.documentElement,P=!w(r),o&&o!==e(o)&&(o.addEventListener?o.addEventListener("unload",function(){O()},!1):o.attachEvent&&o.attachEvent("onunload",function(){O()})),y.attributes=!0,y.getElementsByTagName=!0,y.getElementsByClassName=ft.test(r.getElementsByClassName),y.getById=!0,b.find.ID=function(t,e){if(typeof e.getElementById!==W&&P){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},b.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){return t.getAttribute("id")===e}},b.find.TAG=y.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==W)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},b.find.CLASS=y.getElementsByClassName&&function(t,e){if(P)return e.getElementsByClassName(t)},j=[],D=[],y.disconnectedMatch=!0,D=D.length&&new RegExp(D.join("|")),j=j.length&&new RegExp(j.join("|")),n=ft.test(M.compareDocumentPosition),L=n||ft.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},H=n?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!y.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===R&&L(R,t)?-1:e===r||e.ownerDocument===R&&L(R,e)?1:S?Q.call(S,t)-Q.call(S,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,o=0,a=t.parentNode,s=e.parentNode,l=[t],c=[e];if(!a||!s)return t===r?-1:e===r?1:a?-1:s?1:S?Q.call(S,t)-Q.call(S,e):0;if(a===s)return i(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?i(l[o],c[o]):l[o]===R?-1:c[o]===R?1:0},r):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&O(e),n=n.replace(st,"='$1']"),y.matchesSelector&&P&&(!j||!j.test(n))&&(!D||!D.test(n)))try{var i=N.call(e,n);if(i||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(t){}return t(n,A,null,[e]).length>0},t.contains=function(t,e){return(t.ownerDocument||t)!==A&&O(t),L(t,e)},t.attr=function(t,e){(t.ownerDocument||t)!==A&&O(t);var n=b.attrHandle[e.toLowerCase()],i=n&&V.call(b.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==i?i:y.attributes||!P?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},t.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},t.uniqueSort=function(t){var e,n=[],i=0,r=0;if(E=!y.detectDuplicates,S=!y.sortStable&&t.slice(0),t.sort(H),E){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return S=null,t},_=t.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},b=t.selectors={cacheLength:50,createPseudo:n,match:ut,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(vt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(vt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ut.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&lt.test(n)&&(e=x(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(vt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==W&&t.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling";
}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(u=g[I]||(g[I]={}),c=u[t]||[],f=c[0]===B&&c[1],h=c[0]===B&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){u[t]=[B,f,h];break}}else if(y&&(c=(e[I]||(e[I]={}))[t])&&c[0]===B)h=c[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[I]||(d[I]={}))[t]=[B,h]),d!==e)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,i){var r,o=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[I]?o(i):o.length>1?(r=[e,e,"",i],b.setFilters.hasOwnProperty(e.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),a=r.length;a--;)n=Q.call(t,r[a]),t[n]=!(e[n]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=k(t.replace(rt,"$1"));return r[I]?n(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),!i.pop()}}),has:n(function(e){return function(n){return t(e,n).length>0}}),contains:n(function(t){return t=t.replace(vt,yt),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:n(function(e){return ct.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(vt,yt).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===M},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return ht.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},b.pseudos.nth=b.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[v]=r(v);for(v in{submit:!0,reset:!0})b.pseudos[v]=o(v);return l.prototype=b.filters=b.pseudos,b.setFilters=new l,x=t.tokenize=function(e,n){var i,r,o,a,s,l,c,u=z[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=b.preFilter;s;){i&&!(r=ot.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=at.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(rt," ")}),s=s.slice(i.length));for(a in b.filter)!(r=ut[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):z(e,l).slice(0)},k=t.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=x(t)),n=e.length;n--;)o=m(e[n]),o[I]?i.push(o):r.push(o);o=U(t,g(r,i)),o.selector=t}return o},C=t.select=function(t,e,n,i){var r,o,a,l,u,d="function"==typeof t&&t,h=!i&&x(t=d.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&y.getById&&9===e.nodeType&&P&&b.relative[o[1].type]){if(e=(b.find.ID(a.matches[0].replace(vt,yt),e)||[])[0],!e)return n;d&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ut.needsContext.test(t)?0:o.length;r--&&(a=o[r],!b.relative[l=a.type]);)if((u=b.find[l])&&(i=u(a.matches[0].replace(vt,yt),mt.test(o[0].type)&&s(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&c(o),!t)return K.apply(n,i),n;break}}return(d||k(t,h))(i,e,!P,n,mt.test(t)&&s(e.parentNode)||e),n},y.sortStable=I.split("").sort(H).join("")===I,y.detectDuplicates=!!E,O(),y.sortDetached=!0,t}),a("tinymce.core.util.Arr",[],function(){var t=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},e=function(e){var n,i,r=e;if(!t(e))for(r=[],n=0,i=e.length;n<i;n++)r[n]=e[n];return r},n=function(t,e,n){var i,r;if(!t)return 0;if(n=n||t,void 0!==t.length){for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t)===!1)return 0}else for(i in t)if(t.hasOwnProperty(i)&&e.call(n,t[i],i,t)===!1)return 0;return 1},i=function(t,e){var i=[];return n(t,function(n,r){i.push(e(n,r,t))}),i},r=function(t,e){var i=[];return n(t,function(n,r){e&&!e(n,r,t)||i.push(n)}),i},o=function(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},a=function(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n},s=function(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return i;return-1},l=function(t,e,n){var i=s(t,e,n);if(i!==-1)return t[i]},c=function(t){return t[t.length-1]};return{isArray:t,toArray:e,each:n,map:i,filter:r,indexOf:o,reduce:a,findIndex:s,find:l,last:c}}),a("tinymce.core.util.Tools",["global!window","tinymce.core.Env","tinymce.core.util.Arr"],function(t,e,n){var i=/^\s*|\s*$/g,r=function(t){return null===t||void 0===t?"":(""+t).replace(i,"")},o=function(t,e){return e?!("array"!=e||!n.isArray(t))||typeof t==e:void 0!==t},a=function(t,e,n){var i;for(t=t||[],e=e||",","string"==typeof t&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},s=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l=function(t,e,n){var i,r,o,a,s,l=this,c=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(t[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},c=1),r[o]=e[o],l.extend(r[o].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],s=r[o],c?r[o]=function(){return i[a].apply(this,arguments)}:r[o]=function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(t,e){r[o].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!=o&&(r[o].prototype[e]=t)})),l.each(e["static"],function(t,e){r[o][e]=t})}},c=function(t,e){var n,i,r,o,a=arguments;for(n=1,i=a.length;n<i;n++){e=a[n];for(r in e)e.hasOwnProperty(r)&&(o=e[r],void 0!==o&&(t[r]=o))}return t},u=function(t,e,i,r){r=r||this,t&&(i&&(t=t[i]),n.each(t,function(t,n){return e.call(r,t,n,i)!==!1&&void u(t,e,i,r)}))},d=function(e,n){var i,r;for(n=n||t,e=e.split("."),i=0;i<e.length;i++)r=e[i],n[r]||(n[r]={}),n=n[r];return n},h=function(e,n){var i,r;for(n=n||t,e=e.split("."),i=0,r=e.length;i<r&&(n=n[e[i]],n);i++);return n},f=function(t,e){return!t||o(t,"array")?t:n.map(t.split(e||","),r)},p=function(t){var n=e.cacheSuffix;return n&&(t+=(t.indexOf("?")===-1?"?":"&")+n),t};return{trim:r,isArray:n.isArray,is:o,toArray:n.toArray,makeMap:a,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:s,extend:c,create:l,walk:u,createNS:d,resolve:h,explode:f,_addCacheSuffix:p}}),a("tinymce.core.dom.DomQuery",["global!document","tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.Env","tinymce.core.util.Tools"],function(t,e,n,i,r){var o,a=t,s=Array.prototype.push,l=Array.prototype.slice,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=e.Event,d=r.makeMap("children,contents,next,prev"),h=function(t){return"undefined"!=typeof t},f=function(t){return"string"==typeof t},p=function(t){return t&&t==t.window},m=function(t,e){var n,i,r;for(e=e||a,r=e.createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n},g=function(t,e,n,i){var r;if(f(e))e=m(e,P(t[0]));else if(e.length&&!e.nodeType){if(e=T.makeArray(e),i)for(r=e.length-1;r>=0;r--)g(t,e[r],n,i);else for(r=0;r<e.length;r++)g(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t},v=function(t,e){return t&&e&&(" "+t.className+" ").indexOf(" "+e+" ")!==-1},y=function(t,e,n){var i,r;return e=T(e)[0],t.each(function(){var t=this;n&&i==t.parentNode?r.appendChild(t):(i=t.parentNode,r=e.cloneNode(!1),t.parentNode.insertBefore(r,t),r.appendChild(t))}),t},b=r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),_=r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),w={"for":"htmlFor","class":"className",readonly:"readOnly"},x={"float":"cssFloat"},k={},C={},T=function(t,e){return new T.fn.init(t,e)},S=function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},E=/^\s*|\s*$/g,O=function(t){return null===t||t===o?"":(""+t).replace(E,"")},A=function(t,e){var n,i,r,o,a;if(t)if(n=t.length,n===o){for(i in t)if(t.hasOwnProperty(i)&&(a=t[i],e.call(a,i,a)===!1))break}else for(r=0;r<n&&(a=t[r],e.call(a,r,a)!==!1);r++);return t},M=function(t,e){var n=[];return A(t,function(t,i){e(i,t)&&n.push(i)}),n},P=function(t){return t?9==t.nodeType?t:t.ownerDocument:a};T.fn=T.prototype={constructor:T,selector:"",context:null,length:0,init:function(e,n){var i,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(n&&n.nodeType)o.context=n;else{if(n)return T(e).attr(n);o.context=n=t}if(f(e)){if(o.selector=e,i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:c.exec(e),!i)return T(n).find(e);if(i[1])for(r=m(e,P(n)).firstChild;r;)s.call(o,r),r=r.nextSibling;else{if(r=P(n).getElementById(i[2]),!r)return o;if(r.id!==i[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return r.toArray(this)},add:function(t,e){var n,i,r=this;if(f(t))return r.add(T(t));if(e!==!1)for(n=T.unique(r.toArray().concat(T.makeArray(t))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else s.apply(r,T.makeArray(t));return r},attr:function(t,e){var n,i=this;if("object"==typeof t)A(t,function(t,e){i.attr(t,e)});else{if(!h(e)){if(i[0]&&1===i[0].nodeType){if(n=k[t],n&&n.get)return n.get(i[0],t);if(_[t])return i.prop(t)?t:o;e=i[0].getAttribute(t,2),null===e&&(e=o)}return e}this.each(function(){var n;if(1===this.nodeType){if(n=k[t],n&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if(t=w[t]||t,"object"==typeof t)A(t,function(t,e){n.prop(t,e)});else{if(!h(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1==this.nodeType&&(this[t]=e)})}return n},css:function(t,e){var n,i,r=this,a=function(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})},s=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})};if("object"==typeof t)A(t,function(t,e){r.css(t,e)});else if(h(e))t=a(t),"number"!=typeof e||b[t]||(e+="px"),r.each(function(){var n=this.style;if(i=C[t],i&&i.set)return void i.set(this,e);try{this.style[x[t]||t]=e}catch(t){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(s(t)):n.removeAttribute(t))});else{if(n=r[0],i=C[t],i&&i.get)return i.get(n);if(n.ownerDocument.defaultView)try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(t))}catch(t){return o}else if(n.currentStyle)return n.currentStyle[a(t)]}return r},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],u.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(h(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){T(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(h(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return g(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return g(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?g(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?g(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return T(t).append(this),this},prependTo:function(t){return T(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return y(this,t)},wrapAll:function(t){return y(this,t,!0)},wrapInner:function(t){return this.each(function(){T(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),T(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(t.indexOf(" ")!==-1?A(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var r,o;o=v(i,t),o!==e&&(r=i.className,o?i.className=O((" "+r+" ").replace(" "+t+" "," ")):i.className+=r?" "+t:t)}),n)},hasClass:function(t){return v(this[0],t)},each:function(t){return A(this,t)},on:function(t,e){return this.each(function(){u.bind(this,t,e)})},off:function(t,e){return this.each(function(){u.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?u.fire(this,t.type,t):u.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new T(l.apply(this,arguments))},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)T.find(t,this[e],i);return T(i)},filter:function(t){return T("function"==typeof t?M(this.toArray(),function(e,n){return t(n,e)}):T.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof T&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&T(i).is(t)){e.push(i);break}if(i==t){e.push(i);break}i=i.parentNode}}),T(e)},offset:function(t){var e,n,i,r,o=0,a=0;return t?this.css(t):(e=this[0],e&&(n=e.ownerDocument,i=n.documentElement,e.getBoundingClientRect&&(r=e.getBoundingClientRect(),o=r.left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:s,sort:[].sort,splice:[].splice},r.extend(T,{extend:r.extend,makeArray:function(t){return p(t)||t.nodeType?[t]:r.toArray(t)},inArray:S,isArray:r.isArray,each:A,trim:O,grep:M,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!=e[i].nodeType&&e.splice(i,1);return e=1===e.length?T.find.matchesSelector(e[0],t)?[e[0]]:[]:T.find.matches(t,e)}});var D=function(t,e,n){var i=[],r=t[e];for("string"!=typeof n&&n instanceof T&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&T(r).is(n))break}1===r.nodeType&&i.push(r),r=r[e]}return i},j=function(t,e,n,i){var r=[];for(i instanceof T&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==i){if(t===i)break;if("string"==typeof i&&T(t).is(i))break}r.push(t)}return r},N=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType==n)return t;return null};A({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return D(t,"parentNode")},next:function(t){return N(t,"nextSibling",1)},prev:function(t){return N(t,"previousSibling",1)},children:function(t){return j(t.firstChild,"nextSibling",1)},contents:function(t){return r.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){T.fn[t]=function(n){var i=this,r=[];return i.each(function(){var t=e.call(r,this,n,r);t&&(T.isArray(t)?r.push.apply(r,t):r.push(t))}),this.length>1&&(d[t]||(r=T.unique(r)),0===t.indexOf("parents")&&(r=r.reverse())),r=T(r),n?r.filter(n):r}}),A({parentsUntil:function(t,e){return D(t,"parentNode",e)},nextUntil:function(t,e){return j(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return j(t,"previousSibling",1,e).slice(1)}},function(t,e){T.fn[t]=function(n,i){var r=this,o=[];return r.each(function(){var t=e.call(o,this,n,o);t&&(T.isArray(t)?o.push.apply(o,t):o.push(t))}),this.length>1&&(o=T.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse())),o=T(o),i?o.filter(i):o}}),T.fn.is=function(t){return!!t&&this.filter(t).length>0},T.fn.init.prototype=T.fn,T.overrideDefaults=function(t){var e,n=function(i,r){return e=e||t(),0===arguments.length&&(i=e.element),r||(r=e.context),new n.fn.init(i,r)};return T.extend(n,this),n};var L=function(t,e,n){A(n,function(n,i){t[n]=t[n]||{},t[n][e]=i})};return i.ie&&i.ie<8&&(L(k,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?o:e},size:function(t){var e=t.size;return 20===e?o:e},"class":function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?o:e}}),L(k,"set",{"class":function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),i.ie&&i.ie<9&&(x["float"]="styleFloat",L(C,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),T.attrHooks=k,T.cssHooks=C,T}),a("ephox.katamari.api.Thunk",[],function(){var t=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(null,arguments)),e}};return{cached:t}}),s("global!Number",Number),a("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],function(t,e,n){var i=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}},r=function(t,n){var r=i(t,n);if(!r)return{major:0,minor:0};var o=function(t){return e(n.replace(r,"$"+t))};return s(o(1),o(2))},o=function(t,e){var i=n(e).toLowerCase();return 0===t.length?a():r(t,i)},a=function(){return s(0,0)},s=function(t,e){return{major:t,minor:e}};return{nu:s,detect:o,unknown:a}}),a("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(t,e){var n="Edge",i="Chrome",r="IE",o="Opera",a="Firefox",s="Safari",l=function(t,e){return function(){return e===t}},c=function(){return u({current:void 0,version:e.unknown()})},u=function(t){var e=t.current,c=t.version;return{current:e,version:c,isEdge:l(n,e),isChrome:l(i,e),isIE:l(r,e),isOpera:l(o,e),isFirefox:l(a,e),isSafari:l(s,e)}};return{unknown:c,nu:u,edge:t.constant(n),chrome:t.constant(i),ie:t.constant(r),opera:t.constant(o),firefox:t.constant(a),safari:t.constant(s)}}),a("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(t,e){var n="Windows",i="iOS",r="Android",o="Linux",a="OSX",s="Solaris",l="FreeBSD",c=function(t,e){return function(){return e===t}},u=function(){return d({current:void 0,version:e.unknown()})},d=function(t){var e=t.current,u=t.version;return{current:e,version:u,isWindows:c(n,e),isiOS:c(i,e),isAndroid:c(r,e),isOSX:c(a,e),isLinux:c(o,e),isSolaris:c(s,e),isFreeBSD:c(l,e)}};return{unknown:u,nu:d,windows:t.constant(n),ios:t.constant(i),android:t.constant(r),linux:t.constant(o),osx:t.constant(a),solaris:t.constant(s),freebsd:t.constant(l)}}),a("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(t){return function(e,n,i){var r=e.isiOS()&&/ipad/i.test(i)===!0,o=e.isiOS()&&!r,a=e.isAndroid()&&3===e.version.major,s=e.isAndroid()&&4===e.version.major,l=r||a||s&&/mobile/i.test(i)===!0,c=e.isiOS()||e.isAndroid(),u=c&&!l,d=n.isSafari()&&e.isiOS()&&/safari/i.test(i)===!1;return{isiPad:t.constant(r),isiPhone:t.constant(o),isTablet:t.constant(l),isPhone:t.constant(u),isTouch:t.constant(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:t.constant(d)}}}),a("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(t,e,n){var i=function(e,i){var r=n(i).toLowerCase();return t.find(e,function(t){return t.search(r)})},r=function(t,n){return i(t,n).map(function(t){var i=e.detect(t.versionRegexes,n);return{current:t.name,version:i}})},o=function(t,n){return i(t,n).map(function(t){var i=e.detect(t.versionRegexes,n);return{current:t.name,version:i}})};return{detectBrowser:r,detectOs:o}}),a("ephox.katamari.str.StrAppend",[],function(){var t=function(t,e){return e+t},e=function(t,e){return t+e},n=function(t,e){return t.substring(e)},i=function(t,e){return t.substring(0,t.length-e)};return{addToStart:t,addToEnd:e,removeFromStart:n,removeFromEnd:i}}),a("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(t){var e=function(t,e){return t.substr(0,e)},n=function(t,e){return t.substr(t.length-e,t.length)},i=function(e){return""===e?t.none():t.some(e.substr(0,1))},r=function(e){return""===e?t.none():t.some(e.substring(1))};return{first:e,last:n,head:i,tail:r}}),a("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(t,e){var n=function(t,e,n){if(""===e)return!0;if(t.length<e.length)return!1;var i=t.substr(n,n+e.length);return i===e},i=function(t,e){var n=function(t){var e=typeof t;return"string"===e||"number"===e};return t.replace(/\${([^{}]*)}/g,function(t,i){var r=e[i];return n(r)?r:t})},r=function(e,n){return u(e,n)?t.removeFromStart(e,n.length):e},o=function(e,n){return d(e,n)?t.removeFromEnd(e,n.length):e},a=function(e,n){return u(e,n)?e:t.addToStart(e,n)},s=function(e,n){return d(e,n)?e:t.addToEnd(e,n)},l=function(t,e){return t.indexOf(e)!==-1},c=function(t){return e.head(t).bind(function(n){return e.tail(t).map(function(t){return n.toUpperCase()+t})}).getOr(t)},u=function(t,e){return n(t,e,0)},d=function(t,e){return n(t,e,t.length-e.length)},h=function(t){return t.replace(/^\s+|\s+$/g,"")},f=function(t){return t.replace(/^\s+/g,"")},p=function(t){return t.replace(/\s+$/g,"")};return{supplant:i,startsWith:u,removeLeading:r,removeTrailing:o,ensureLeading:a,ensureTrailing:s,endsWith:d,contains:l,trim:h,lTrim:f,rTrim:p,capitalize:c}}),a("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(t,e){var n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,i=function(t){return function(n){return e.contains(n,t)}},r=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){var n=e.contains(t,"edge/")&&e.contains(t,"chrome")&&e.contains(t,"safari")&&e.contains(t,"applewebkit");return n}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,n],search:function(t){return e.contains(t,"chrome")&&!e.contains(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return e.contains(t,"msie")||e.contains(t,"trident")}},{name:"Opera",versionRegexes:[n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:i("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:i("firefox")},{name:"Safari",versionRegexes:[n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(e.contains(t,"safari")||e.contains(t,"mobile/"))&&e.contains(t,"applewebkit")}}],o=[{name:"Windows",search:i("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return e.contains(t,"iphone")||e.contains(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:i("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:i("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:i("linux"),versionRegexes:[]},{name:"Solaris",search:i("sunos"),versionRegexes:[]},{name:"FreeBSD",search:i("freebsd"),versionRegexes:[]}];return{browsers:t.constant(r),oses:t.constant(o)}}),a("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(t,e,n,i,r){var o=function(o){var a=r.browsers(),s=r.oses(),l=i.detectBrowser(a,o).fold(t.unknown,t.nu),c=i.detectOs(s,o).fold(e.unknown,e.nu),u=n(c,l,o);return{browser:l,os:c,deviceType:u}};return{detect:o}}),a("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(t,e,n){var i=t.cached(function(){var t=n.userAgent;return e.detect(t)});return{detect:i}}),a("global!console",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),a("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","ephox.katamari.api.Option","global!Error","global!console","global!document"],function(t,e,n,i,r){var o=function(t,e){var n=e||r,o=n.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw i.error("HTML does not have a single root node",t),"HTML must have a single root node";return l(o.childNodes[0])},a=function(t,e){var n=e||r,i=n.createElement(t);return l(i)},s=function(t,e){var n=e||r,i=n.createTextNode(t);return l(i)},l=function(e){if(null===e||void 0===e)throw new n("Node cannot be null or undefined");return{dom:t.constant(e)}},c=function(t,n,i){return e.from(t.dom().elementFromPoint(n,i)).map(l)};return{fromHtml:o,fromTag:a,fromText:s,fromDom:l,fromPoint:c}}),a("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),a("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(t){var e=function(t){var e=t.dom().nodeName;return e.toLowerCase()},n=function(t){return t.dom().nodeType},i=function(t){return t.dom().nodeValue},r=function(t){return function(e){return n(e)===t}},o=function(i){return n(i)===t.COMMENT||"#comment"===e(i)},a=r(t.ELEMENT),s=r(t.TEXT),l=r(t.DOCUMENT);return{name:e,type:n,value:i,isElement:a,isText:s,isDocument:l,isComment:o}}),a("ephox.katamari.api.Type",["global!Array","global!String"],function(t,e){var n=function(n){if(null===n)return"null";var i=typeof n;return"object"===i&&t.prototype.isPrototypeOf(n)?"array":"object"===i&&e.prototype.isPrototypeOf(n)?"string":i},i=function(t){return function(e){return n(e)===t}};return{isString:i("string"),isObject:i("object"),isArray:i("array"),isNull:i("null"),isBoolean:i("boolean"),isUndefined:i("undefined"),isFunction:i("function"),isNumber:i("number")}}),a("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(t,e){var n=function(){var t=e.keys,n=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};return void 0===t?n:t}(),i=function(t,e){for(var i=n(t),r=0,o=i.length;r<o;r++){var a=i[r],s=t[a];e(s,a,t)}},r=function(t,e){return o(t,function(t,n,i){return{k:n,v:e(t,n,i)}})},o=function(t,e){var n={};return i(t,function(i,r){var o=e(i,r,t);n[o.k]=o.v}),n},a=function(t,e){var n={},r={};return i(t,function(t,i){var o=e(t,i)?n:r;o[i]=t}),{t:n,f:r}},s=function(t,e){var n=[];return i(t,function(t,i){n.push(e(t,i))}),n},l=function(e,i){for(var r=n(e),o=0,a=r.length;o<a;o++){var s=r[o],l=e[s];if(i(l,s,e))return t.some(l)}return t.none()},c=function(t){return s(t,function(t){return t})},u=function(t){return c(t).length};return{bifilter:a,each:i,map:r,mapToArray:s,tupleMap:o,find:l,keys:n,values:c,size:u}}),a("ephox.sugar.api.properties.Attr",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.sugar.api.node.Node","global!Error","global!console"],function(t,e,n,i,r,o){var a=function(e,n,i){if(!(t.isString(i)||t.isBoolean(i)||t.isNumber(i)))throw o.error("Invalid call to Attr.set. Key ",n,":: Value ",i,":: Element ",e),new r("Attribute value was not simple");e.setAttribute(n,i+"")},s=function(t,e,n){a(t.dom(),e,n)},l=function(t,e){var i=t.dom();n.each(e,function(t,e){a(i,e,t)})},c=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},u=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},d=function(t,e){t.dom().removeAttribute(e)},h=function(t){var e=t.dom().attributes;return void 0===e||null===e||0===e.length},f=function(t){return e.foldl(t.dom().attributes,function(t,e){return t[e.name]=e.value,t},{})},p=function(t,e,n){u(t,n)&&!u(e,n)&&s(e,n,c(t,n))},m=function(t,n,r){i.isElement(t)&&i.isElement(n)&&e.each(r,function(e){p(t,n,e)})};return{clone:f,set:s,setAll:l,get:c,has:u,remove:d,hasNone:h,transfer:m}}),a("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(t,e,n,i){var r=function(t){var e=n.isText(t)?t.dom().parentNode:t.dom();return void 0!==e&&null!==e&&e.ownerDocument.body.contains(e)},o=t.cached(function(){return a(e.fromDom(i))}),a=function(t){var n=t.dom().body;if(null===n||void 0===n)throw"Body is not available yet";return e.fromDom(n)};return{body:o,getBody:a,inBody:r}}),a("ephox.sugar.impl.Style",[],function(){var t=function(t){return void 0!==t.style};return{isSupported:t}}),a("ephox.sugar.api.properties.Css",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Body","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.impl.Style","ephox.katamari.api.Strings","global!Error","global!console","global!window"],function(t,e,n,i,r,o,a,s,l,c,u,d,h){var f=function(e,n,i){if(!t.isString(i))throw d.error("Invalid call to CSS.set. Property ",n,":: Value ",i,":: Element ",e),new u("CSS value must be a string: "+i);l.isSupported(e)&&e.style.setProperty(n,i)},p=function(t,e){l.isSupported(t)&&t.style.removeProperty(e)},m=function(t,e,n){var i=t.dom();f(i,e,n)},g=function(t,e){var i=t.dom();n.each(e,function(t,e){f(i,e,t)})},v=function(t,e){var i=t.dom();n.each(e,function(t,e){t.fold(function(){p(i,e)},function(t){f(i,e,t)})})},y=function(t,e){var n=t.dom(),i=h.getComputedStyle(n),r=i.getPropertyValue(e),a=""!==r||o.inBody(t)?r:b(n,e);return null===a?void 0:a},b=function(t,e){return l.isSupported(t)?t.style.getPropertyValue(e):""},_=function(t,e){var n=t.dom(),r=b(n,e);return i.from(r).filter(function(t){return t.length>0})},w=function(t){var e={},n=t.dom();if(l.isSupported(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);e[r]=n.style[r]}return e},x=function(t,e,n){var i=a.fromTag(t);m(i,e,n);var r=_(i,e);return r.isSome()},k=function(t,e){var n=t.dom();p(n,e),r.has(t,"style")&&""===c.trim(r.get(t,"style"))&&r.remove(t,"style")},C=function(t,e){var n=r.get(t,"style"),i=e(t),o=void 0===n?r.remove:r.set;return o(t,"style",n),i},T=function(t,e){var n=t.dom(),i=e.dom();l.isSupported(n)&&l.isSupported(i)&&(i.style.cssText=n.style.cssText)},S=function(t){return t.dom().offsetWidth},E=function(t,e,n){_(t,n).each(function(t){_(e,n).isNone()&&m(e,n,t)})},O=function(t,n,i){s.isElement(t)&&s.isElement(n)&&e.each(i,function(e){E(t,n,e)})};return{copy:T,set:m,preserve:C,setAll:g,setOptions:v,remove:k,get:y,getRaw:_,getAllRaw:w,isValidValue:x,reflow:S,transfer:O}}),a("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(t,e,n,i){return function(){var r=arguments;return function(){for(var o=new n(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];if(r.length!==o.length)throw new i('Wrong number of arguments to struct. Expected "['+r.length+']", got '+o.length+" arguments");var s={};return t.each(r,function(t,n){s[t]=e.constant(o[n])}),s}}}),a("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(t,e,n){var i=function(t){return t.slice(0).sort()},r=function(t,e){throw new n("All required keys ("+i(t).join(", ")+") were not specified. Specified keys were: "+i(e).join(", ")+".")},o=function(t){throw new n("Unsupported keys for object: "+i(t).join(", "))},a=function(i,r){if(!e.isArray(r))throw new n("The "+i+" fields must be an array. Was: "+r+".");t.each(r,function(t){if(!e.isString(t))throw new n("The value "+t+" in the "+i+" fields was not a string.")})},s=function(t,e){throw new n("All values need to be of type: "+e+". Keys ("+i(t).join(", ")+") were not.");
},l=function(e){var r=i(e),o=t.find(r,function(t,e){return e<r.length-1&&t===r[e+1]});o.each(function(t){throw new n("The field: "+t+" occurs more than once in the combined fields: ["+r.join(", ")+"].")})};return{sort:i,reqMessage:r,unsuppMessage:o,validateStrArr:a,invalidTypeMessage:s,checkDupes:l}}),a("ephox.katamari.data.MixedBag",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.util.BagUtils","global!Error","global!Object"],function(t,e,n,i,r,o,a){return function(s,l){var c=s.concat(l);if(0===c.length)throw new o("You must specify at least one required or optional field.");return r.validateStrArr("required",s),r.validateStrArr("optional",l),r.checkDupes(c),function(o){var u=n.keys(o),d=t.forall(s,function(e){return t.contains(u,e)});d||r.reqMessage(s,u);var h=t.filter(u,function(e){return!t.contains(c,e)});h.length>0&&r.unsuppMessage(h);var f={};return t.each(s,function(t){f[t]=e.constant(o[t])}),t.each(l,function(t){f[t]=e.constant(a.prototype.hasOwnProperty.call(o,t)?i.some(o[t]):i.none())}),f}}}),a("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(t,e){return{immutable:t,immutableBag:e}}),a("ephox.sugar.alien.Recurse",[],function(){var t=function(t,e){var n=[],i=function(t){return n.push(t),e(t)},r=e(t);do r=r.bind(i);while(r.isSome());return n};return{toArray:t}}),a("ephox.sand.api.Node",["ephox.sand.util.Global"],function(t){var e=function(){var e=t.getOrDie("Node");return e},n=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},i=function(t,i){return n(t,i,e().DOCUMENT_POSITION_PRECEDING)},r=function(t,i){return n(t,i,e().DOCUMENT_POSITION_CONTAINED_BY)};return{documentPositionPreceding:i,documentPositionContainedBy:r}}),a("ephox.sugar.api.search.Selectors",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.NodeTypes","global!Error","global!document"],function(t,e,n,i,r,o){var a=i.ELEMENT,s=i.DOCUMENT,l=function(t,e){var n=t.dom();if(n.nodeType!==a)return!1;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new r("Browser lacks native selectors")},c=function(t){return t.nodeType!==a&&t.nodeType!==s||0===t.childElementCount},u=function(e,i){var r=void 0===i?o:i.dom();return c(r)?[]:t.map(r.querySelectorAll(e),n.fromDom)},d=function(t,i){var r=void 0===i?o:i.dom();return c(r)?e.none():e.from(r.querySelector(t)).map(n.fromDom)};return{all:u,is:l,one:d}}),a("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(t,e,n,i,r){var o=function(t,e){return t.dom()===e.dom()},a=function(t,e){return t.dom().isEqualNode(e.dom())},s=function(n,i){return t.exists(i,e.curry(o,n))},l=function(t,e){var n=t.dom(),i=e.dom();return n!==i&&n.contains(i)},c=function(t,e){return n.documentPositionContainedBy(t.dom(),e.dom())},u=i.detect().browser,d=u.isIE()?c:l;return{eq:o,isEqualNode:a,member:s,contains:d,is:r.is}}),a("ephox.sugar.api.search.Traverse",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(t,e,n,i,r,o,a,s){var l=function(t){return s.fromDom(t.dom().ownerDocument)},c=function(t){var e=l(t);return s.fromDom(e.dom().documentElement)},u=function(t){var e=t.dom(),n=e.ownerDocument.defaultView;return s.fromDom(n)},d=function(t){var e=t.dom();return i.from(e.parentNode).map(s.fromDom)},h=function(t){return d(t).bind(function(n){var i=_(n);return e.findIndex(i,function(e){return a.eq(t,e)})})},f=function(e,i){for(var r=t.isFunction(i)?i:n.constant(!1),o=e.dom(),a=[];null!==o.parentNode&&void 0!==o.parentNode;){var l=o.parentNode,c=s.fromDom(l);if(a.push(c),r(c)===!0)break;o=l}return a},p=function(t){var n=function(n){return e.filter(n,function(e){return!a.eq(t,e)})};return d(t).map(_).map(n).getOr([])},m=function(t){var e=t.dom();return i.from(e.offsetParent).map(s.fromDom)},g=function(t){var e=t.dom();return i.from(e.previousSibling).map(s.fromDom)},v=function(t){var e=t.dom();return i.from(e.nextSibling).map(s.fromDom)},y=function(t){return e.reverse(o.toArray(t,g))},b=function(t){return o.toArray(t,v)},_=function(t){var n=t.dom();return e.map(n.childNodes,s.fromDom)},w=function(t,e){var n=t.dom().childNodes;return i.from(n[e]).map(s.fromDom)},x=function(t){return w(t,0)},k=function(t){return w(t,t.dom().childNodes.length-1)},C=function(t){return t.dom().childNodes.length},T=function(t){return t.dom().hasChildNodes()},S=r.immutable("element","offset"),E=function(t,e){var n=_(t);return n.length>0&&e<n.length?S(n[e],0):S(t,e)};return{owner:l,defaultView:u,documentElement:c,parent:d,findIndex:h,parents:f,siblings:p,prevSibling:g,offsetParent:m,prevSiblings:y,nextSibling:v,nextSiblings:b,children:_,child:w,firstChild:x,lastChild:k,childNodesCount:C,hasChildNodes:T,leaf:E}}),a("tinymce.core.dom.Position",["ephox.katamari.api.Arr","ephox.sand.api.PlatformDetection","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.properties.Css","ephox.sugar.api.search.Traverse"],function(t,e,n,i,r,o){var a=e.detect().browser,s=function(e){return t.find(e,i.isElement)},l=function(t){return a.isFirefox()&&"table"===i.name(t)?s(o.children(t)).filter(function(t){return"caption"===i.name(t)}).bind(function(t){return s(o.nextSiblings(t)).map(function(e){var n=e.dom().offsetTop,i=t.dom().offsetTop,r=t.dom().offsetHeight;return n<=i?-r:0})}).getOr(0):0},c=function(t,e,i){var o,a,s=0,c=0,u=t.ownerDocument;if(i=i?i:t,e){if(i===t&&e.getBoundingClientRect&&"static"===r.get(n.fromDom(t),"position"))return a=e.getBoundingClientRect(),s=a.left+(u.documentElement.scrollLeft||t.scrollLeft)-u.documentElement.clientLeft,c=a.top+(u.documentElement.scrollTop||t.scrollTop)-u.documentElement.clientTop,{x:s,y:c};for(o=e;o&&o!==i&&o.nodeType;)s+=o.offsetLeft||0,c+=o.offsetTop||0,o=o.offsetParent;for(o=e.parentNode;o&&o!==i&&o.nodeType;)s-=o.scrollLeft||0,c-=o.scrollTop||0,o=o.parentNode;c+=l(n.fromDom(e))}return{x:s,y:c}};return{getPos:c}}),a("ephox.katamari.api.LazyValue",["ephox.katamari.api.Arr","ephox.katamari.api.Option","global!setTimeout"],function(t,e,n){var i=function(r){var o=e.none(),a=[],s=function(t){return i(function(e){l(function(n){e(t(n))})})},l=function(t){u()?h(t):a.push(t)},c=function(t){o=e.some(t),d(a),a=[]},u=function(){return o.isSome()},d=function(e){t.each(e,h)},h=function(t){o.each(function(e){n(function(){t(e)},0)})};return r(c),{get:l,map:s,isReady:u}},r=function(t){return i(function(e){e(t)})};return{nu:i,pure:r}}),a("ephox.katamari.async.Bounce",["global!Array","global!setTimeout"],function(t,e){var n=function(n){return function(){var i=t.prototype.slice.call(arguments),r=this;e(function(){n.apply(r,i)},0)}};return{bounce:n}}),a("ephox.katamari.api.Future",["ephox.katamari.api.LazyValue","ephox.katamari.async.Bounce"],function(t,e){var n=function(i){var r=function(t){i(e.bounce(t))},o=function(t){return n(function(e){r(function(n){var i=t(n);e(i)})})},a=function(t){return n(function(e){r(function(n){t(n).get(e)})})},s=function(t){return n(function(e){r(function(){t.get(e)})})},l=function(){return t.nu(r)};return{map:o,bind:a,anonBind:s,toLazy:l,get:r}},i=function(t){return n(function(e){e(t)})};return{nu:n,pure:i}}),a("ephox.katamari.async.AsyncValues",["ephox.katamari.api.Arr"],function(t){var e=function(e,n){return n(function(n){var i=[],r=0,o=function(t){return function(o){i[t]=o,r++,r>=e.length&&n(i)}};0===e.length?n([]):t.each(e,function(t,e){t.get(o(e))})})};return{par:e}}),a("ephox.katamari.api.Futures",["ephox.katamari.api.Arr","ephox.katamari.api.Future","ephox.katamari.async.AsyncValues"],function(t,e,n){var i=function(t){return n.par(t,e.nu)},r=function(e,n){var r=t.map(e,n);return i(r)},o=function(t,e){return function(n){return e(n).bind(t)}};return{par:i,mapM:r,compose:o}}),a("ephox.katamari.api.Result",["ephox.katamari.api.Fun","ephox.katamari.api.Option"],function(t,e){var n=function(i){var r=function(t){return i===t},o=function(){return n(i)},a=function(){return n(i)},s=function(t){return n(t(i))},l=function(t){t(i)},c=function(t){return t(i)},u=function(t,e){return e(i)},d=function(t){return t(i)},h=function(t){return t(i)},f=function(){return e.some(i)};return{is:r,isValue:t.constant(!0),isError:t.constant(!1),getOr:t.constant(i),getOrThunk:t.constant(i),getOrDie:t.constant(i),or:o,orThunk:a,fold:u,map:s,each:l,bind:c,exists:d,forall:h,toOption:f}},i=function(n){var r=function(t){return t()},o=function(){return t.die(n)()},a=function(t){return t},s=function(t){return t()},l=function(){return i(n)},c=function(){return i(n)},u=function(t){return t(n)};return{is:t.constant(!1),isValue:t.constant(!1),isError:t.constant(!0),getOr:t.identity,getOrThunk:r,getOrDie:o,or:a,orThunk:s,fold:u,map:l,each:t.noop,bind:c,exists:t.constant(!1),forall:t.constant(!0),toOption:e.none}};return{value:n,error:i}}),a("tinymce.core.dom.StyleSheetLoader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Future","ephox.katamari.api.Futures","ephox.katamari.api.Result","global!navigator","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s){"use strict";return function(l,c){var u,d=0,h={};c=c||{},u=c.maxLoadTime||5e3;var f=function(t){l.getElementsByTagName("head")[0].appendChild(t)},p=function(t,e,n){var i,r,c,p,m=function(){for(var t=p.passed,e=t.length;e--;)t[e]();p.status=2,p.passed=[],p.failed=[]},g=function(){for(var t=p.failed,e=t.length;e--;)t[e]();p.status=3,p.passed=[],p.failed=[]},v=function(){var t=o.userAgent.match(/WebKit\/(\d*)/);return!!(t&&t[1]<536)},y=function(t,e){t()||((new Date).getTime()-c<u?a.setTimeout(e):g())},b=function(){y(function(){for(var t,e,n=l.styleSheets,r=n.length;r--;)if(t=n[r],e=t.ownerNode?t.ownerNode:t.owningElement,e&&e.id===i.id)return m(),!0},b)},_=function(){y(function(){try{var t=r.sheet.cssRules;return m(),!!t}catch(t){}},_)};if(t=s._addCacheSuffix(t),h[t]?p=h[t]:(p={passed:[],failed:[]},h[t]=p),e&&p.passed.push(e),n&&p.failed.push(n),1!=p.status){if(2==p.status)return void m();if(3==p.status)return void g();if(p.status=1,i=l.createElement("link"),i.rel="stylesheet",i.type="text/css",i.id="u"+d++,i.async=!1,i.defer=!1,c=(new Date).getTime(),"onload"in i&&!v())i.onload=b,i.onerror=g;else{if(o.userAgent.indexOf("Firefox")>0)return r=l.createElement("style"),r.textContent='@import "'+t+'"',_(),void f(r);b()}f(i),i.href=t}},m=function(t){return n.nu(function(n){p(t,e.compose(n,e.constant(r.value(t))),e.compose(n,e.constant(r.error(t))))})},g=function(t){return t.fold(e.identity,e.identity)},v=function(e,n,r){i.par(t.map(e,m)).get(function(e){var i=t.partition(e,function(t){return t.isValue()});i.fail.length>0?r(i.fail.map(g)):n(i.pass.map(g))})};return{load:p,loadAll:v}}}),a("tinymce.core.dom.TreeWalker",[],function(){return function(t,e){var n=t,i=function(t,n,i,r){var o,a;if(t){if(!r&&t[n])return t[n];if(t!=e){if(o=t[i])return o;for(a=t.parentNode;a&&a!=e;a=a.parentNode)if(o=a[i])return o}}},r=function(t,n,i,r){var o,a,s;if(t){if(o=t[i],e&&o===e)return;if(o){if(!r)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if(a=t.parentNode,a&&a!==e)return a}};this.current=function(){return n},this.next=function(t){return n=i(n,"firstChild","nextSibling",t)},this.prev=function(t){return n=i(n,"lastChild","previousSibling",t)},this.prev2=function(t){return n=r(n,"lastChild","previousSibling",t)}}}),a("tinymce.core.dom.ElementType",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Node"],function(t,e,n){var i=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],r=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],o=["td","th"],a=["thead","tbody","tfoot"],s=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],l=["h1","h2","h3","h4","h5","h6"],c=["li","dd","dt"],u=["ul","ol","dl"],d=function(i){var r;return function(o){return r=r?r:t.mapToObject(i,e.constant(!0)),r.hasOwnProperty(n.name(o))}},h=d(l),f=d(i),p=function(t){return n.isElement(t)&&!f(t)},m=function(t){return n.isElement(t)&&"br"===n.name(t)};return{isBlock:f,isInline:p,isHeading:h,isTextBlock:d(s),isList:d(u),isListItem:d(c),isVoid:d(r),isTableSection:d(a),isTableCell:d(o),isBr:m}}),a("tinymce.core.dom.NodeType",[],function(){var t=function(t){return function(e){return!!e&&e.nodeType==t}},e=t(1),n=function(t){return t=t.toLowerCase().split(" "),function(e){var n,i;if(e&&e.nodeType)for(i=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(i===t[n])return!0;return!1}},i=function(t,n){return n=n.toLowerCase().split(" "),function(i){var r,o;if(e(i))for(r=0;r<n.length;r++)if(o=i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(t),o===n[r])return!0;return!1}},r=function(t,n){return function(i){return e(i)&&i[t]===n}},o=function(t){return function(n){return e(n)&&n.hasAttribute(t)}},a=function(t,n){return function(i){return e(i)&&i.getAttribute(t)===n}},s=function(t){return e(t)&&t.hasAttribute("data-mce-bogus")},l=function(t){return function(n){if(e(n)){if(n.contentEditable===t)return!0;if(n.getAttribute("data-mce-contenteditable")===t)return!0}return!1}};return{isText:t(3),isElement:e,isComment:t(8),isDocument:t(9),isBr:n("br"),isContentEditableTrue:l("true"),isContentEditableFalse:l("false"),matchNodeNames:n,hasPropValue:r,hasAttribute:o,hasAttributeValue:a,matchStyleValues:i,isBogus:s}}),a("tinymce.core.dom.TrimNode",["ephox.sugar.api.node.Element","tinymce.core.dom.ElementType","tinymce.core.dom.NodeType","tinymce.core.util.Tools"],function(t,e,n,i){var r=function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n},o=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},a=function(s,l){var c,u=l.childNodes;if(!n.isElement(l)||!o(l)){for(c=u.length-1;c>=0;c--)a(s,u[c]);if(n.isDocument(l)===!1){if(n.isText(l)&&l.nodeValue.length>0){var d=i.trim(l.nodeValue).length;if(s.isBlock(l.parentNode)||d>0)return;if(0===d&&r(l))return}else if(n.isElement(l)&&(u=l.childNodes,1===u.length&&o(u[0])&&l.parentNode.insertBefore(u[0],l),u.length||e.isVoid(t.fromDom(l))))return;s.remove(l)}return l}};return{trimNode:a}}),a("tinymce.core.html.Entities",["ephox.sugar.api.node.Element","tinymce.core.util.Tools"],function(t,e){var n,i,r,o=e.makeMap,a=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,u={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};i={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},r={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var d=function(e){var n;return n=t.fromTag("div").dom(),n.innerHTML=e,n.textContent||n.innerText||e},h=function(t,e){var n,r,o,a={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r=String.fromCharCode(parseInt(t[n],e)),i[r]||(o="&"+t[n+1]+";",a[r]=o,a[o]=r);return a}};n=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(t,e){return t.replace(e?a:s,function(t){return i[t]||t})},encodeAllRaw:function(t){return(""+t).replace(l,function(t){return i[t]||t})},encodeNumeric:function(t,e){return t.replace(e?a:s,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":i[t]||"&#"+t.charCodeAt(0)+";"})},encodeNamed:function(t,e,r){return r=r||n,t.replace(e?a:s,function(t){return i[t]||r[t]||t})},getEncodeFunc:function(t,e){e=h(e)||n;var r=function(t,n){return t.replace(n?a:s,function(t){return void 0!==i[t]?i[t]:void 0!==e[t]?e[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"})},l=function(t,n){return f.encodeNamed(t,n,e)};return t=o(t.replace(/\+/g,",")),t.named&&t.numeric?r:t.named?e?l:f.encodeNamed:t.numeric?f.encodeNumeric:f.encodeRaw},decode:function(t){return t.replace(c,function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10),e>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):u[e]||String.fromCharCode(e)):r[t]||n[t]||d(t)})}};return f}),a("tinymce.core.html.Schema",["tinymce.core.util.Tools"],function(t){var e={},n={},i=t.makeMap,r=t.each,o=t.extend,a=t.explode,s=t.inArray,l=function(e,n){return e=t.trim(e),e?e.split(n||" "):[]},c=function(t){var i,o,a,s,c,u,d={},h=function(t,e,r){var o,a,s,c=function(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e||{};return r};for(r=r||[],e=e||"","string"==typeof r&&(r=l(r)),t=l(t),o=t.length;o--;)a=l([i,e].join(" ")),s={attributes:c(a),attributesOrder:a,children:c(r,n)},d[t[o]]=s},f=function(t,e){var n,i,r,o;for(t=l(t),n=t.length,e=l(e);n--;)for(i=d[t[n]],r=0,o=e.length;r<o;r++)i.attributes[e[r]]={},i.attributesOrder.push(e[r])};return e[t]?e[t]:(i="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=t&&(i+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure header footer hgroup section nav",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=t&&(i+=" xml:lang",u="acronym applet basefont big font strike tt",a=[a,u].join(" "),r(l(u),function(t){h(t,"",a)}),c="center dir isindex noframes",o=[o,c].join(" "),s=[o,a].join(" "),r(l(c),function(t){h(t,"",s)})),s=s||[o,a].join(" "),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),h("address dt dd div caption","",s),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),h("blockquote","cite",s),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",s),h("dl","","dt dd"),h("a","href target rel media hreflang type",a),h("q","cite",a),h("ins del","cite datetime",s),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",s),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),h("param","name value"),h("map","name",[s,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",s),h("th","colspan rowspan headers scope abbr",s),h("form","accept-charset action autocomplete enctype method name novalidate target",s),h("fieldset","disabled form name",[s,"legend"].join(" ")),h("label","form for",a),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?s:a),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[s,"li"].join(" ")),h("noscript","",s),"html4"!=t&&(h("wbr"),h("ruby","",[a,"rt rp"].join(" ")),h("figcaption","",s),h("mark rt rp summary bdi","",a),h("canvas","width height",s),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[a,"option"].join(" ")),h("article section nav aside header footer","",s),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[s,"figcaption"].join(" ")),h("time","datetime",a),h("dialog","open",s),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",a),h("progress","value max",a),h("meter","value min max low high optimum",a),h("details","open",[s,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select","onchange"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),"html4"!=t&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("iframe","sandbox seamless allowfullscreen")),r(l("a form meter progress dfn"),function(t){d[t]&&delete d[t].children[t]}),delete d.caption.children.table,delete d.script,e[t]=d,d)},u=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),r(t,function(t,r){n[r]=n[r.toUpperCase()]="map"==e?i(t,/[, ]/):a(t,/[, ]/)})),n};return function(t){var n,d,h,f,p,m,g,v,y,b,_,w,x,k=this,C={},T={},S=[],E={},O={},A=function(n,r,a){var s=t[n];return s?s=i(s,/[, ]/,i(s.toUpperCase(),/[, ]/)):(s=e[n],s||(s=i(r," ",i(r.toUpperCase()," ")),s=o(s,a),e[n]=s)),s};t=t||{},h=c(t.schema),t.verify_html===!1&&(t.valid_elements="*[*]"),n=u(t.valid_styles),d=u(t.invalid_styles,"map"),v=u(t.valid_classes,"map"),f=A("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=A("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=A("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=A("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),b=A("non_empty_elements","td th iframe video audio object script pre code",m),_=A("move_caret_before_on_enter_elements","table",b),w=A("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),y=A("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",w),x=A("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),r((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(t){O[t]=new RegExp("</"+t+"[^>]*>","gi")});var M=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},P=function(t){var e,n,r,o,a,c,u,d,h,f,p,m,g,v,y,b,_,w,x,k=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,T=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,E=/[*?+]/;if(t)for(t=l(t,","),C["@"]&&(b=C["@"].attributes,_=C["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(a=k.exec(t[e])){if(v=a[1],h=a[2],y=a[3],d=a[5],m={},g=[],c={attributes:m,attributesOrder:g},"#"===v&&(c.paddEmpty=!0),"-"===v&&(c.removeEmpty=!0),"!"===a[4]&&(c.removeEmptyAttrs=!0),b){for(w in b)m[w]=b[w];g.push.apply(g,_)}if(d)for(d=l(d,"|"),r=0,o=d.length;r<o;r++)if(a=T.exec(d[r])){if(u={},p=a[1],f=a[2].replace(/[\\:]:/g,":"),v=a[3],x=a[4],"!"===p&&(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(f),u.required=!0),"-"===p){delete m[f],g.splice(s(g,f),1);continue}v&&("="===v&&(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:f,value:x}),u.defaultValue=x),":"===v&&(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:f,value:x}),u.forcedValue=x),"<"===v&&(u.validValues=i(x,"?"))),E.test(f)?(c.attributePatterns=c.attributePatterns||[],u.pattern=M(f),c.attributePatterns.push(u)):(m[f]||g.push(f),m[f]=u)}b||"@"!=h||(b=m,_=g),y&&(c.outputName=h,C[y]=c),E.test(h)?(c.pattern=M(h),S.push(c)):C[h]=c}},D=function(t){C={},S=[],P(t),r(h,function(t,e){T[e]=t.children})},j=function(t){var n=/^(~)?(.+)$/;t&&(e.text_block_elements=e.block_elements=null,r(l(t,","),function(t){var e=n.exec(t),i="~"===e[1],a=i?"span":"div",s=e[2];if(T[s]=T[a],E[s]=a,i||(y[s.toUpperCase()]={},y[s]={}),!C[s]){var l=C[a];l=o({},l),delete l.removeEmptyAttrs,delete l.removeEmpty,C[s]=l}r(T,function(t,e){t[a]&&(T[e]=t=o({},T[e]),t[s]=t[a])})}))},N=function(n){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e[t.schema]=null,n&&r(l(n,","),function(t){var e,n,o=i.exec(t);o&&(n=o[1],e=n?T[o[2]]:T[o[2]]={"#comment":{}},e=T[o[2]],r(l(o[3],"|"),function(t){"-"===n?delete e[t]:e[t]={}}))})},L=function(t){var e,n=C[t];if(n)return n;for(e=S.length;e--;)if(n=S[e],n.pattern.test(t))return n};t.valid_elements?D(t.valid_elements):(r(h,function(t,e){C[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},T[e]=t.children}),"html5"!=t.schema&&r(l("strong/b em/i"),function(t){t=l(t,"/"),C[t[1]].outputName=t[0]}),r(l("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){C[t]&&(C[t].removeEmpty=!0)}),r(l("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(t){C[t].paddEmpty=!0}),r(l("span"),function(t){C[t].removeEmptyAttrs=!0})),j(t.custom_elements),N(t.valid_children),P(t.extended_valid_elements),N("+ol[ul|ol],+ul[ul|ol]"),r({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,e){C[e]&&(C[e].parentsRequired=l(t))}),t.invalid_elements&&r(a(t.invalid_elements),function(t){C[t]&&delete C[t]}),L("span")||P("span[!data-mce-type|*]"),k.children=T,k.getValidStyles=function(){return n},k.getInvalidStyles=function(){return d},k.getValidClasses=function(){return v},k.getBoolAttrs=function(){return g},k.getBlockElements=function(){return y},k.getTextBlockElements=function(){return w},k.getTextInlineElements=function(){return x},k.getShortEndedElements=function(){return m},k.getSelfClosingElements=function(){return p},k.getNonEmptyElements=function(){return b},k.getMoveCaretBeforeOnEnterElements=function(){return _},k.getWhiteSpaceElements=function(){return f},k.getSpecialElements=function(){return O},k.isValidChild=function(t,e){var n=T[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},k.isValid=function(t,e){var n,i,r=L(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},k.getElementRule=L,k.getCustomElements=function(){return E},k.addValidElements=P,k.setValidElements=D,k.addCustomElements=j,k.addValidChildren=N,k.elements=C}}),a("tinymce.core.html.Styles",[],function(){return function(t,e){var n,i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={},d="\ufeff";for(t=t||{},e&&(r=e.getValidStyles(),o=e.getInvalidStyles()),i=("\\\" \\' \\; \\: ; : "+d).split(" "),n=0;n<i.length;n++)u[i[n]]=d+n,u[d+n]=i[n];var h=function(t,e,n,i){var r=function(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t};return"#"+r(e)+r(n)+r(i)};return{toHex:function(t){return t.replace(a,h)},parse:function(e){var i,r,o,f,p={},m=t.url_converter,g=t.url_converter_scope||this,v=function(t,e,i){var r,o,a,s;if(r=p[t+"-top"+e],r&&(o=p[t+"-right"+e],o&&(a=p[t+"-bottom"+e],a&&(s=p[t+"-left"+e])))){var l=[r,o,a,s];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&i||(p[t+e]=n==-1?l[0]:l.join(" "),delete p[t+"-top"+e],delete p[t+"-right"+e],delete p[t+"-bottom"+e],delete p[t+"-left"+e])}},y=function(t){var e,n=p[t];if(n){for(n=n.split(" "),e=n.length;e--;)if(n[e]!==n[0])return!1;
return p[t]=n[0],!0}},b=function(t,e,n,i){y(e)&&y(n)&&y(i)&&(p[t]=p[e]+" "+p[n]+" "+p[i],delete p[e],delete p[n],delete p[i])},_=function(t){return f=!0,u[t]},w=function(t,e){return f&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return u[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},x=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},k=function(t){return t.replace(/\\[0-9a-f]+/gi,x)},C=function(e,n,i,r,o,a){if(o=o||a)return o=w(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=w(n||i||r),!t.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return m&&(n=m.call(g,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=e.replace(/[\u0000-\u001F]/g,""),e=e.replace(/\\[\"\';:\uFEFF]/g,_).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,_)});i=l.exec(e);)if(l.lastIndex=i.index+i[0].length,r=i[1].replace(c,"").toLowerCase(),o=i[2].replace(c,""),r&&o){if(r=k(r),o=k(o),r.indexOf(d)!==-1||r.indexOf('"')!==-1)continue;if(!t.allow_script_urls&&("behavior"==r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=o.replace(a,h),o=o.replace(s,C),p[r]=f?w(o,!0):o}v("border","",!0),v("border","-width"),v("border","-color"),v("border","-style"),v("padding",""),v("margin",""),b("border","border-width","border-style","border-color"),"medium none"===p.border&&delete p.border,"none"===p["border-image"]&&delete p["border-image"]}return p},serialize:function(t,e){var n,i,a="",s=function(e){var n,i,o,s;if(n=r[e])for(i=0,o=n.length;i<o;i++)e=n[i],s=t[e],s&&(a+=(a.length>0?" ":"")+e+": "+s+";")},l=function(t,e){var n;return n=o["*"],(!n||!n[t])&&(n=o[e],!n||!n[t])};if(e&&r)s("*"),s(e);else for(n in t)i=t[n],!i||o&&!l(n,e)||(a+=(a.length>0?" ":"")+n+": "+i+";");return a}}}}),a("tinymce.core.dom.DOMUtils",["global!document","global!window","tinymce.core.Env","tinymce.core.dom.DomQuery","tinymce.core.dom.EventUtils","tinymce.core.dom.Position","tinymce.core.dom.Sizzle","tinymce.core.dom.StyleSheetLoader","tinymce.core.dom.TreeWalker","tinymce.core.dom.TrimNode","tinymce.core.html.Entities","tinymce.core.html.Schema","tinymce.core.html.Styles","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f){var p=f.each,m=f.is,g=f.grep,v=n.ie,y=/^([a-z0-9],?)+$/i,b=/^[ \t\r\n]*$/,_=function(t,e){var n,i={},r=e.keep_values;return n={set:function(n,i,r){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||t,i,r,n[0])),n.attr("data-mce-"+r,i).attr(r,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(t,e){return null!==e&&"object"==typeof e?void t.css(e):(r&&t.attr("data-mce-style",e),void t.attr("style",e))},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serializeStyle(t.parseStyle(n),e[0].nodeName)}}},r&&(i.href=i.src=n),i},w=function(t,e){var n=e.attr("style");n=t.serializeStyle(t.parseStyle(n),e[0].nodeName),n||(n=null),e.attr("data-mce-style",n)},x=function(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!=i||i!=n&&t.nodeValue.length)&&(r++,n=i);return r},k=function(t,n){var o,a=this;a.doc=t,a.win=e,a.files={},a.counter=0,a.stdMode=!v||t.documentMode>=8,a.boxModel=!v||"CSS1Compat"==t.compatMode||a.stdMode,a.styleSheetLoader=new s(t),a.boundEvents=[],a.settings=n=n||{},a.schema=n.schema?n.schema:new d({}),a.styles=new h({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),a.fixDoc(t),a.events=n.ownEvents?new r(n.proxy):r.Event,a.attrHooks=_(a,n),o=a.schema.getBlockElements(),a.$=i.overrideDefaults(function(){return{context:t,element:a.getRoot()}}),a.isBlock=function(t){if(!t)return!1;var e=t.nodeType;return e?!(1!==e||!o[t.nodeName]):!!o[t]}};return k.prototype={$$:function(t){return"string"==typeof t&&(t=this.get(t)),this.$(t)},root:null,fixDoc:function(t){var e,n=this.settings;if(v&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)});for(e in n.schema.getCustomElements())t.createElement(e)}},clone:function(t,e){var n,i,r=this;return!v||1!==t.nodeType||e?t.cloneNode(e):(i=r.doc,e?n.firstChild:(n=i.createElement(t.nodeName),p(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),n))},getRoot:function(){var t=this;return t.settings.root_element||t.doc.body},getViewPort:function(t){var e,n;return t=t?t:this.win,e=t.document,n=this.boxModel?e.documentElement:e.body,{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight}},getRect:function(t){var e,n,i=this;return t=i.get(t),e=i.getPos(t),n=i.getSize(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:function(t){var e,n,i=this;return t=i.get(t),e=i.getStyle(t,"width"),n=i.getStyle(t,"height"),e.indexOf("px")===-1&&(e=0),n.indexOf("px")===-1&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},getParent:function(t,e,n){return this.getParents(t,e,n,!1)},getParents:function(t,e,n,i){var r,o=this,a=[];for(t=o.get(t),i=void 0===i,n=n||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),m(e,"string")&&(r=e,e="*"===e?function(t){return 1==t.nodeType}:function(t){return o.is(t,r)});t&&t!=n&&t.nodeType&&9!==t.nodeType;){if(!e||e(t)){if(!i)return t;a.push(t)}t=t.parentNode}return i?a:null},get:function(t){var e;return t&&this.doc&&"string"==typeof t&&(e=t,t=this.doc.getElementById(t),t&&t.id!==e)?this.doc.getElementsByName(e)[1]:t},getNext:function(t,e){return this._findSib(t,e,"nextSibling")},getPrev:function(t,e){return this._findSib(t,e,"previousSibling")},select:function(t,e){var n=this;return a(t,n.get(e)||n.settings.root_element||n.doc,[])},is:function(t,e){var n;if(!t)return!1;if(void 0===t.length){if("*"===e)return 1==t.nodeType;if(y.test(e)){for(e=e.toLowerCase().split(/,/),t=t.nodeName.toLowerCase(),n=e.length-1;n>=0;n--)if(e[n]==t)return!0;return!1}}if(t.nodeType&&1!=t.nodeType)return!1;var i=t.nodeType?[t]:t;return a(e,i[0].ownerDocument||i[0],null,i).length>0},add:function(t,e,n,i,r){var o=this;return this.run(t,function(t){var a;return a=m(e,"string")?o.doc.createElement(e):e,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:t.appendChild(a)})},create:function(t,e,n){return this.add(this.doc.createElement(t),t,e,n,1)},createHTML:function(t,e,n){var i,r="";r+="<"+t;for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&"undefined"!=typeof e[i]&&(r+=" "+i+'="'+this.encode(e[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(t){var e,n,i,r=this.doc;for(i=r.createElement("div"),e=r.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},remove:function(t,e){return t=this.$$(t),e?t.each(function(){for(var t;t=this.firstChild;)3==t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():t.remove(),t.length>1?t.toArray():t[0]},setStyle:function(t,e,n){t=this.$$(t).css(e,n),this.settings.update_styles&&w(this,t)},getStyle:function(t,e,i){return t=this.$$(t),i?t.css(e):(e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}),"float"==e&&(e=n.ie&&n.ie<12?"styleFloat":"cssFloat"),t[0]&&t[0].style?t[0].style[e]:void 0)},setStyles:function(t,e){t=this.$$(t).css(e),this.settings.update_styles&&w(this,t)},removeAllAttribs:function(t){return this.run(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},setAttrib:function(t,e,n){var i,r,o=this,a=o.settings;""===n&&(n=null),t=o.$$(t),i=t.attr(e),t.length&&(r=o.attrHooks[e],r&&r.set?r.set(t,n,e):t.attr(e,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:t,attrName:e,attrValue:n}))},setAttribs:function(t,e){var n=this;n.$$(t).each(function(t,i){p(e,function(t,e){n.setAttrib(i,e,t)})})},getAttrib:function(t,e,n){var i,r,o=this;return t=o.$$(t),t.length&&(i=o.attrHooks[e],r=i&&i.get?i.get(t,e):t.attr(e)),"undefined"==typeof r&&(r=n||""),r},getPos:function(t,e){return o.getPos(this.doc.body,this.get(t),e)},parseStyle:function(t){return this.styles.parse(t)},serializeStyle:function(t,e){return this.styles.serialize(t,e)},addStyle:function(e){var n,i,r=this,o=r.doc;if(r!==k.DOM&&o===t){var a=k.DOM.addedStyles;if(a=a||[],a[e])return;a[e]=!0,k.DOM.addedStyles=a}i=o.getElementById("mceDefaultStyles"),i||(i=o.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",n=o.getElementsByTagName("head")[0],n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(o.createTextNode(e))},loadCSS:function(e){var n,i=this,r=i.doc;return i!==k.DOM&&r===t?void k.DOM.loadCSS(e):(e||(e=""),n=r.getElementsByTagName("head")[0],void p(e.split(","),function(t){var e;t=f._addCacheSuffix(t),i.files[t]||(i.files[t]=!0,e=i.create("link",{rel:"stylesheet",href:t}),v&&r.documentMode&&r.recalc&&(e.onload=function(){r.recalc&&r.recalc(),e.onload=null}),n.appendChild(e))}))},addClass:function(t,e){this.$$(t).addClass(e)},removeClass:function(t,e){this.toggleClass(t,e,!1)},hasClass:function(t,e){return this.$$(t).hasClass(e)},toggleClass:function(t,e,n){this.$$(t).toggleClass(e,n).each(function(){""===this.className&&i(this).attr("class",null)})},show:function(t){this.$$(t).show()},hide:function(t){this.$$(t).hide()},isHidden:function(t){return"none"==this.$$(t).css("display")},uniqueId:function(t){return(t?t:"mce_")+this.counter++},setHTML:function(t,e){t=this.$$(t),v?t.each(function(t,n){if(n.canHaveHTML!==!1){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(t){i("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}}):t.html(e)},getOuterHTML:function(t){return t=this.get(t),1==t.nodeType&&"outerHTML"in t?t.outerHTML:i("<div></div>").append(i(t).clone()).html()},setOuterHTML:function(t,e){var n=this;n.$$(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}n.remove(i(this).html(e),!0)})},decode:u.decode,encode:u.encodeAllRaw,insertAfter:function(t,e){return e=this.get(e),this.run(t,function(t){var n,i;return n=e.parentNode,i=e.nextSibling,i?n.insertBefore(t,i):n.appendChild(t),t})},replace:function(t,e,n){var i=this;return i.run(e,function(e){return m(e,"array")&&(t=t.cloneNode(!0)),n&&p(g(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),p(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return this.styles.toHex(f.trim(t))},run:function(t,e,n){var i,r=this;return"string"==typeof t&&(t=r.get(t)),!!t&&(n=n||this,t.nodeType||!t.length&&0!==t.length?e.call(n,t):(i=[],p(t,function(t,o){t&&("string"==typeof t&&(t=r.get(t)),i.push(e.call(n,t,o)))}),i))},getAttribs:function(t){var e;if(t=this.get(t),!t)return[];if(v){if(e=[],"OBJECT"==t.nodeName)return t.attributes;"OPTION"===t.nodeName&&this.getAttrib(t,"selected")&&e.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return t.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(t){e.push({specified:1,nodeName:t})}),e}return t.attributes},isEmpty:function(t,e){var n,i,r,o,a,s,c=this,u=0;if(t=t.firstChild){a=new l(t,t.parentNode),e=e||(c.schema?c.schema.getNonEmptyElements():null),o=c.schema?c.schema.getWhiteSpaceElements():{};do{if(r=t.nodeType,1===r){var d=t.getAttribute("data-mce-bogus");if(d){t=a.next("all"===d);continue}if(s=t.nodeName.toLowerCase(),e&&e[s]){if("br"===s){u++,t=a.next();continue}return!1}for(i=c.getAttribs(t),n=i.length;n--;)if(s=i[n].nodeName,"name"===s||"data-mce-bookmark"===s)return!1}if(8==r)return!1;if(3===r&&!b.test(t.nodeValue))return!1;if(3===r&&t.parentNode&&o[t.parentNode.nodeName]&&b.test(t.nodeValue))return!1;t=a.next()}while(t)}return u<=1},createRng:function(){return this.doc.createRange()},nodeIndex:x,split:function(t,e,n){var i,r,o,a=this,s=a.createRng();if(t&&e)return s.setStart(t.parentNode,a.nodeIndex(t)),s.setEnd(e.parentNode,a.nodeIndex(e)),i=s.extractContents(),s=a.createRng(),s.setStart(e.parentNode,a.nodeIndex(e)+1),s.setEnd(t.parentNode,a.nodeIndex(t)+1),r=s.extractContents(),o=t.parentNode,o.insertBefore(c.trimNode(a,i),t),n?o.insertBefore(n,t):o.insertBefore(e,t),o.insertBefore(c.trimNode(a,r),t),a.remove(t),n||e},bind:function(t,e,n,i){var r=this;if(f.isArray(t)){for(var o=t.length;o--;)t[o]=r.bind(t[o],e,n,i);return t}return!r.settings.collect||t!==r.doc&&t!==r.win||r.boundEvents.push([t,e,n,i]),r.events.bind(t,e,n,i||r)},unbind:function(t,e,n){var i,r=this;if(f.isArray(t)){for(i=t.length;i--;)t[i]=r.unbind(t[i],e,n);return t}if(r.boundEvents&&(t===r.doc||t===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];t!=o[0]||e&&e!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(t,e,n)},fire:function(t,e,n){return this.events.fire(t,e,n)},getContentEditable:function(t){var e;return t&&1==t.nodeType?(e=t.getAttribute("data-mce-contenteditable"),e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null):null},getContentEditableParent:function(t){for(var e=this.getRoot(),n=null;t&&t!==e&&(n=this.getContentEditable(t),null===n);t=t.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var e=t.boundEvents.length;e--;){var n=t.boundEvents[e];this.events.unbind(n[0],n[1],n[2])}t.boundEvents=null}a.setDocument&&a.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},_findSib:function(t,e,n){var i=this,r=e;if(t)for("string"==typeof r&&(r=function(t){return i.is(t,e)}),t=t[n];t;t=t[n])if(r(t))return t;return null}},k.DOM=new k(t),k.nodeIndex=x,k}),a("tinymce.core.dom.ScriptLoader",["global!document","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(t,e,n){var i=e.DOM,r=n.each,o=n.grep,a=function(t){return"function"==typeof t},s=function(){var e,s=0,l=1,c=2,u=3,d={},h=[],f={},p=[],m=0,g=function(e,r,o){var s,l,c=i,u=function(){c.remove(l),s&&(s.onreadystatechange=s.onload=s=null),r()},d=function(){a(o)?o():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)};l=c.uniqueId(),s=t.createElement("script"),s.id=l,s.type="text/javascript",s.src=n._addCacheSuffix(e),"onreadystatechange"in s?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&u()}:s.onload=u,s.onerror=d,(t.getElementsByTagName("head")[0]||t.body).appendChild(s)};this.isDone=function(t){return d[t]==c},this.markDone=function(t){d[t]=c},this.add=this.load=function(t,n,i,r){var o=d[t];o==e&&(h.push(t),d[t]=s),n&&(f[t]||(f[t]=[]),f[t].push({success:n,failure:r,scope:i||this}))},this.remove=function(t){delete d[t],delete f[t]},this.loadQueue=function(t,e,n){this.loadScripts(h,t,e,n)},this.loadScripts=function(t,n,i,s){var h,v=[],y=function(t,n){r(f[n],function(e){a(e[t])&&e[t].call(e.scope)}),f[n]=e};p.push({success:n,failure:s,scope:i||this}),(h=function(){var e=o(t);if(t.length=0,r(e,function(t){return d[t]===c?void y("success",t):d[t]===u?void y("failure",t):void(d[t]!==l&&(d[t]=l,m++,g(t,function(){d[t]=c,m--,y("success",t),h()},function(){d[t]=u,m--,v.push(t),y("failure",t),h()})))}),!m){var n=p.slice(0);p.length=0,r(n,function(t){0===v.length?a(t.success)&&t.success.call(t.scope):a(t.failure)&&t.failure.call(t.scope,v)})}})()}};return s.ScriptLoader=new s,s}),a("tinymce.core.AddOnManager",["ephox.katamari.api.Arr","tinymce.core.dom.ScriptLoader","tinymce.core.util.Tools"],function(t,e,n){var i=n.each,r=function(){var t=this;t.items=[],t.urls={},t.lookup={},t._listeners=[]};return r.prototype={get:function(t){if(this.lookup[t])return this.lookup[t].instance},dependencies:function(t){var e;return this.lookup[t]&&(e=this.lookup[t].dependencies),e||[]},requireLangPack:function(t,n){var i=r.language;if(i&&r.languageLoad!==!1){if(n)if(n=","+n+",",n.indexOf(","+i.substr(0,2)+",")!=-1)i=i.substr(0,2);else if(n.indexOf(","+i+",")==-1)return;e.ScriptLoader.add(this.urls[t]+"/langs/"+i+".js")}},add:function(e,n,r){this.items.push(n),this.lookup[e]={instance:n,dependencies:r};var o=t.partition(this._listeners,function(t){return t.name===e});return this._listeners=o.fail,i(o.pass,function(t){t.callback()}),n},remove:function(t){delete this.urls[t],delete this.lookup[t]},createUrl:function(t,e){return"object"==typeof e?e:{prefix:t.prefix,resource:e,suffix:t.suffix}},addComponents:function(t,n){var r=this.urls[t];i(n,function(t){e.ScriptLoader.add(r+"/"+t)})},load:function(t,n,o,a,s){var l=this,c=n,u=function(){var r=l.dependencies(t);i(r,function(t){var e=l.createUrl(n,t);l.load(e.resource,e,void 0,void 0)}),o&&(a?o.call(a):o.call(e))};l.urls[t]||("object"==typeof n&&(c=n.prefix+n.resource+n.suffix),0!==c.indexOf("/")&&c.indexOf("://")==-1&&(c=r.baseURL+"/"+c),l.urls[t]=c.substring(0,c.lastIndexOf("/")),l.lookup[t]?u():e.ScriptLoader.add(c,u,a,s))},waitFor:function(t,e){this.lookup.hasOwnProperty(t)?e():this._listeners.push({name:t,callback:e})}},r.PluginManager=new r,r.ThemeManager=new r,r}),a("tinymce.core.text.Zwsp",[],function(){var t="\ufeff",e=function(e){return e===t},n=function(e){return e.replace(new RegExp(t,"g"),"")};return{isZwsp:e,ZWSP:t,trim:n}}),a("tinymce.core.caret.CaretContainer",["global!document","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(t,e,n){var i=e.isElement,r=e.isText,o=function(t){return r(t)&&(t=t.parentNode),i(t)&&t.hasAttribute("data-mce-caret")},a=function(t){return r(t)&&n.isZwsp(t.data)},s=function(t){return o(t)||a(t)},l=function(t){return t.firstChild!==t.lastChild||!e.isBr(t.firstChild)},c=function(t,e){var i,o,a,l;if(i=t.ownerDocument,a=i.createTextNode(n.ZWSP),l=t.parentNode,e){if(o=t.previousSibling,r(o)){if(s(o))return o;if(v(o))return o.splitText(o.data.length-1)}l.insertBefore(a,t)}else{if(o=t.nextSibling,r(o)){if(s(o))return o;if(g(o))return o.splitText(1),o}t.nextSibling?l.insertBefore(a,t.nextSibling):l.appendChild(a)}return a},u=function(t){if(e.isText(t)){var i=t.data;return i.length>0&&i.charAt(0)!==n.ZWSP&&t.insertData(0,n.ZWSP),t}return null},d=function(t){if(e.isText(t)){var i=t.data;return i.length>0&&i.charAt(i.length-1)!==n.ZWSP&&t.insertData(i.length,n.ZWSP),t}return null},h=function(t){return t&&e.isText(t.container())&&t.container().data.charAt(t.offset())===n.ZWSP},f=function(t){return t&&e.isText(t.container())&&t.container().data.charAt(t.offset()-1)===n.ZWSP},p=function(){var e=t.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},m=function(t,e,n){var i,r,o;return i=e.ownerDocument,r=i.createElement(t),r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(p()),o=e.parentNode,n?o.insertBefore(r,e):e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r),r},g=function(t){return r(t)&&t.data[0]==n.ZWSP},v=function(t){return r(t)&&t.data[t.data.length-1]==n.ZWSP},y=function(t){var n=t.getElementsByTagName("br"),i=n[n.length-1];e.isBogus(i)&&i.parentNode.removeChild(i)},b=function(t){return t&&t.hasAttribute("data-mce-caret")?(y(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null};return{isCaretContainer:s,isCaretContainerBlock:o,isCaretContainerInline:a,showCaretContainerBlock:b,insertInline:c,prependInline:u,appendInline:d,isBeforeInline:h,isAfterInline:f,insertBlock:m,hasContent:l,startsWithCaretContainer:g,endsWithCaretContainer:v}}),a("tinymce.core.caret.CaretCandidate",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.caret.CaretContainer"],function(t,e,n){var i=t.isContentEditableTrue,r=t.isContentEditableFalse,o=t.isBr,a=t.isText,s=t.matchNodeNames("script style textarea"),l=t.matchNodeNames("img input textarea hr iframe video audio object"),c=t.matchNodeNames("table"),u=n.isCaretContainer,d=function(t){return!u(t)&&(a(t)?!s(t.parentNode):l(t)||o(t)||c(t)||r(t))},h=function(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode){if(r(t))return!1;if(i(t))return!0}return!0},f=function(t){return!!r(t)&&e.reduce(t.getElementsByTagName("*"),function(t,e){return t||i(e)},!1)!==!0},p=function(t){return l(t)||f(t)},m=function(t,e){return d(t)&&h(t,e)};return{isCaretCandidate:d,isInEditable:h,isAtomic:p,isEditableCaretCandidate:m}}),a("tinymce.core.geom.ClientRect",[],function(){var t=Math.round,e=function(e){return e?{left:t(e.left),top:t(e.top),bottom:t(e.bottom),right:t(e.right),width:t(e.width),height:t(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},n=function(t,n){return t=e(t),n?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t},i=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},r=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},o=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&r(e.top-t.bottom,t,e)},a=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&r(e.bottom-t.top,t,e)},s=function(t,e){return t.left<e.left},l=function(t,e){return t.right>e.right},c=function(t,e){return o(t,e)?-1:a(t,e)?1:s(t,e)?-1:l(t,e)?1:0},u=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom};return{clone:e,collapse:n,isEqual:i,isAbove:o,isBelow:a,isLeft:s,isRight:l,compare:c,containsXY:u}}),a("tinymce.core.selection.RangeNodes",[],function(){var t=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset==n+1?e.childNodes[n]:null},e=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t};return{getSelectedNode:t,getNode:e}}),a("tinymce.core.text.ExtendingChar",[],function(){var t=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),e=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&t.test(e)};return{isExtendingChar:e}}),a("tinymce.core.util.Fun",[],function(){var t=[].slice,e=function(t){return function(){return t}},n=function(t){return function(e){return!t(e)}},i=function(t,e){return function(n){return t(e(n))}},r=function(){var e=t.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}},o=function(){var e=t.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}},a=function(e){var n=t.call(arguments);return n.length-1>=e.length?e.apply(this,n.slice(1)):function(){var t=n.concat([].slice.call(arguments));return a.apply(this,t)}},s=function(){};return{constant:e,negate:n,and:o,or:r,curry:a,compose:i,noop:s}}),a("tinymce.core.caret.CaretPosition",["tinymce.core.caret.CaretCandidate","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect","tinymce.core.selection.RangeNodes","tinymce.core.text.ExtendingChar","tinymce.core.util.Fun"],function(t,e,n,i,r,o,a){var s=n.isElement,l=t.isCaretCandidate,c=n.matchStyleValues("display","block table"),u=n.matchStyleValues("float","left right"),d=a.and(s,l,a.negate(u)),h=a.negate(n.matchStyleValues("white-space","pre pre-line pre-wrap")),f=n.isText,p=n.isBr,m=e.nodeIndex,g=r.getNode,v=function(t){return"createRange"in t?t.createRange():e.DOM.createRng()},y=function(t){return t&&/[\r\n\t ]/.test(t)},b=function(t){var e,n=t.startContainer,i=t.startOffset;return!!(y(t.toString())&&h(n.parentNode)&&(e=n.data,y(e[i-1])||y(e[i+1])))},_=function(t){var e,n,r=[],a=function(t){var e,n=t.ownerDocument,r=v(n),o=n.createTextNode("\xa0"),a=t.parentNode;return a.insertBefore(o,t),r.setStart(o,0),r.setEnd(o,1),e=i.clone(r.getBoundingClientRect()),a.removeChild(o),e},l=function(t){var e,n;return n=t.getClientRects(),e=n.length>0?i.clone(n[0]):i.clone(t.getBoundingClientRect()),p(t)&&0===e.left?a(t):e},u=function(t,e){return t=i.collapse(t,e),t.width=1,t.right=t.left+1,t},h=function(t){0!==t.height&&(r.length>0&&i.isEqual(t,r[r.length-1])||r.push(t))},m=function(t,e){var n=v(t.ownerDocument);if(e<t.data.length){if(o.isExtendingChar(t.data[e]))return r;if(o.isExtendingChar(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!b(n)))return h(u(l(n),!1)),r}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),b(n)||h(u(l(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),b(n)||h(u(l(n),!0)))};if(f(t.container()))return m(t.container(),t.offset()),r;if(s(t.container()))if(t.isAtEnd())n=g(t.container(),t.offset()),f(n)&&m(n,n.data.length),d(n)&&!p(n)&&h(u(l(n),!1));else{if(n=g(t.container(),t.offset()),f(n)&&m(n,0),d(n)&&t.isAtEnd())return h(u(l(n),!1)),r;e=g(t.container(),t.offset()-1),d(e)&&!p(e)&&(c(e)||c(n)||!d(n))&&h(u(l(e),!1)),d(n)&&h(u(l(n),!0))}return r},w=function(t,e,n){var i=function(){return f(t)?0===e:0===e},r=function(){return f(t)?e>=t.data.length:e>=t.childNodes.length},o=function(){var n;return n=v(t.ownerDocument),n.setStart(t,e),n.setEnd(t,e),n},s=function(){return n||(n=_(new w(t,e))),n},l=function(){return s().length>0},c=function(n){return n&&t===n.container()&&e===n.offset()},u=function(n){return g(t,n?e-1:e)};return{container:a.constant(t),offset:a.constant(e),toRange:o,getClientRects:s,isVisible:l,isAtStart:i,isAtEnd:r,isEqual:c,getNode:u}};return w.fromRangeStart=function(t){return new w(t.startContainer,t.startOffset)},w.fromRangeEnd=function(t){return new w(t.endContainer,t.endOffset)},w.after=function(t){return new w(t.parentNode,m(t)+1)},w.before=function(t){return new w(t.parentNode,m(t))},w.isAtStart=function(t){return!!t&&t.isAtStart()},w.isAtEnd=function(t){return!!t&&t.isAtEnd()},w.isTextPosition=function(t){return!!t&&n.isText(t.container())},w}),a("tinymce.core.caret.CaretUtils",["tinymce.core.util.Fun","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretCandidate"],function(t,e,n,i,r,o){var a=n.isContentEditableTrue,s=n.isContentEditableFalse,l=n.matchStyleValues("display","block table table-cell table-caption list-item"),c=r.isCaretContainer,u=r.isCaretContainerBlock,d=t.curry,h=n.isElement,f=o.isCaretCandidate,p=function(t){return t>0},m=function(t){return t<0},g=function(t,e){for(var n;n=t(e);)if(!u(n))return n;return null},v=function(t,n,i,r,o){var a=new e(t,r);if(m(n)){if((s(t)||u(t))&&(t=g(a.prev,!0),i(t)))return t;for(;t=g(a.prev,o);)if(i(t))return t}if(p(n)){if((s(t)||u(t))&&(t=g(a.next,!0),i(t)))return t;for(;t=g(a.next,o);)if(i(t))return t}return null},y=function(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode)if(a(t))return t;return e},b=function(t,e){for(;t&&t!=e;){if(l(t))return t;t=t.parentNode}return null},_=function(t,e,n){return b(t.container(),n)==b(e.container(),n)},w=function(t,e,n){return y(t.container(),n)==y(e.container(),n)},x=function(t,e){var n,i;return e?(n=e.container(),i=e.offset(),h(n)?n.childNodes[i+t]:null):null},k=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},C=function(t,e,n){return b(e,t)==b(n,t)},T=function(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!=e;){if(i=n[r],c(i)&&(i=i[r]),s(i)){if(C(e,i,n))return i;break}if(f(i))break;n=n.parentNode}return null},S=d(k,!0),E=d(k,!1),O=function(t,e,i){var o,a,l,u,f=d(T,!0,e),p=d(T,!1,e);if(a=i.startContainer,l=i.startOffset,r.isCaretContainerBlock(a)){if(h(a)||(a=a.parentNode),u=a.getAttribute("data-mce-caret"),"before"==u&&(o=a.nextSibling,s(o)))return S(o);if("after"==u&&(o=a.previousSibling,s(o)))return E(o)}if(!i.collapsed)return i;if(n.isText(a)){if(c(a)){if(1===t){if(o=p(a))return S(o);if(o=f(a))return E(o)}if(t===-1){if(o=f(a))return E(o);if(o=p(a))return S(o)}return i}if(r.endsWithCaretContainer(a)&&l>=a.data.length-1)return 1===t&&(o=p(a))?S(o):i;if(r.startsWithCaretContainer(a)&&l<=1)return t===-1&&(o=f(a))?E(o):i;if(l===a.data.length)return o=p(a),o?S(o):i;if(0===l)return o=f(a),o?E(o):i}return i},A=function(t,e){return s(x(t,e))};return{isForwards:p,isBackwards:m,findNode:v,getEditingHost:y,getParentBlock:b,isInSameBlock:_,isInSameEditingHost:w,isBeforeContentEditableFalse:d(A,0),isAfterContentEditableFalse:d(A,-1),normalizeRange:O}}),a("tinymce.core.caret.CaretWalker",["tinymce.core.dom.NodeType","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(t,e,n,i,r,o){var a=t.isContentEditableFalse,s=t.isText,l=t.isElement,c=t.isBr,u=i.isForwards,d=i.isBackwards,h=e.isCaretCandidate,f=e.isAtomic,p=e.isEditableCaretCandidate,m=function(t,e){for(var n=[];t&&t!=e;)n.push(t),t=t.parentNode;return n},g=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},v=function(t,e){if(u(t)){if(h(e.previousSibling)&&!s(e.previousSibling))return n.before(e);if(s(e))return n(e,0)}if(d(t)){if(h(e.nextSibling)&&!s(e.nextSibling))return n.after(e);if(s(e))return n(e,e.data.length)}return d(t)?c(e)?n.before(e):n.after(e):n.before(e)},y=function(e,r){var o;return!!t.isBr(e)&&(o=b(1,n.after(e),r),!!o&&!i.isInSameBlock(n.before(e),n.before(o),r))},b=function(t,e,_){var w,x,k,C,T,S,E;if(!l(_)||!e)return null;if(e.isEqual(n.after(_))&&_.lastChild){if(E=n.after(_.lastChild),d(t)&&h(_.lastChild)&&l(_.lastChild))return c(_.lastChild)?n.before(_.lastChild):E}else E=e;if(w=E.container(),x=E.offset(),s(w)){if(d(t)&&x>0)return n(w,--x);if(u(t)&&x<w.length)return n(w,++x);k=w}else{if(d(t)&&x>0&&(C=g(w,x-1),h(C)))return!f(C)&&(T=i.findNode(C,t,p,C))?s(T)?n(T,T.data.length):n.after(T):s(C)?n(C,C.data.length):n.before(C);if(u(t)&&x<w.childNodes.length&&(C=g(w,x),h(C)))return y(C,_)?b(t,n.after(C),_):!f(C)&&(T=i.findNode(C,t,p,C))?s(T)?n(T,0):n.before(T):s(C)?n(C,0):n.after(C);k=E.getNode()}return(u(t)&&E.isAtEnd()||d(t)&&E.isAtStart())&&(k=i.findNode(k,t,o.constant(!0),_,!0),p(k))?v(t,k):(C=i.findNode(k,t,p,_),S=r.last(r.filter(m(w,_),a)),!S||C&&S.contains(C)?C?v(t,C):null:E=u(t)?n.after(S):n.before(S))};return function(t){return{next:function(e){return b(1,e,t)},prev:function(e){return b(-1,e,t)}}}}),a("tinymce.core.InsertList",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType","tinymce.core.util.Tools"],function(t,e,n,i){
var r=function(t){return t.firstChild&&t.firstChild===t.lastChild},o=function(t){return"br"===t.name||"\xa0"===t.value},a=function(t,e){var n=t.getBlockElements();return n[e.name]&&r(e)&&o(e.firstChild)},s=function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||a(t,e))},l=function(t,e){var n=e.firstChild,i=e.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),s(t,i)&&(i=i.prev),!(!n||n!==i)&&("ul"===n.name||"ol"===n.name)},c=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},u=function(t,e,n){var i=e.serialize(n),r=t.createFragment(i);return c(r)},d=function(t){return i.grep(t.childNodes,function(t){return"LI"===t.nodeName})},h=function(t){return"\xa0"===t.data||n.isBr(t)},f=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&h(t.firstChild)},p=function(t){return!t.firstChild||f(t)},m=function(t){return t.length>0&&p(t[t.length-1])?t.slice(0,-1):t},g=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},v=function(t,e){return!!g(t,e)},y=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]},b=function(n,i){var r=t.before(n),o=new e(i),a=o.next(r);return a?a.toRange():null},_=function(n,i){var r=t.after(n),o=new e(i),a=o.prev(r);return a?a.toRange():null},w=function(t,e,n,r){var o=y(t,r),a=t.parentNode;return a.insertBefore(o[0],t),i.each(e,function(e){a.insertBefore(e,t)}),a.insertBefore(o[1],t),a.removeChild(t),_(e[e.length-1],n)},x=function(t,e,n){var r=t.parentNode;return i.each(e,function(e){r.insertBefore(e,t)}),b(t,n)},k=function(t,e,n,i){return i.insertAfter(e.reverse(),t),_(e[0],n)},C=function(n,i,r,o){var a=u(i,n,o),s=g(i,r.startContainer),l=m(d(a.firstChild)),c=1,h=2,f=i.getRoot(),p=function(n){var o=t.fromRangeStart(r),a=new e(i.getRoot()),l=n===c?a.prev(o):a.next(o);return!l||g(i,l.getNode())!==s};return p(c)?x(s,l,f):p(h)?k(s,l,f,i):w(s,l,f,r)};return{isListFragment:l,insertAtCaret:C,isParentBlockLi:v,trimListItems:m,listItems:d}}),a("tinymce.core.caret.CaretBookmark",["tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.caret.CaretPosition"],function(t,e,n,i,r){var o=t.isText,a=t.isBogus,s=e.nodeIndex,l=function(t){var e=t.parentNode;return a(e)?l(e):e},c=function(t){return t?i.reduce(t.childNodes,function(t,e){return a(e)&&"BR"!=e.nodeName?t=t.concat(c(e)):t.push(e),t},[]):[]},u=function(t,e){for(;(t=t.previousSibling)&&o(t);)e+=t.data.length;return e},d=function(t){return function(e){return t===e}},h=function(e){var n,r,a;return n=c(l(e)),r=i.findIndex(n,d(e),e),n=n.slice(0,r+1),a=i.reduce(n,function(t,e,i){return o(e)&&o(n[i-1])&&t++,t},0),n=i.filter(n,t.matchNodeNames(e.nodeName)),r=i.findIndex(n,d(e),e),r-a},f=function(t){var e;return e=o(t)?"text()":t.nodeName.toLowerCase(),e+"["+h(t)+"]"},p=function(t,e,n){var i=[];for(e=e.parentNode;e!=t&&(!n||!n(e));e=e.parentNode)i.push(e);return i},m=function(e,r){var a,s,l,c,d,h=[];return a=r.container(),s=r.offset(),o(a)?l=u(a,s):(c=a.childNodes,s>=c.length?(l="after",s=c.length-1):l="before",a=c[s]),h.push(f(a)),d=p(e,a),d=i.filter(d,n.negate(t.isBogus)),h=h.concat(i.map(d,function(t){return f(t)})),h.reverse().join("/")+","+l},g=function(e,n,r){var a=c(e);return a=i.filter(a,function(t,e){return!o(t)||!o(a[e-1])}),a=i.filter(a,t.matchNodeNames(n)),a[r]},v=function(t,e){for(var n,i=t,a=0;o(i);){if(n=i.data.length,e>=a&&e<=a+n){t=i,e-=a;break}if(!o(i.nextSibling)){t=i,e=n;break}a+=n,i=i.nextSibling}return e>t.data.length&&(e=t.data.length),new r(t,e)},y=function(t,e){var n,a,l;return e?(n=e.split(","),e=n[0].split("/"),l=n.length>1?n[1]:"before",a=i.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),g(t,e[1],parseInt(e[2],10))):null},t),a?o(a)?v(a,parseInt(l,10)):(l="after"===l?s(a)+1:s(a),new r(a.parentNode,l)):null):null};return{create:m,resolve:y}}),a("tinymce.core.dom.GetBookmark",["ephox.katamari.api.Fun","tinymce.core.caret.CaretBookmark","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.selection.RangeNodes","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s){var l=r.isContentEditableFalse,c=function(t,e,n){var i,o;for(o=t(e.data.slice(0,n)).length,i=e.previousSibling;i&&r.isText(i);i=i.previousSibling)o+=t(i.data).length;return o},u=function(t,e,n,i,o){var a,s=i[o?"startContainer":"endContainer"],l=i[o?"startOffset":"endOffset"],u=[],d=0,h=t.getRoot();for(r.isText(s)?u.push(n?c(e,s,l):l):(a=s.childNodes,l>=a.length&&a.length&&(d=1,l=Math.max(0,a.length-1)),u.push(t.nodeIndex(a[l],n)+d));s&&s!==h;s=s.parentNode)u.push(t.nodeIndex(s,n));return u},d=function(t,e,n,i){var r=e.dom,o={};return o.start=u(r,t,n,i,!0),e.isCollapsed()||(o.end=u(r,t,n,i,!1)),o},h=function(t){r.isText(t)&&0===t.data.length&&t.parentNode.removeChild(t)},f=function(t,e,n){var i=0;return s.each(t.select(e),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++}),i},p=function(t,e){var n,i,o,a=e?"start":"end";n=t[a+"Container"],i=t[a+"Offset"],r.isElement(n)&&"TR"===n.nodeName&&(o=n.childNodes,n=o[Math.min(e?i:i-1,o.length-1)],n&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i)))},m=function(t){return p(t,!0),p(t,!1),t},g=function(t,e){var i;if(r.isElement(t)&&(t=o.getNode(t,e),l(t)))return t;if(n.isCaretContainer(t)){if(r.isText(t)&&n.isCaretContainerBlock(t)&&(t=t.parentNode),i=t.previousSibling,l(i))return i;if(i=t.nextSibling,l(i))return i}},v=function(t){return g(t.startContainer,t.startOffset)||g(t.endContainer,t.endOffset)},y=function(t,e,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();return l(i)||"IMG"===r?{name:r,index:f(n.dom,r,i)}:(i=v(o),i?(r=i.tagName,{name:r,index:f(n.dom,r,i)}):d(t,n,e,o))},b=function(t){var n=t.getRng();return{start:e.create(t.dom.getRoot(),i.fromRangeStart(n)),end:e.create(t.dom.getRoot(),i.fromRangeEnd(n))}},_=function(t){return{rng:t.getRng()}},w=function(t){var e=t.dom,n=t.getRng(),i=e.uniqueId(),r=t.isCollapsed(),o="overflow:hidden;line-height:0px",a=t.getNode(),s=a.nodeName,l="&#xFEFF;";if("IMG"===s)return{name:s,index:f(e,s,a)};var c=m(n.cloneRange());if(!r){c.collapse(!1);var u=e.create("span",{"data-mce-type":"bookmark",id:i+"_end",style:o},l);c.insertNode(u),h(u.nextSibling)}n=m(n),n.collapse(!0);var d=e.create("span",{"data-mce-type":"bookmark",id:i+"_start",style:o},l);return n.insertNode(d),h(d.previousSibling),t.moveToBookmark({id:i,keep:1}),{id:i}},x=function(t,e,n){return 2===e?y(a.trim,n,t):3===e?b(t):e?_(t):w(t)};return{getBookmark:x,getUndoBookmark:t.curry(y,t.identity,!0)}}),a("ephox.katamari.api.Options",["ephox.katamari.api.Option"],function(t){var e=function(t){for(var e=[],n=function(t){e.push(t)},i=0;i<t.length;i++)t[i].each(n);return e},n=function(e,n){for(var i=0;i<e.length;i++){var r=n(e[i],i);if(r.isSome())return r}return t.none()},i=function(e,n){for(var i=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return t.none();i.push(o.getOrDie())}return t.some(n.apply(null,i))};return{cat:e,findMap:n,liftN:i}}),a("tinymce.core.dom.ResolveBookmark",["ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.Env","tinymce.core.caret.CaretBookmark","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a){var s=function(t,e){return!t.isBlock(e)||e.innerHTML||n.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e},l=function(t,e){var n,r;return n=t.createRng(),r=i.resolve(t.getRoot(),e.start),n.setStart(r.container(),r.offset()),r=i.resolve(t.getRoot(),e.end),n.setEnd(r.container(),r.offset()),n},c=function(t,e,n,i){var r,o,a,s,l=n[e?"start":"end"],c=t.getRoot();if(l){for(a=l[0],o=c,r=l.length-1;r>=1;r--){if(s=o.childNodes,l[r]>s.length-1)return;o=s[l[r]]}3===o.nodeType&&(a=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(l[0],o.childNodes.length)),e?i.setStart(o,a):i.setEnd(o,a)}return!0},u=function(e,i,s){var l,c,u,d,h,f,p=e.get(s.id+"_"+i),m=s.keep;if(p){if(l=p.parentNode,"start"===i?(m?(l=p.firstChild,c=1):c=e.nodeIndex(p),h=l,f=c):(m?(l=p.firstChild,c=1):c=e.nodeIndex(p),h=l,f=c),!m){for(d=p.previousSibling,u=p.nextSibling,a.each(a.grep(p.childNodes),function(t){o.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});p=e.get(s.id+"_"+i);)e.remove(p,1);d&&u&&d.nodeType===u.nodeType&&o.isText(d)&&!n.opera&&(c=d.nodeValue.length,d.appendData(u.nodeValue),e.remove(u),"start"===i?(h=d,f=c):(h=d,f=c))}return t.some(r(h,f))}return t.none()},d=function(t,e){return t.isSome()?t:e},h=function(e,n){var i=e.createRng();return c(e,!0,n,i)&&c(e,!1,n,i)?t.some(i):t.none()},f=function(t,n){var i=u(t,"start",n),r=u(t,"end",n);return e.liftN([i,d(r,i)],function(e,n){var i=t.createRng();return i.setStart(s(t,e.container()),e.offset()),i.setEnd(s(t,n.container()),n.offset()),i})},p=function(e,n){return t.from(e.select(n.name)[n.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},m=function(e,n){var i=e.dom;if(n){if(a.isArray(n.start))return h(i,n);if("string"==typeof n.start)return t.some(l(i,n));if(n.id)return f(i,n);if(n.name)return p(i,n);if(n.rng)return t.some(n.rng)}return t.none()};return{resolve:m}}),a("tinymce.core.dom.Bookmarks",["tinymce.core.dom.GetBookmark","tinymce.core.dom.ResolveBookmark"],function(t,e){var n=function(e,n,i){return t.getBookmark(e,n,i)},i=function(t,n){e.resolve(t,n).each(function(e){t.setRng(e)})},r=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")};return{getBookmark:n,moveToBookmark:i,isBookmarkNode:r}}),a("tinymce.core.dom.ElementUtils",["tinymce.core.dom.Bookmarks","tinymce.core.util.Tools"],function(t,e){var n=e.each,i=function(e){this.compare=function(i,r){if(i.nodeName!=r.nodeName)return!1;var o=function(t){var i={};return n(e.getAttribs(t),function(n){var r=n.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(i[r]=e.getAttrib(t,r))}),i},a=function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(n=e[i],"undefined"==typeof n)return!1;if(t[i]!=n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0};return!!a(o(i),o(r))&&(!!a(e.parseStyle(e.getAttrib(i,"style")),e.parseStyle(e.getAttrib(r,"style")))&&(!t.isBookmarkNode(i)&&!t.isBookmarkNode(r)))}};return i}),a("ephox.sugar.api.dom.Insert",["ephox.sugar.api.search.Traverse"],function(t){var e=function(e,n){var i=t.parent(e);i.each(function(t){t.dom().insertBefore(n.dom(),e.dom())})},n=function(n,i){var o=t.nextSibling(n);o.fold(function(){var e=t.parent(n);e.each(function(t){r(t,i)})},function(t){e(t,i)})},i=function(e,n){var i=t.firstChild(e);i.fold(function(){r(e,n)},function(t){e.dom().insertBefore(n.dom(),t.dom())})},r=function(t,e){t.dom().appendChild(e.dom())},o=function(n,i,o){t.child(n,o).fold(function(){r(n,i)},function(t){e(t,i)})},a=function(t,n){e(t,n),r(n,t)};return{before:e,after:n,prepend:i,append:r,appendAt:o,wrap:a}}),a("ephox.sugar.api.dom.InsertAll",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert"],function(t,e){var n=function(n,i){t.each(i,function(t){e.before(n,t)})},i=function(n,i){t.each(i,function(t,r){var o=0===r?n:i[r-1];e.after(o,t)})},r=function(n,i){t.each(i.slice().reverse(),function(t){e.prepend(n,t)})},o=function(n,i){t.each(i,function(t){e.append(n,t)})};return{before:n,after:i,prepend:r,append:o}}),a("ephox.sugar.api.dom.Remove",["ephox.katamari.api.Arr","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.search.Traverse"],function(t,e,n){var i=function(e){e.dom().textContent="",t.each(n.children(e),function(t){r(t)})},r=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},o=function(t){var i=n.children(t);i.length>0&&e.before(t,i),r(t)};return{empty:i,remove:r,unwrap:o}}),a("ephox.sugar.impl.NodeValue",["ephox.sand.api.PlatformDetection","ephox.katamari.api.Option","global!Error"],function(t,e,n){return function(i,r){var o=function(t){if(!i(t))throw new n("Can only get "+r+" value of a "+r+" node");return c(t).getOr("")},a=function(t){try{return s(t)}catch(t){return e.none()}},s=function(t){return i(t)?e.from(t.dom().nodeValue):e.none()},l=t.detect().browser,c=l.isIE()&&10===l.version.major?a:s,u=function(t,e){if(!i(t))throw new n("Can only set raw "+r+" value of a "+r+" node");t.dom().nodeValue=e};return{get:o,getOption:c,set:u}}}),a("ephox.sugar.api.node.Text",["ephox.sugar.api.node.Node","ephox.sugar.impl.NodeValue"],function(t,e){var n=e(t.isText,"text"),i=function(t){return n.get(t)},r=function(t){return n.getOption(t)},o=function(t,e){n.set(t,e)};return{get:i,getOption:r,set:o}}),a("ephox.sugar.api.search.PredicateFilter",["ephox.katamari.api.Arr","ephox.sugar.api.node.Body","ephox.sugar.api.search.Traverse"],function(t,e,n){var i=function(t){return s(e.body(),t)},r=function(e,i,r){return t.filter(n.parents(e,r),i)},o=function(e,i){return t.filter(n.siblings(e),i)},a=function(e,i){return t.filter(n.children(e),i)},s=function(e,i){var r=[];return t.each(n.children(e),function(t){i(t)&&(r=r.concat([t])),r=r.concat(s(t,i))}),r};return{all:i,ancestors:r,siblings:o,children:a,descendants:s}}),a("ephox.sugar.api.search.SelectorFilter",["ephox.sugar.api.search.PredicateFilter","ephox.sugar.api.search.Selectors"],function(t,e){var n=function(t){return e.all(t)},i=function(n,i,r){return t.ancestors(n,function(t){return e.is(t,i)},r)},r=function(n,i){return t.siblings(n,function(t){return e.is(t,i)})},o=function(n,i){return t.children(n,function(t){return e.is(t,i)})},a=function(t,n){return e.all(n,t)};return{all:n,ancestors:i,siblings:r,children:o,descendants:a}}),a("tinymce.core.dom.PaddingBr",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.node.Text","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.Traverse","tinymce.core.dom.ElementType"],function(t,e,n,i,r,o,a,s,l){var c=function(t){for(var e=[],n=t.dom();n;)e.push(i.fromDom(n)),n=n.lastChild;return e},u=function(e){var i=a.descendants(e,"br"),r=t.filter(c(e).slice(-1),l.isBr);i.length===r.length&&t.each(r,n.remove)},d=function(t){n.empty(t),e.append(t,i.fromHtml('<br data-mce-bogus="1">'))},h=function(t){return r.isText(t)?"\xa0"===o.get(t):l.isBr(t)},f=function(e){return 1===t.filter(s.children(e),h).length},p=function(t){s.lastChild(t).each(function(e){s.prevSibling(e).each(function(i){l.isBlock(t)&&l.isBr(e)&&l.isBlock(i)&&n.remove(e)})})};return{removeTrailingBr:u,fillWithPaddingBr:d,isPaddedElement:f,trimBlockTrailingBr:p}}),a("tinymce.core.html.Writer",["tinymce.core.html.Entities","tinymce.core.util.Tools"],function(t,e){var n=e.makeMap;return function(e){var i,r,o,a,s,l=[];return e=e||{},i=e.indent,r=n(e.indent_before||""),o=n(e.indent_after||""),a=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="html"==e.element_format,{start:function(t,e,n){var c,u,d,h;if(i&&r[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n")),l.push("<",t),e)for(c=0,u=e.length;c<u;c++)d=e[c],l.push(" ",d.name,'="',a(d.value,!0),'"');!n||s?l[l.length]=">":l[l.length]=" />",n&&i&&o[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n"))},end:function(t){var e;l.push("</",t,">"),i&&o[t]&&l.length>0&&(e=l[l.length-1],e.length>0&&"\n"!==e&&l.push("\n"))},text:function(t,e){t.length>0&&(l[l.length]=e?t:a(t))},cdata:function(t){l.push("<![CDATA[",t,"]]>")},comment:function(t){l.push("<!--",t,"-->")},pi:function(t,e){e?l.push("<?",t," ",a(e),"?>"):l.push("<?",t,"?>"),i&&l.push("\n")},doctype:function(t){l.push("<!DOCTYPE",t,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),a("tinymce.core.html.Serializer",["tinymce.core.html.Writer","tinymce.core.html.Schema"],function(t,e){return function(n,i){var r=this,o=new t(n);n=n||{},n.validate=!("validate"in n)||n.validate,r.schema=i=i||new e,r.writer=o,r.serialize=function(t){var e,r;r=n.validate,e={3:function(t){o.text(t.value,t.raw)},8:function(t){o.comment(t.value)},7:function(t){o.pi(t.name,t.value)},10:function(t){o.doctype(t.value)},4:function(t){o.cdata(t.value)},11:function(t){if(t=t.firstChild)do a(t);while(t=t.next)}},o.reset();var a=function(t){var n,s,l,c,u,d,h,f,p,m=e[t.type];if(m)m(t);else{if(n=t.name,s=t.shortEnded,l=t.attributes,r&&l&&l.length>1&&(d=[],d.map={},p=i.getElementRule(t.name))){for(h=0,f=p.attributesOrder.length;h<f;h++)c=p.attributesOrder[h],c in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(h=0,f=l.length;h<f;h++)c=l[h].name,c in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(o.start(t.name,l,s),!s){if(t=t.firstChild)do a(t);while(t=t.next);o.end(n)}}};return 1!=t.type||n.inner?e[11](t):a(t),o.getContent()}}}),a("tinymce.core.caret.CaretFinder",["ephox.katamari.api.Fun","ephox.katamari.api.Option","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType"],function(t,e,n,i,r,o,a){var s=function(t,e,n){var r=t?i.before(n):i.after(n);return p(t,e,r)},l=function(t){return a.isBr(t)?i.before(t):i.after(t)},c=function(t){return i.isTextPosition(t)?0===t.offset():n.isCaretCandidate(t.getNode())},u=function(t){return i.isTextPosition(t)?t.offset()===t.container().data.length:n.isCaretCandidate(t.getNode(!0))},d=function(t,e){return!i.isTextPosition(t)&&!i.isTextPosition(e)&&t.getNode()===e.getNode(!0)},h=function(t){return!i.isTextPosition(t)&&a.isBr(t.getNode())},f=function(t,e,n){return t?!d(e,n)&&!h(e)&&u(e)&&c(n):!d(n,e)&&c(e)&&u(n)},p=function(t,n,i){var r=new o(n);return e.from(t?r.next(i):r.prev(i))},m=function(t,n,i){return p(t,n,i).bind(function(o){return r.isInSameBlock(i,o,n)&&f(t,i,o)?p(t,n,o):e.some(o)})},g=function(t,r){var o=t?r.firstChild:r.lastChild;return a.isText(o)?e.some(new i(o,t?0:o.data.length)):o?n.isCaretCandidate(o)?e.some(t?i.before(o):l(o)):s(t,r,o):e.none()};return{fromPosition:p,nextPosition:t.curry(p,!0),prevPosition:t.curry(p,!1),navigate:m,positionIn:g,firstPositionIn:t.curry(g,!0),lastPositionIn:t.curry(g,!1)}}),a("tinymce.core.selection.RangeNormalizer",["global!document","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils"],function(t,e,n,i){var r=function(e,n,i,r){var o=t.createRange();return o.setStart(e,n),o.setEnd(i,r),o},o=function(t){var o=n.fromRangeStart(t),a=n.fromRangeEnd(t),s=t.commonAncestorContainer;return e.fromPosition(!1,s,a).map(function(e){return!i.isInSameBlock(o,a,s)&&i.isInSameBlock(o,e,s)?r(o.container(),o.offset(),e.container(),e.offset()):t}).getOr(t)},a=function(t){return t.collapsed?t:o(t)},s=function(t){return a(t)};return{normalize:s}}),a("tinymce.core.InsertContent",["ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.Env","tinymce.core.InsertList","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.dom.PaddingBr","tinymce.core.html.Serializer","tinymce.core.selection.RangeNormalizer","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l,c,u,d){var h=s.matchNodeNames("td th"),f=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e)}},p=function(n,i){t.from(n.getParent(i,"td,th")).map(e.fromDom).each(l.trimBlockTrailingBr)},m=function(t,e,s){var l,m,g,v,y,b,_,w,x,k,C,T,S=t.schema.getTextInlineElements(),E=t.selection,O=t.dom,A=function(t){var e,n,i;e=E.getRng(!0),n=e.startContainer,i=e.startOffset;var r=function(t){return n[t]&&3==n[t].nodeType};return 3==n.nodeType&&(i>0?t=t.replace(/^&nbsp;/," "):r("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),i<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},M=function(){var t,n,i;t=E.getRng(!0),n=t.startContainer,i=t.startOffset,3==n.nodeType&&t.collapsed&&("\xa0"===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"\xa0"===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e)))},P=function(){if(T){var e=t.getBody(),n=new a(O);d.each(O.select("*[data-mce-fragment]"),function(t){for(var i=t.parentNode;i&&i!=e;i=i.parentNode)S[t.nodeName.toLowerCase()]&&n.compare(i,t)&&O.remove(t,!0)})}},D=function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")},j=function(t){d.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},N=function(t){return!!t.getAttribute("data-mce-fragment")},L=function(e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},I=function(e){var i,a,s,l=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null};if(e){if(E.scrollIntoView(e),i=l(e))return O.remove(e),void E.select(i);w=O.createRng(),x=e.previousSibling,x&&3==x.nodeType?(w.setStart(x,x.nodeValue.length),n.ie||(k=e.nextSibling,k&&3==k.nodeType&&(x.appendData(k.data),k.parentNode.removeChild(k)))):(w.setStartBefore(e),w.setEndBefore(e));var c=function(e){var n=r.fromRangeStart(e),i=new o(t.getBody());if(n=i.next(n))return n.toRange()};a=O.getParent(e,O.isBlock),O.remove(e),a&&O.isEmpty(a)&&(t.$(a).empty(),w.setStart(a,0),w.setEnd(a,0),h(a)||N(a)||!(s=c(w))?O.add(a,O.create("br",{"data-mce-bogus":"1"})):(w=s,O.remove(a))),E.setRng(w)}};if(/^ | $/.test(e)&&(e=A(e)),l=t.parser,T=s.merge,m=new c({validate:t.settings.validate},t.schema),C='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',b={content:e,format:"html",selection:!0,paste:s.paste},b=t.fire("BeforeSetContent",b),b.isDefaultPrevented())return void t.fire("SetContent",{content:b.content,format:"html",selection:!0,paste:s.paste});e=b.content,e.indexOf("{$caret}")==-1&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,C),w=E.getRng();var R=w.startContainer||(w.parentElement?w.parentElement():null),B=t.getBody();R===B&&E.isCollapsed()&&O.isBlock(B.firstChild)&&L(B.firstChild)&&O.isEmpty(B.firstChild)&&(w=O.createRng(),w.setStart(B.firstChild,0),w.setEnd(B.firstChild,0),E.setRng(w)),E.isCollapsed()||(t.selection.setRng(u.normalize(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),M()),g=E.getNode();var F={context:g.nodeName.toLowerCase(),data:s.data,insert:!0};if(y=l.parse(e,F),s.paste===!0&&i.isListFragment(t.schema,y)&&i.isParentBlockLi(O,g))return w=i.insertAtCaret(m,O,t.selection.getRng(!0),y),t.selection.setRng(w),void t.fire("SetContent",b);if(D(y),x=y.lastChild,"mce_marker"==x.attr("id"))for(_=x,x=x.prev;x;x=x.walk(!0))if(3==x.type||!O.isBlock(x.name)){t.schema.isValidChild(x.parent.name,"span")&&x.parent.insert(_,x,"br"===x.name);break}if(t._selectionOverrides.showBlockCaretContainer(g),F.invalid){for(E.setContent(C),g=E.getNode(),v=t.getBody(),9==g.nodeType?g=x=v:x=g;x!==v;)g=x,x=x.parentNode;e=g==v?v.innerHTML:O.getOuterHTML(g),e=m.serialize(l.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return m.serialize(y)}))),g==v?O.setHTML(v,e):O.setOuterHTML(g,e)}else e=m.serialize(y),f(t,e,g);P(),I(O.get("mce_marker")),j(t.getBody()),p(t.dom,t.selection.getStart()),t.fire("SetContent",b),t.addVisual()},g=function(t){var e;return"string"!=typeof t?(e=d.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}},v=function(t,e){var n=g(e);m(t,n.content,n.details)};return{insertAtCaret:v}}),a("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(t,e){return function(n,i,r,o,a){return n(r,o)?e.some(r):t.isFunction(a)&&a(r)?e.none():i(r,o,a)}}),a("ephox.sugar.api.search.PredicateFind",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Body","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.impl.ClosestOrAncestor"],function(t,e,n,i,r,o,a,s){var l=function(t){return f(r.body(),t)},c=function(e,r,o){for(var s=e.dom(),l=t.isFunction(o)?o:n.constant(!1);s.parentNode;){s=s.parentNode;var c=a.fromDom(s);if(r(c))return i.some(c);if(l(c))break}return i.none()},u=function(t,e,n){var i=function(t){return e(t)};return s(i,c,t,e,n)},d=function(t,e){var n=t.dom();return n.parentNode?h(a.fromDom(n.parentNode),function(n){return!o.eq(t,n)&&e(n)}):i.none()},h=function(t,i){var r=e.find(t.dom().childNodes,n.compose(i,a.fromDom));return r.map(a.fromDom)},f=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){if(e(a.fromDom(t.childNodes[r])))return i.some(a.fromDom(t.childNodes[r]));var o=n(t.childNodes[r]);if(o.isSome())return o}return i.none()};return n(t.dom())};return{first:l,ancestor:c,closest:u,sibling:d,child:h,descendant:f}}),a("tinymce.core.EditorSettings",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.api.Strings","ephox.katamari.api.Struct","ephox.katamari.api.Type","ephox.sand.api.PlatformDetection","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l){var c=o.immutable("sections","settings"),u=s.detect(),d=u.deviceType.isTouch(),h=["lists","autolink","autosave"],f={theme:"mobile"},p=function(e){var n=a.isArray(e)?e.join(" "):e,i=t.map(a.isString(n)?n.split(" "):[],r.trim);return t.filter(i,function(t){return t.length>0})},m=function(n){return t.filter(n,e.curry(t.contains,h))},g=function(e,i){var r=n.bifilter(i,function(n,i){return t.contains(e,i)});return c(r.t,r.f)},v=function(t,e,n){var i=t.sections(),r=i.hasOwnProperty(e)?i[e]:{};return l.extend({},n,r)},y=function(t,e){return t.sections().hasOwnProperty(e)},b=function(t,e,n){return{id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},_=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?l.extend({},t.external_plugins,n):n},w=function(t,e){return[].concat(p(t)).concat(p(e))},x=function(t,e,n,i){var r=p(n.forced_plugins),o=p(i.plugins),a=t&&y(e,"mobile")?m(o):o,s=w(r,a);return l.extend(i,{plugins:s.join(" ")})},k=function(t,e){var n=e.settings().inline;return t&&y(e,"mobile")&&!n},C=function(t,e,n,i){var r=g(["mobile"],i),o=l.extend(e,n,r.settings(),k(t,r)?v(r,"mobile",f):{},{validate:!0,content_editable:r.settings().inline,external_plugins:_(n,r.settings())});return x(t,r,n,o)},T=function(t,e,n,i,r){var o=b(e,n,t);return C(d,o,i,r)},S=function(t,e){return i.from(t.settings[e])},E=function(t,e,n){return i.from(e.settings[n]).filter(t)};return{getEditorSettings:T,get:S,getString:e.curry(E,a.isString),combineSettings:C}}),a("tinymce.core.text.Bidi",[],function(){var t=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,e=function(e){return t.test(e)};return{hasStrongRtl:e}}),a("tinymce.core.keyboard.InlineUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","tinymce.core.EditorSettings","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.text.Bidi"],function(t,e,n,i,r,o,a,s,l,c,u,d){var h=function(t,e){var n=o.getString(t,"inline_boundaries_selector").getOr("a[href],code");return r.is(i.fromDom(e),n)},f=function(t){return"rtl"===c.DOM.getStyle(t,"direction",!0)||d.hasStrongRtl(t.textContent)},p=function(e,n,i){return t.filter(c.DOM.getParents(i.container(),"*",n),e)},m=function(t,e,i){var r=p(t,e,i);return n.from(r[r.length-1])},g=function(t,e,n){var i=l.getParentBlock(e,t),r=l.getParentBlock(n,t);return i&&i===r},v=function(t){return a.isBeforeInline(t)||a.isAfterInline(t)},y=function(t,e){var n=e.container(),i=e.offset();return t?a.isCaretContainerInline(n)?u.isText(n.nextSibling)?new s(n.nextSibling,0):s.after(n):a.isBeforeInline(e)?new s(n,i+1):e:a.isCaretContainerInline(n)?u.isText(n.previousSibling)?new s(n.previousSibling,n.previousSibling.data.length):s.before(n):a.isAfterInline(e)?new s(n,i-1):e},b=e.curry(y,!0),_=e.curry(y,!1);return{isInlineTarget:h,findRootInline:m,isRtl:f,isAtZwsp:v,normalizePosition:y,normalizeForwards:b,normalizeBackwards:_,hasSameParentBlock:g}}),a("tinymce.core.delete.DeleteUtils",["ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.PredicateFind","tinymce.core.caret.CaretFinder","tinymce.core.dom.ElementType","tinymce.core.keyboard.InlineUtils"],function(t,e,n,i,r,o,a,s){var l=function(t){return function(e){return n.eq(t,i.fromDom(e.dom().parentNode))}},c=function(e,i){return n.contains(e,i)?r.closest(i,function(t){return a.isTextBlock(t)||a.isListItem(t)},l(e)):t.none()},u=function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)},d=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),u(t))},h=function(t,n,i){return e.liftN([o.firstPositionIn(i),o.lastPositionIn(i)],function(e,r){var a=s.normalizePosition(!0,e),l=s.normalizePosition(!1,r),c=s.normalizePosition(!1,n);return t?o.nextPosition(i,c).map(function(t){return t.isEqual(l)&&n.isEqual(a)}).getOr(!1):o.prevPosition(i,c).map(function(t){return t.isEqual(a)&&n.isEqual(l)}).getOr(!1)}).getOr(!0)};return{getParentBlock:c,paddEmptyBody:d,willDeleteLastPositionInElement:h}}),a("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(t,e,n){var i=function(t){return e.one(t)},r=function(n,i,r){return t.ancestor(n,function(t){return e.is(t,i)},r)},o=function(n,i){return t.sibling(n,function(t){return e.is(t,i)})},a=function(n,i){return t.child(n,function(t){return e.is(t,i)})},s=function(t,n){return e.one(n,t)},l=function(t,i,o){return n(e.is,r,t,i,o)};return{first:i,ancestor:r,sibling:o,child:a,descendant:s,closest:l}}),a("ephox.sugar.api.search.SelectorExists",["ephox.sugar.api.search.SelectorFind"],function(t){var e=function(e){return t.first(e).isSome()},n=function(e,n,i){return t.ancestor(e,n,i).isSome()},i=function(e,n){return t.sibling(e,n).isSome()},r=function(e,n){return t.child(e,n).isSome()},o=function(e,n){return t.descendant(e,n).isSome()},a=function(e,n,i){return t.closest(e,n,i).isSome()};return{any:e,ancestor:n,sibling:i,child:r,descendant:o,closest:a}}),a("tinymce.core.dom.Empty",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorExists","tinymce.core.caret.CaretCandidate","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker"],function(t,e,n,i,r,o,a){var s=function(r,o){var a=n.fromDom(r),s=n.fromDom(o);return i.ancestor(s,"pre,code",t.curry(e.eq,a))},l=function(t,e){return o.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&s(t,e)===!1},c=function(t){return o.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")},u=function(t,e){return r.isCaretCandidate(e)&&l(t,e)===!1||c(e)||d(e)},d=o.hasAttribute("data-mce-bookmark"),h=o.hasAttribute("data-mce-bogus"),f=o.hasAttributeValue("data-mce-bogus","all"),p=function(t){var e,n,i=0;if(u(t,t))return!1;if(n=t.firstChild,!n)return!0;e=new a(n,t);do if(f(n))n=e.next(!0);else if(h(n))n=e.next();else if(o.isBr(n))i++,n=e.next();else{if(u(t,n))return!1;n=e.next()}while(n);return i<=1},m=function(t){return p(t.dom())};return{isEmpty:m}}),a("tinymce.core.delete.BlockBoundary",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p){
var m=r.immutable("block","position"),g=r.immutable("from","to"),v=function(t,e){var n=a.fromDom(t),i=a.fromDom(e.container());return h.getParentBlock(n,i).map(function(t){return m(t,e)})},y=function(t){return o.eq(t.from().block(),t.to().block())===!1},b=function(t){return c.parent(t.from().block()).bind(function(e){return c.parent(t.to().block()).filter(function(t){return o.eq(e,t)})}).isSome()},_=function(t){return p.isContentEditableFalse(t.from().block())===!1&&p.isContentEditableFalse(t.to().block())===!1},w=function(t,e,i){return p.isBr(i.position().getNode())&&f.isEmpty(i.block())===!1?u.positionIn(!1,i.block().dom()).bind(function(r){return r.isEqual(i.position())?u.fromPosition(e,t,r).bind(function(e){return v(t,e)}):n.some(i)}).getOr(i):i},x=function(t,e,n){var r=v(t,d.fromRangeStart(n)),o=r.bind(function(n){return u.fromPosition(e,t,n.position()).bind(function(n){return v(t,n).map(function(n){return w(t,e,n)})})});return i.liftN([r,o],g).filter(function(t){return y(t)&&b(t)&&_(t)})},k=function(t,e,i){return i.collapsed?x(t,e,i):n.none()};return{read:k}}),a("tinymce.core.dom.Parents",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.Traverse"],function(t,e,n){var i=function(t){return t.slice(0,-1)},r=function(t,r,o){return e.contains(r,t)?i(n.parents(t,function(t){return o(t)||e.eq(t,r)})):[]},o=function(e,n){return r(e,n,t.constant(!1))},a=function(t,e){return[t].concat(o(t,e))};return{parentsUntil:r,parents:o,parentsAndSelf:a}}),a("tinymce.core.delete.MergeBlocks",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.ElementType","tinymce.core.dom.Empty","tinymce.core.dom.NodeType","tinymce.core.dom.PaddingBr","tinymce.core.dom.Parents"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f){var p=function(e){var n=a.children(e);return t.findIndex(n,c.isBlock).fold(function(){return n},function(t){return n.slice(0,t)})},m=function(e){var n=p(e);return t.each(n,function(t){r.remove(t)}),n},g=function(t,e){s.positionIn(t,e.dom()).each(function(t){var e=t.getNode();d.isBr(e)&&r.remove(o.fromDom(e))})},v=function(e,n){var i=f.parentsAndSelf(n,e);return t.find(i.reverse(),u.isEmpty).each(r.remove)},y=function(t,i){var r=a.parents(i,function(e){return n.eq(e,t)});return e.from(r[r.length-2])},b=function(t,i){return n.contains(i,t)?a.parent(t).bind(function(r){return n.eq(r,i)?e.some(t):y(i,t)}):e.none()},_=function(e,n,o){if(u.isEmpty(o))return r.remove(o),u.isEmpty(n)&&h.fillWithPaddingBr(n),s.firstPositionIn(n.dom());g(!0,n),g(!1,o);var a=m(n);return b(n,o).fold(function(){v(e,n);var r=s.lastPositionIn(o.dom());return t.each(a,function(t){i.append(o,t)}),r},function(r){var c=s.prevPosition(o.dom(),l.before(r.dom()));return t.each(a,function(t){i.before(r,t)}),v(e,n),c})},w=function(t,e,n,i){return e?_(t,i,n):_(t,n,i)};return{mergeBlocks:w}}),a("tinymce.core.delete.BlockBoundaryDelete",["ephox.sugar.api.node.Element","tinymce.core.delete.BlockBoundary","tinymce.core.delete.MergeBlocks"],function(t,e,n){var i=function(i,r){var o,a=t.fromDom(i.getBody());return o=e.read(a.dom(),r,i.selection.getRng()).bind(function(t){return n.mergeBlocks(a,r,t.from().block(),t.to().block())}),o.each(function(t){i.selection.setRng(t.toRange())}),o.isSome()};return{backspaceDelete:i}}),a("tinymce.core.delete.BlockRangeDelete",["ephox.katamari.api.Fun","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.PredicateFind","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.delete.MergeBlocks","tinymce.core.dom.ElementType"],function(t,e,n,i,r,o,a,s,l,c){var u=function(t,r){var o=r.getRng();return e.liftN([s.getParentBlock(t,i.fromDom(o.startContainer)),s.getParentBlock(t,i.fromDom(o.endContainer))],function(e,i){return n.eq(e,i)===!1&&(o.deleteContents(),l.mergeBlocks(t,!0,e,i).each(function(t){r.setRng(t.toRange())}),!0)}).getOr(!1)},d=function(e,o){var a=i.fromDom(o),s=t.curry(n.eq,e);return r.ancestor(a,c.isTableCell,s).isSome()},h=function(t,e){return d(t,e.startContainer)||d(t,e.endContainer)},f=function(t,e){var n=o.prevPosition(t.dom(),a.fromRangeStart(e)).isNone(),i=o.nextPosition(t.dom(),a.fromRangeEnd(e)).isNone();return!h(t,e)&&n&&i},p=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},m=function(t){var e=i.fromDom(t.getBody()),n=t.selection.getRng();return f(e,n)?p(t):u(e,t.selection)},g=function(t){return!t.selection.isCollapsed()&&m(t,t.selection.getRng())};return{backspaceDelete:g}}),a("ephox.katamari.api.Adt",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Type","global!Array","global!Error","global!console"],function(t,e,n,i,r,o){var a=function(a){if(!n.isArray(a))throw new r("cases must be an array");if(0===a.length)throw new r("there must be at least one case");var s=[],l={};return t.each(a,function(c,u){var d=e.keys(c);if(1!==d.length)throw new r("one and only one name per case");var h=d[0],f=c[h];if(void 0!==l[h])throw new r("duplicate key detected:"+h);if("cata"===h)throw new r("cannot have a case named cata (sorry)");if(!n.isArray(f))throw new r("case arguments must be an array");s.push(h),l[h]=function(){var n=arguments.length;if(n!==f.length)throw new r("Wrong number of arguments to case "+h+". Expected "+f.length+" ("+f+"), got "+n);for(var l=new i(n),c=0;c<l.length;c++)l[c]=arguments[c];var d=function(n){var i=e.keys(n);if(s.length!==i.length)throw new r("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+i.join(","));var o=t.forall(s,function(e){return t.contains(i,e)});if(!o)throw new r("Not all branches were specified when using match. Specified: "+i.join(", ")+"\nRequired: "+s.join(", "));return n[h].apply(null,l)};return{fold:function(){if(arguments.length!==a.length)throw new r("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);var t=arguments[u];return t.apply(null,l)},match:d,log:function(t){o.log(t,{constructors:s,constructor:h,params:l})}}}}),l};return{generate:a}}),a("tinymce.core.delete.CefDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(t,e,n,i,r,o,a,s,l){var c=t.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),u=function(t,e){var n=e.getNode(t===!1),i=t?"after":"before";return l.isElement(n)&&n.getAttribute("data-mce-caret")===i},d=function(t,i,r,o){var l=o.getNode(i===!1);return a.getParentBlock(n.fromDom(t),n.fromDom(r.getNode())).map(function(t){return s.isEmpty(t)?c.remove(t.dom()):c.moveToElement(l)}).orThunk(function(){return e.some(c.moveToElement(l))})},h=function(t,n,r){return i.fromPosition(n,t,r).bind(function(i){return n&&l.isContentEditableFalse(i.getNode())?d(t,n,r,i):n===!1&&l.isContentEditableFalse(i.getNode(!0))?d(t,n,r,i):n&&o.isAfterContentEditableFalse(r)?e.some(c.moveToPosition(i)):n===!1&&o.isBeforeContentEditableFalse(r)?e.some(c.moveToPosition(i)):e.none()})},f=function(t,n){return t&&l.isContentEditableFalse(n.nextSibling)?e.some(c.moveToElement(n.nextSibling)):t===!1&&l.isContentEditableFalse(n.previousSibling)?e.some(c.moveToElement(n.previousSibling)):e.none()},p=function(t,n,i){return i.fold(function(t){return e.some(c.remove(t))},function(t){return e.some(c.moveToElement(t))},function(i){return o.isInSameBlock(n,i,t)?e.none():e.some(c.moveToPosition(i))})},m=function(t,n,i){return u(n,i)?f(n,i.getNode(n===!1)).fold(function(){return h(t,n,i)},e.some):h(t,n,i).bind(function(e){return p(t,i,e)})},g=function(t,n,i){var a=o.normalizeRange(n?1:-1,t,i),s=r.fromRangeStart(a);return n===!1&&o.isAfterContentEditableFalse(s)?e.some(c.remove(s.getNode(!0))):n&&o.isBeforeContentEditableFalse(s)?e.some(c.remove(s.getNode())):m(t,n,s)};return{read:g}}),a("tinymce.core.delete.DeleteElement",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f){var p=function(t,e){var n=t.container(),i=t.offset();return d.isTextPosition(t)===!1&&n===e.parentNode&&i>d.before(e).offset()},m=function(t,e){return p(e,t)?new d(e.container(),e.offset()-1):e},g=function(t){return f.isText(t)?new d(t,0):d.before(t)},v=function(t){return f.isText(t)?new d(t,t.data.length):d.after(t)},y=function(t){return c.isCaretCandidate(t.previousSibling)?e.some(v(t.previousSibling)):t.previousSibling?u.lastPositionIn(t.previousSibling):e.none()},b=function(t){return c.isCaretCandidate(t.nextSibling)?e.some(g(t.nextSibling)):t.nextSibling?u.firstPositionIn(t.nextSibling):e.none()},_=function(t,n){var i=d.before(n.previousSibling?n.previousSibling:n.parentNode);return u.prevPosition(t,i).fold(function(){return u.nextPosition(t,d.after(n))},e.some)},w=function(t,n){return u.nextPosition(t,d.after(n)).fold(function(){return u.prevPosition(t,d.before(n))},e.some)},x=function(t,e){return y(e).orThunk(function(){return b(e)}).orThunk(function(){return _(t,e)})},k=function(t,e){return b(e).orThunk(function(){return y(e)}).orThunk(function(){return w(t,e)})},C=function(t,e,n){return t?k(e,n):x(e,n)},T=function(e,n,i){return C(e,n,i).map(t.curry(m,i))},S=function(t,e,n){n.fold(function(){t.focus()},function(n){t.selection.setRng(n.toRange(),e)})},E=function(t){return function(e){return e.dom()===t}},O=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(a.name(e))},A=function(t){if(h.isEmpty(t)){var n=o.fromHtml('<br data-mce-bogus="1">');return r.empty(t),i.append(t,n),e.some(d.before(n.dom()))}return e.none()},M=function(t,e){return n.liftN([l.prevSibling(t),l.nextSibling(t),e],function(e,n,i){var o,a=e.dom(),s=n.dom();return f.isText(a)&&f.isText(s)?(o=a.data.length,a.appendData(s.data),r.remove(n),r.remove(t),i.container()===s?new d(a,o):i):(r.remove(t),i)}).orThunk(function(){return r.remove(t),e})},P=function(n,i,r){var o=T(i,n.getBody(),r.dom()),a=s.ancestor(r,t.curry(O,n),E(n.getBody())),l=M(r,o);n.dom.isEmpty(n.getBody())?(n.setContent(""),n.selection.setCursorLocation()):a.bind(A).fold(function(){S(n,i,l)},function(t){S(n,i,e.some(t))})};return{deleteElement:P}}),a("tinymce.core.delete.CefDelete",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.caret.CaretPosition","tinymce.core.delete.CefDeleteAction","tinymce.core.delete.DeleteElement","tinymce.core.delete.DeleteUtils","tinymce.core.dom.NodeType"],function(t,e,n,i,r,o,a,s,l){var c=function(t,e){return function(i){return t._selectionOverrides.hideFakeCaret(),a.deleteElement(t,e,n.fromDom(i)),!0}},u=function(t,e){return function(n){var i=e?r.before(n):r.after(n);return t.selection.setRng(i.toRange()),!0}},d=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},h=function(t,e){var n=o.read(t.getBody(),e,t.selection.getRng()).map(function(n){return n.fold(c(t,e),u(t,e),d(t))});return n.getOr(!1)},f=function(n){t.each(i.descendants(n,".mce-offscreen-selection"),e.remove)},p=function(t,e){var i=t.selection.getNode();return!!l.isContentEditableFalse(i)&&(f(n.fromDom(t.getBody())),a.deleteElement(t,e,n.fromDom(t.selection.getNode())),s.paddEmptyBody(t),!0)},m=function(t,e){for(;e&&e!==t;){if(l.isContentEditableTrue(e)||l.isContentEditableFalse(e))return e;e=e.parentNode}return null},g=function(t){var e,n=m(t.getBody(),t.selection.getNode());return l.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(r.before(e).toRange())),!0},v=function(t,e){return t.selection.isCollapsed()?h(t,e):p(t,e)};return{backspaceDelete:v,paddEmptyElement:g}}),a("tinymce.core.caret.CaretContainerInline",["ephox.katamari.api.Fun","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(t,e,n){var i=e.isText,r=function(t){return i(t)&&t.data[0]===n.ZWSP},o=function(t){return i(t)&&t.data[t.data.length-1]===n.ZWSP},a=function(t){return t.ownerDocument.createTextNode(n.ZWSP)},s=function(t){if(i(t.previousSibling))return o(t.previousSibling)?t.previousSibling:(t.previousSibling.appendData(n.ZWSP),t.previousSibling);if(i(t))return r(t)?t:(t.insertData(0,n.ZWSP),t);var e=a(t);return t.parentNode.insertBefore(e,t),e},l=function(t){if(i(t.nextSibling))return r(t.nextSibling)?t.nextSibling:(t.nextSibling.insertData(0,n.ZWSP),t.nextSibling);if(i(t))return o(t)?t:(t.appendData(n.ZWSP),t);var e=a(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},c=function(t,e){return t?s(e):l(e)};return{insertInline:c,insertInlineBefore:t.curry(c,!0),insertInlineAfter:t.curry(c,!1)}}),a("tinymce.core.caret.CaretContainerRemove",["ephox.katamari.api.Arr","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(t,e,n,i,r){var o=i.isElement,a=i.isText,s=function(t){var e=t.parentNode;e&&e.removeChild(t)},l=function(t){try{return t.nodeValue}catch(t){return""}},c=function(t,e){0===e.length?s(t):t.nodeValue=e},u=function(t){var e=r.trim(t);return{count:t.length-e.length,text:e}},d=function(t,e){return v(t),e},h=function(t,e){var i=u(t.data.substr(0,e.offset())),r=u(t.data.substr(e.offset())),o=i.text+r.text;return o.length>0?(c(t,o),new n(t,e.offset()-i.count)):e},f=function(e,i){var r=i.container(),o=t.indexOf(r.childNodes,e).map(function(t){return t<i.offset()?new n(r,i.offset()-1):i}).getOr(i);return v(e),o},p=function(t,e){return e.container()===t?h(t,e):d(t,e)},m=function(t,e){return e.container()===t.parentNode?f(t,e):d(t,e)},g=function(t,e){return n.isTextPosition(e)?p(t,e):m(t,e)},v=function(t){if(o(t)&&e.isCaretContainer(t)&&(e.hasContent(t)?t.removeAttribute("data-mce-caret"):s(t)),a(t)){var n=r.trim(l(t));c(t,n)}};return{removeAndReposition:g,remove:v}}),a("tinymce.core.keyboard.BoundaryCaret",["ephox.katamari.api.Option","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerInline","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],function(t,e,n,i,r,o,a){var s=function(t,e){return a.isText(t.container())?n.insertInline(e,t.container()):n.insertInline(e,t.getNode())},l=function(t,n){var i=n.get();return i&&t.container()===i&&e.isCaretContainerInline(i)},c=function(e,a){return a.fold(function(r){i.remove(e.get());var a=n.insertInlineBefore(r);return e.set(a),t.some(new o(a,a.length-1))},function(t){return r.firstPositionIn(t).map(function(t){if(l(t,e))return new o(e.get(),1);i.remove(e.get());var n=s(t,!0);return e.set(n),new o(n,1)})},function(t){return r.lastPositionIn(t).map(function(t){if(l(t,e))return new o(e.get(),e.get().length-1);i.remove(e.get());var n=s(t,!1);return e.set(n),new o(n,n.length-1)})},function(r){i.remove(e.get());var a=n.insertInlineAfter(r);return e.set(a),t.some(new o(a,1))})};return{renderCaret:c}}),a("tinymce.core.fmt.FormatUtils",["tinymce.core.dom.TreeWalker"],function(t){var e=function(t){return t&&/^(IMG)$/.test(t.nodeName)},n=function(n,i,r){var o,s,l,c=r.startContainer,u=r.startOffset;if((r.startContainer!==r.endContainer||!e(r.startContainer.childNodes[r.startOffset]))&&(3===c.nodeType&&u>=c.nodeValue.length&&(u=n.nodeIndex(c),c=c.parentNode),1===c.nodeType))for(l=c.childNodes,u<l.length?(c=l[u],o=new t(c,n.getParent(c,n.isBlock))):(c=l[l.length-1],o=new t(c,n.getParent(c,n.isBlock)),o.next(!0)),s=o.current();s;s=o.next())if(3===s.nodeType&&!a(s))return r.setStart(s,0),void i.setRng(r)},i=function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!a(t))return t},r=function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},o=function(t,e,n){return t.schema.isValidChild(e,n)},a=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},s=function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t},l=function(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},c=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},u=function(t,e,n){return c(t,t.getStyle(e,n),n)},d=function(t,e){var n;return t.getParent(e,function(e){return n=t.getStyle(e,"text-decoration"),n&&"none"!==n}),n},h=function(t,e,n){return t.getParents(e,n,t.getRoot())};return{isInlineBlock:e,moveStart:n,getNonWhiteSpaceSibling:i,isTextBlock:r,isValid:o,isWhiteSpaceNode:a,replaceVars:s,isEq:l,normalizeStyleValue:c,getStyle:u,getTextDecoration:d,getParents:h}}),a("tinymce.core.fmt.ExpandRange",["tinymce.core.dom.Bookmarks","tinymce.core.dom.TreeWalker","tinymce.core.fmt.FormatUtils","tinymce.core.selection.RangeNodes"],function(t,e,n,i){var r=t.isBookmarkNode,o=n.getParents,a=n.isWhiteSpaceNode,s=n.isTextBlock,l=function(t,e){for("undefined"==typeof e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)t=t.childNodes[e],t&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}},c=function(t,e){var n=l(t,e);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=l(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(t=n.node,t.splitText(n.offset-1))}return t},u=function(t){return"BR"===t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},d=function(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},h=function(t,e,n,i){var r,o,a=n.nodeValue;return"undefined"==typeof i&&(i=t?a.length:0),t?(r=a.lastIndexOf(" ",i),o=a.lastIndexOf("\xa0",i),r=r>o?r:o,r===-1||e||r++):(r=a.indexOf(" ",i),o=a.indexOf("\xa0",i),r=r!==-1&&(o===-1||r<o)?r:o),r},f=function(t,n,i,r,o,a){var s,l,c,u;if(3===i.nodeType){if(c=h(o,a,i,r),c!==-1)return{container:i,offset:c};u=i}for(s=new e(i,t.getParent(i,t.isBlock)||n);l=s[o?"prev":"next"]();)if(3===l.nodeType){if(u=l,c=h(o,a,l),c!==-1)return{container:l,offset:c}}else if(t.isBlock(l))break;if(u)return r=o?0:u.length,{container:u,offset:r}},p=function(t,e,n,i,r){var a,s,l,c;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),a=o(t,i),s=0;s<a.length;s++)for(l=0;l<e.length;l++)if(c=e[l],!("collapsed"in c&&c.collapsed!==n.collapsed)&&t.is(a[s],c.selector))return a[s];return i},m=function(t,e,i,r){var a,l=t.dom,c=l.getRoot();if(e[0].wrapper||(a=l.getParent(i,e[0].block,c)),!a){var u=l.getParent(i,"LI,TD,TH");a=l.getParent(3===i.nodeType?i.parentNode:i,function(e){return e!==c&&s(t,e)},u)}if(a&&e[0].wrapper&&(a=o(l,a,"ul,ol").reverse()[0]||a),!a)for(a=i;a[r]&&!l.isBlock(a[r])&&(a=a[r],!n.isEq(a,"br")););return a||i},g=function(t,e,n,i,o,s,l){var c,d,h,f,p;if(c=d=l?n:o,f=l?"previousSibling":"nextSibling",p=t.getRoot(),3===c.nodeType&&!a(c)&&(l?i>0:s<c.nodeValue.length))return c;for(;;){if(!e[0].block_expand&&t.isBlock(d))return d;for(h=d[f];h;h=h[f])if(!r(h)&&!a(h)&&!u(h))return d;if(d===p||d.parentNode===p){c=d;break}d=d.parentNode}return c},v=function(t,e,n,o){var a,s=e.startContainer,l=e.startOffset,u=e.endContainer,h=e.endOffset,v=t.dom;return 1===s.nodeType&&s.hasChildNodes()&&(s=i.getNode(s,l),3===s.nodeType&&(l=0)),1===u.nodeType&&u.hasChildNodes()&&(u=i.getNode(u,e.collapsed?h:h-1),3===u.nodeType&&(h=u.nodeValue.length)),s=d(v,s),u=d(v,u),(r(s.parentNode)||r(s))&&(s=r(s)?s:s.parentNode,s=s.nextSibling||s,3===s.nodeType&&(l=0)),(r(u.parentNode)||r(u))&&(u=r(u)?u:u.parentNode,u=u.previousSibling||u,3===u.nodeType&&(h=u.length)),n[0].inline&&(e.collapsed&&(a=f(v,t.getBody(),s,l,!0,o),a&&(s=a.container,l=a.offset),a=f(v,t.getBody(),u,h,!1,o),a&&(u=a.container,h=a.offset)),u=o?u:c(u,h)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===s.nodeType&&0!==l||(s=g(v,n,s,l,u,h,!0)),n[0].inline&&3===u.nodeType&&h!==u.nodeValue.length||(u=g(v,n,s,l,u,h,!1))),n[0].selector&&n[0].expand!==!1&&!n[0].inline&&(s=p(v,n,e,s,"previousSibling"),u=p(v,n,e,u,"nextSibling")),(n[0].block||n[0].selector)&&(s=m(t,n,s,"previousSibling"),u=m(t,n,u,"nextSibling"),n[0].block&&(v.isBlock(s)||(s=g(v,n,s,l,u,h,!0)),v.isBlock(u)||(u=g(v,n,s,l,u,h,!1)))),1===s.nodeType&&(l=v.nodeIndex(s),s=s.parentNode),1===u.nodeType&&(h=v.nodeIndex(u)+1,u=u.parentNode),{startContainer:s,startOffset:l,endContainer:u,endOffset:h}};return{expandRng:v}}),a("tinymce.core.fmt.MatchFormat",["tinymce.core.fmt.FormatUtils"],function(t){var e=t.isEq,n=function(t,e,n){var i=t.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(i[r].inherit===!1&&t.dom.is(e,i[r].selector))return!0;return!1},i=function(t,e,i,r){var o=t.dom.getRoot();return e!==o&&(e=t.dom.getParent(e,function(e){return!!n(t,e,i)||(e.parentNode===o||!!a(t,e,i,r,!0))}),a(t,e,i,r))},r=function(t,n,i){return!!e(n,i.inline)||(!!e(n,i.block)||(i.selector?1===n.nodeType&&t.is(n,i.selector):void 0))},o=function(n,i,r,o,a,s){var l,c,u,d=r[o];if(r.onmatch)return r.onmatch(i,r,o);if(d)if("undefined"==typeof d.length){for(l in d)if(d.hasOwnProperty(l)){if(c="attributes"===o?n.getAttrib(i,l):t.getStyle(n,i,l),a&&!c&&!r.exact)return;if((!a||r.exact)&&!e(c,t.normalizeStyleValue(n,t.replaceVars(d[l],s),l)))return}}else for(u=0;u<d.length;u++)if("attributes"===o?n.getAttrib(i,d[u]):t.getStyle(n,i,d[u]))return r;return r},a=function(t,e,n,i,a){var s,l,c,u,d=t.formatter.get(n),h=t.dom;if(d&&e)for(l=0;l<d.length;l++)if(s=d[l],r(t.dom,e,s)&&o(h,e,s,"attributes",a,i)&&o(h,e,s,"styles",a,i)){if(u=s.classes)for(c=0;c<u.length;c++)if(!t.dom.hasClass(e,u[c]))return;return s}},s=function(t,e,n,r){var o;return r?i(t,r,e,n):(r=t.selection.getNode(),!!i(t,r,e,n)||(o=t.selection.getStart(),!(o===r||!i(t,o,e,n))))},l=function(t,e,n){var i,r=[],o={};return i=t.selection.getStart(),t.dom.getParent(i,function(i){var s,l;for(s=0;s<e.length;s++)l=e[s],!o[l]&&a(t,i,l,n)&&(o[l]=!0,r.push(l))},t.dom.getRoot()),r},c=function(e,n){var i,r,o,a,s,l=e.formatter.get(n),c=e.dom;if(l)for(i=e.selection.getStart(),r=t.getParents(c,i),a=l.length-1;a>=0;a--){if(s=l[a].selector,!s||l[a].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(c.is(r[o],s))return!0}return!1};return{matchNode:a,matchName:r,match:s,matchAll:l,canApply:c,matchesUnInheritedFormatSelector:n}}),a("tinymce.core.selection.SplitRange",["tinymce.core.dom.NodeType"],function(t){var e=function(t,e){return t.splitText(e)},n=function(n){var i=n.startContainer,r=n.startOffset,o=n.endContainer,a=n.endOffset;return i===o&&t.isText(i)?r>0&&r<i.nodeValue.length&&(o=e(i,r),i=o.previousSibling,a>r?(a-=r,i=o=e(o,a).previousSibling,a=o.nodeValue.length,r=0):a=0):(t.isText(i)&&r>0&&r<i.nodeValue.length&&(i=e(i,r),r=0),t.isText(o)&&a>0&&a<o.nodeValue.length&&(o=e(o,a).previousSibling,a=o.nodeValue.length)),{startContainer:i,startOffset:r,endContainer:o,endOffset:a}};return{split:n}}),a("tinymce.core.fmt.CaretFormat",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.properties.Attr","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.dom.PaddingBr","tinymce.core.dom.TreeWalker","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.selection.SplitRange","tinymce.core.text.Zwsp","tinymce.core.util.Fun"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p,m){var g=p.ZWSP,v="_mce_caret",y=function(t,e){return t.importNode(e,!0)},b=function(t){return 1===t.nodeType&&t.id===v},_=function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==g||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e},w=function(t){return _(t).length>0},x=function(t){var e;if(t)for(e=new c(t,t),t=e.current();t;t=e.next())if(3===t.nodeType)return t;return null},k=function(t){var n=i.fromTag("span");return o.setAll(n,{id:v,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&e.append(n,i.fromText(g)),n},C=function(t,e){for(;e&&e!==t;){if(e.id===v)return e;e=e.parentNode}return null},T=function(t){var e=x(t);return e&&e.nodeValue.charAt(0)===g&&e.deleteData(0,1),e},S=function(t,e,n,r){var o,a,s;o=e.getRng(!0),a=t.getParent(n,t.isBlock),w(n)?(r!==!1&&(o.setStartBefore(n),o.setEndBefore(n)),t.remove(n)):(s=T(n),o.startContainer===s&&o.startOffset>0&&o.setStart(s,o.startOffset-1),o.endContainer===s&&o.endOffset>0&&o.setEnd(s,o.endOffset-1),t.remove(n,!0)),a&&t.isEmpty(a)&&l.fillWithPaddingBr(i.fromDom(a)),e.setRng(o)},E=function(t,e,n,i,r){if(i)S(e,n,i,r);else if(i=C(t,n.getStart()),!i)for(;i=e.get(v);)S(e,n,i,!1)},O=function(t,e,n){var r=t.dom,o=r.getParent(n,m.curry(d.isTextBlock,t));o&&r.isEmpty(o)?n.parentNode.replaceChild(e,n):(l.removeTrailingBr(i.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(e,n):r.insertAfter(e,n))},A=function(t,e){return t.appendChild(e),e},M=function(e,n){var i=t.foldr(e,function(t,e){return A(t,e.cloneNode(!1))},n);return A(i,i.ownerDocument.createTextNode(g))},P=function(t,e,n){var i,r,o,a,s,l,c,d=t.selection;i=d.getRng(!0),a=i.startOffset,l=i.startContainer,c=l.nodeValue,r=C(t.getBody(),d.getStart()),r&&(o=x(r));var h=/[^\s\u00a0\u00ad\u200b\ufeff]/;c&&a>0&&a<c.length&&h.test(c.charAt(a))&&h.test(c.charAt(a-1))?(s=d.getBookmark(),i.collapse(!0),i=u.expandRng(t,i,t.formatter.get(e)),i=f.split(i),t.formatter.apply(e,n,i),d.moveToBookmark(s)):(r&&o.nodeValue===g?t.formatter.apply(e,n,r):(r=y(t.getDoc(),k(!0).dom()),o=r.firstChild,i.insertNode(r),a=1,t.formatter.apply(e,n,r)),d.setCursorLocation(o,a))},D=function(t,e,n,i){var r,o,a,s,l,c,d,p=t.dom,m=t.selection,g=m.getRng(!0),v=[];for(r=g.startContainer,o=g.startOffset,l=r,3===r.nodeType&&(o!==r.nodeValue.length&&(s=!0),l=l.parentNode);l;){if(h.matchNode(t,l,e,n,i)){c=l;break}l.nextSibling&&(s=!0),v.push(l),l=l.parentNode}if(c)if(s)a=m.getBookmark(),g.collapse(!0),g=u.expandRng(t,g,t.formatter.get(e),!0),g=f.split(g),t.formatter.remove(e,n,g),m.moveToBookmark(a);else{d=C(t.getBody(),c);var y=k(!1).dom(),b=M(v,y);d?O(t,y,d):O(t,y,c),S(p,m,d,!1),m.setCursorLocation(b,1),p.isEmpty(c)&&p.remove(c)}},j=function(t,e,n,i){E(t,e,n,null,!1),8===i&&n.isCollapsed()&&n.getStart().innerHTML===g&&E(t,e,n,C(t,n.getStart())),37!==i&&39!==i||E(t,e,n,C(t,n.getStart()))},N=function(t){var e=t.dom,n=t.selection,i=t.getBody();t.on("mouseup keydown",function(t){j(i,e,n,t.keyCode)})},L=function(t,r){var o=k(!1),s=M(r,o.dom());return e.before(i.fromDom(t),o),n.remove(i.fromDom(t)),a(s,0)},I=function(t,e){var n=t.schema.getTextInlineElements();return n.hasOwnProperty(r.name(e))&&!b(e.dom())&&!s.isBogus(e.dom())};return{setup:N,applyCaretFormat:P,removeCaretFormat:D,isCaretNode:b,getParentCaretContainer:C,replaceWithCaretFormat:L,isFormatElement:I}}),a("tinymce.core.util.LazyEvaluator",["ephox.katamari.api.Option"],function(t){var e=function(e,n){for(var i=0;i<e.length;i++){var r=e[i].apply(null,n);if(r.isSome())return r}return t.none()};return{evaluateUntil:e}}),a("tinymce.core.keyboard.BoundaryLocation",["ephox.katamari.api.Adt","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretUtils","tinymce.core.fmt.CaretFormat","tinymce.core.keyboard.InlineUtils","tinymce.core.util.LazyEvaluator"],function(t,e,n,i,r,o,a,s,l){var c=t.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),u=function(t,e){var n=o.getParentBlock(e,t);return n?n:t},d=function(t,i,o){var a=s.normalizeForwards(o),l=u(i,a.container());return s.findRootInline(t,l,a).fold(function(){return r.nextPosition(l,a).bind(e.curry(s.findRootInline,t,l)).map(function(t){return c.before(t)})},n.none)},h=function(t,e){return null===a.getParentCaretContainer(t,e)},f=function(t,n,i){return s.findRootInline(t,n,i).filter(e.curry(h,n))},p=function(t,e,i){var o=s.normalizeBackwards(i);return f(t,e,o).bind(function(t){var e=r.prevPosition(t,o);return e.isNone()?n.some(c.start(t)):n.none()})},m=function(t,e,i){var o=s.normalizeForwards(i);return f(t,e,o).bind(function(t){var e=r.nextPosition(t,o);return e.isNone()?n.some(c.end(t)):n.none()})},g=function(t,i,o){var a=s.normalizeBackwards(o),l=u(i,a.container());return s.findRootInline(t,l,a).fold(function(){return r.prevPosition(l,a).bind(e.curry(s.findRootInline,t,l)).map(function(t){return c.after(t)})},n.none)},v=function(t){return s.isRtl(b(t))===!1},y=function(t,e,n){var i=l.evaluateUntil([d,p,m,g],[t,e,n]);return i.filter(v)},b=function(t){return t.fold(e.identity,e.identity,e.identity,e.identity)},_=function(t){return t.fold(e.constant("before"),e.constant("start"),e.constant("end"),e.constant("after"))},w=function(t){return t.fold(c.before,c.before,c.after,c.after)},x=function(t){return t.fold(c.start,c.start,c.end,c.end)},k=function(t,e){return _(t)===_(e)&&b(t)===b(e)},C=function(t,e,n,r,o,a){return i.liftN([s.findRootInline(e,n,r),s.findRootInline(e,n,o)],function(e,i){return e!==i&&s.hasSameParentBlock(n,e,i)?c.after(t?e:i):a}).getOr(a)},T=function(t,n){return t.fold(e.constant(!0),function(t){return!k(t,n)})},S=function(t,n,i,o,a){var l=s.normalizePosition(t,a),c=r.fromPosition(t,i,l).map(e.curry(s.normalizePosition,t)),u=c.fold(function(){return o.map(w)},function(r){return y(n,i,r).map(e.curry(C,t,n,i,l,r)).filter(e.curry(T,o))});return u.filter(v)},E=function(t,i){return t?i.fold(e.compose(n.some,c.start),n.none,e.compose(n.some,c.after),n.none):i.fold(n.none,e.compose(n.some,c.before),n.none,e.compose(n.some,c.end))},O=function(t,n,i,r){var o=s.normalizePosition(t,r),a=y(n,i,o);return y(n,i,o).bind(e.curry(E,t)).orThunk(function(){return S(t,n,i,a,r)})};return{readLocation:y,findLocation:O,prevLocation:e.curry(O,!1),nextLocation:e.curry(O,!0),getElement:b,outside:w,inside:x}}),a("ephox.katamari.api.Cell",[],function(){var t=function(e){var n=e,i=function(){return n},r=function(t){n=t},o=function(){return t(i())};return{get:i,set:r,clone:o}};return t}),a("tinymce.core.selection.WordSelection",["ephox.katamari.api.Type","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition"],function(t,e,n){var i=function(e){return t.isFunction(e.selection.getSel().modify)},r=function(t,e,i){var r=t?1:-1;return e.setRng(n(i.container(),i.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},o=function(t,o){var a=o.selection.getRng(),s=t?n.fromRangeEnd(a):n.fromRangeStart(a);return!!i(o)&&(t&&e.isBeforeInline(s)?r(!0,o.selection,s):!(t||!e.isAfterInline(s))&&r(!1,o.selection,s))};return{hasSelectionModifyApi:i,moveByWord:o}}),a("tinymce.core.keyboard.BoundarySelection",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils","tinymce.core.selection.WordSelection"],function(t,e,n,i,r,o,a,s,l){var c=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},u=function(t){return t.settings.inline_boundaries!==!1},d=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},h=function(t,e,n){return o.renderCaret(e,n).map(function(e){return c(t,e),n})},f=function(t,e,i){var o=t.getBody(),l=r.fromRangeStart(t.selection.getRng()),c=n.curry(s.isInlineTarget,t),u=a.findLocation(i,c,o,l);return u.bind(function(n){return h(t,e,n)})},p=function(e,i,r){var o=t.filter(i.select('*[data-mce-selected="inline-boundary"]'),e),a=t.filter(r,e);t.each(t.difference(o,a),n.curry(d,!1)),t.each(t.difference(a,o),n.curry(d,!0))},m=function(t,e){if(t.selection.isCollapsed()&&t.composing!==!0&&e.get()){var n=r.fromRangeStart(t.selection.getRng());r.isTextPosition(n)&&s.isAtZwsp(n)===!1&&(c(t,i.removeAndReposition(e.get(),n)),e.set(null))}},g=function(e,n,i,o){if(n.selection.isCollapsed()){var s=t.filter(o,e);t.each(s,function(){var t=r.fromRangeStart(n.selection.getRng());
a.readLocation(e,n.getBody(),t).bind(function(t){return h(n,i,t)})})}},v=function(t,e,n){return function(){return!!u(t)&&f(t,e,n).isSome()}},y=function(t,e){return function(){return!!u(e)&&l.moveByWord(t,e)}},b=function(t){var i=new e(null),r=n.curry(s.isInlineTarget,t);return t.on("NodeChange",function(e){u(t)&&(p(r,t.dom,e.parents),m(t,i),g(r,t,i,e.parents))}),i};return{move:v,moveNextWord:n.curry(y,!0),movePrevWord:n.curry(y,!1),setupSelectedState:b,setCaretPosition:c}}),a("tinymce.core.delete.InlineBoundaryDelete",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.node.Element","global!document","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteElement","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.InlineUtils"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f){var p=function(t){return t.settings.inline_boundaries!==!1},m=function(t,e){var n=r.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n},g=function(t){return n.liftN([a.firstPositionIn(t),a.lastPositionIn(t)],function(e,n){var i=f.normalizePosition(!0,e),r=f.normalizePosition(!1,n);return a.nextPosition(t,i).map(function(t){return t.isEqual(r)}).getOr(!0)}).getOr(!0)},v=function(t,e){return function(n){return u.renderCaret(e,n).map(function(e){return h.setCaretPosition(t,e),!0}).getOr(!1)}},y=function(e,n,i,r){var o=e.getBody(),a=t.curry(f.isInlineTarget,e);e.undoManager.ignore(function(){e.selection.setRng(m(i,r)),e.execCommand("Delete"),d.readLocation(a,o,s.fromRangeStart(e.selection.getRng())).map(d.inside).map(v(e,n))}),e.nodeChanged()},b=function(t,e){var n=l.getParentBlock(e,t);return n?n:t},_=function(n,r,o,s){var l=b(n.getBody(),s.container()),u=t.curry(f.isInlineTarget,n),h=d.readLocation(u,l,s);return h.bind(function(n){return o?n.fold(t.constant(e.some(d.inside(n))),e.none,t.constant(e.some(d.outside(n))),e.none):n.fold(e.none,t.constant(e.some(d.outside(n))),e.none,t.constant(e.some(d.inside(n))))}).map(v(n,r)).getOrThunk(function(){var t=a.navigate(o,l,s),e=t.bind(function(t){return d.readLocation(u,l,t)});return h.isSome()&&e.isSome()?f.findRootInline(u,l,s).map(function(t){return!!g(t)&&(c.deleteElement(n,o,i.fromDom(t)),!0)}).getOr(!1):e.bind(function(){return t.map(function(t){return o?y(n,r,s,t):y(n,r,t,s),!0})}).getOr(!1)})},w=function(t,e,n){if(t.selection.isCollapsed()&&p(t)){var i=s.fromRangeStart(t.selection.getRng());return _(t,e,n,i)}return!1};return{backspaceDelete:w}}),a("tinymce.core.delete.TableDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind"],function(t,e,n,i,r,o,a,s,l,c){var u=o.immutable("start","end"),d=o.immutable("rng","table","cells"),h=t.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),f=function(t,e){return c.closest(s.fromDom(t),"td,th",e)},p=function(t,e){return c.ancestor(t,"table",e)},m=function(t){return a.eq(t.start(),t.end())===!1},g=function(t,e){return p(t.start(),e).bind(function(n){return p(t.end(),e).bind(function(t){return a.eq(n,t)?i.some(n):i.none()})})},v=function(t,e){return r.liftN([f(t.startContainer,e),f(t.endContainer,e)],u).filter(m)},y=function(t,e){return g(t,e).bind(function(e){var n=l.descendants(e,"td,th");return d(t,e,n)})},b=function(t,e){var i=n.curry(a.eq,t);return v(e,i).map(function(t){return y(t,i)})},_=function(t,n){return e.findIndex(t,function(t){return a.eq(t,n)})},w=function(t){return r.liftN([_(t.cells(),t.rng().start()),_(t.cells(),t.rng().end())],function(e,n){return t.cells().slice(e,n+1)})},x=function(t){return w(t).bind(function(e){var n=t.cells();return e.length===n.length?h.removeTable(t.table()):h.emptyCells(e)})},k=function(t){return h.emptyCells(t)},C=function(t,e){return b(t,e).map(x)};return{getActionFromRange:C,getActionFromCells:k}}),a("tinymce.core.selection.MultiRange",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","tinymce.core.selection.RangeNodes"],function(t,e,n){var i=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},r=function(i){return t.bind(i,function(t){var i=n.getSelectedNode(t);return i?[e.fromDom(i)]:[]})},o=function(t){return i(t).length>1};return{getRanges:i,getSelectedNodes:r,hasMultipleRanges:o}}),a("tinymce.core.selection.TableCellSelection",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.dom.ElementType","tinymce.core.selection.MultiRange"],function(t,e,n,i,r){var o=function(e){return t.filter(r.getSelectedNodes(e),i.isTableCell)},a=function(t){var e=n.descendants(t,"td[data-mce-selected],th[data-mce-selected]");return e},s=function(t,e){var n=a(e),i=o(t);return n.length>0?n:i},l=function(t){return s(r.getRanges(t.selection.getSel()),e.fromDom(t.getBody()))};return{getCellsFromRanges:o,getCellsFromElement:a,getCellsFromElementOrRanges:s,getCellsFromEditor:l}}),a("tinymce.core.delete.TableDelete",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteElement","tinymce.core.delete.TableDeleteAction","tinymce.core.dom.ElementType","tinymce.core.dom.Empty","tinymce.core.dom.PaddingBr","tinymce.core.dom.Parents","tinymce.core.selection.TableCellSelection"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p){var m=function(e,n){return t.each(n,h.fillWithPaddingBr),e.selection.setCursorLocation(n[0].dom(),0),!0},g=function(t,e){return l.deleteElement(t,!1,e),!0},v=function(t,n,i){return c.getActionFromRange(n,i).map(function(n){return n.fold(e.curry(g,t),e.curry(m,t))})},y=function(t,e){return C(t,e)},b=function(t,e,n,i){return x(e,i).fold(function(){return v(t,e,n)},function(e){return y(t,e)}).getOr(!1)},_=function(t,e){var n=r.fromDom(t.getBody()),i=t.selection.getRng(),o=p.getCellsFromEditor(t);return 0!==o.length?m(t,o):b(t,n,i,e)},w=function(e,n){return t.find(f.parentsAndSelf(n,e),u.isTableCell)},x=function(e,n){return t.find(f.parentsAndSelf(n,e),function(t){return"caption"===o.name(t)})},k=function(t,e,n,o,s){return a.navigate(n,t.getBody(),s).bind(function(t){return w(e,r.fromDom(t.getNode())).map(function(t){return i.eq(t,o)===!1})})},C=function(t,e){return h.fillWithPaddingBr(e),t.selection.setCursorLocation(e.dom(),0),n.some(!0)},T=function(t,e,n,i){return a.firstPositionIn(t.dom()).bind(function(r){return a.lastPositionIn(t.dom()).map(function(t){return e?n.isEqual(r)&&i.isEqual(t):n.isEqual(t)&&i.isEqual(r)})}).getOr(!0)},S=function(t,e){return C(t,e)},E=function(t,e,n){return x(t,r.fromDom(n.getNode())).map(function(t){return i.eq(t,e)===!1})},O=function(t,e,i,r,o){return a.navigate(i,t.getBody(),o).bind(function(n){return T(r,i,o,n)?S(t,r):E(e,r,n)}).or(n.some(!0))},A=function(t,e,n,i){var r=s.fromRangeStart(t.selection.getRng());return w(n,i).bind(function(i){return d.isEmpty(i)?C(t,i):k(t,n,e,i,r)})},M=function(t,e,n,i){var r=s.fromRangeStart(t.selection.getRng());return d.isEmpty(i)?C(t,i):O(t,n,e,i,r)},P=function(t,e,n){var i=r.fromDom(t.getBody());return x(i,n).fold(function(){return A(t,e,i,n)},function(n){return M(t,e,i,n)}).getOr(!1)},D=function(t,e){var n=r.fromDom(t.selection.getStart(!0));return t.selection.isCollapsed()?P(t,e,n):_(t,n)};return{backspaceDelete:D}}),a("tinymce.core.delete.DeleteCommands",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.DeleteUtils","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.delete.TableDelete"],function(t,e,n,i,r,o){var a=function(t,e){t.getDoc().execCommand(e,!1,null)},s=function(s){n.backspaceDelete(s,!1)||r.backspaceDelete(s,!1)||t.backspaceDelete(s,!1)||o.backspaceDelete(s)||e.backspaceDelete(s,!1)||(a(s,"Delete"),i.paddEmptyBody(s))},l=function(i){n.backspaceDelete(i,!0)||r.backspaceDelete(i,!0)||t.backspaceDelete(i,!0)||o.backspaceDelete(i)||e.backspaceDelete(i,!0)||a(i,"ForwardDelete")};return{deleteCommand:s,forwardDeleteCommand:l}}),a("tinymce.core.selection.RangeCompare",[],function(){var t=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset};return{isEq:t}}),a("tinymce.core.selection.NormalizeRange",["ephox.katamari.api.Option","ephox.katamari.api.Struct","tinymce.core.caret.CaretContainer","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker","tinymce.core.fmt.CaretFormat","tinymce.core.selection.RangeCompare"],function(t,e,n,i,r,o,a){var s=e.immutable("container","offset"),l=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},c=function(t,e,n){return null!==l(t,e,n)},u=function(t,e,n){return c(t,e,function(t){return t.nodeName===n})},d=function(t){return t&&"TABLE"===t.nodeName},h=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},f=function(t,e){return n.isCaretContainer(t)&&c(t,e,o.isCaretNode)===!1},p=function(t,e,n){for(var o=new r(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=o[n?"prev":"next"]();)if(i.isBr(e))return!0},m=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},g=function(t,e){for(;e&&e!==t;){if(i.isContentEditableFalse(e))return!0;e=e.parentNode}return!1},v=function(e,n,o,a,l){var c,d,h,p,m=e.getRoot(),g=e.schema.getNonEmptyElements();if(h=e.getParent(l.parentNode,e.isBlock)||m,a&&i.isBr(l)&&n&&e.isEmpty(h))return t.some(s(l.parentNode,e.nodeIndex(l)));for(c=new r(l,h);p=c[a?"prev":"next"]();){if("false"===e.getContentEditableParent(p)||f(p,m))return t.none();if(i.isText(p)&&p.nodeValue.length>0)return u(p,m,"A")===!1?t.some(s(p,a?p.nodeValue.length:0)):t.none();if(e.isBlock(p)||g[p.nodeName.toLowerCase()])return t.none();d=p}return o&&d?t.some(s(d,0)):t.none()},y=function(e,o,a,l){var c,u,f,y,b,_,w,x=e.getRoot(),k=!1;if(c=l[(a?"start":"end")+"Container"],u=l[(a?"start":"end")+"Offset"],w=i.isElement(c)&&u===c.childNodes.length,b=e.schema.getNonEmptyElements(),_=a,n.isCaretContainer(c))return t.none();if(i.isElement(c)&&u>c.childNodes.length-1&&(_=!1),i.isDocument(c)&&(c=x,u=0),c===x){if(_&&(y=c.childNodes[u>0?u-1:0])){if(n.isCaretContainer(y))return t.none();if(b[y.nodeName]||d(y))return t.none()}if(c.hasChildNodes()){if(u=Math.min(!_&&u>0?u-1:u,c.childNodes.length-1),c=c.childNodes[u],u=i.isText(c)&&w?c.data.length:0,!o&&c===x.lastChild&&d(c))return t.none();if(g(x,c)||n.isCaretContainer(c))return t.none();if(c.hasChildNodes()&&d(c)===!1){y=c,f=new r(c,x);do{if(i.isContentEditableFalse(y)||n.isCaretContainer(y)){k=!1;break}if(i.isText(y)&&y.nodeValue.length>0){u=_?0:y.nodeValue.length,c=y,k=!0;break}if(b[y.nodeName.toLowerCase()]&&!h(y)){u=e.nodeIndex(y),c=y.parentNode,"IMG"!==y.nodeName&&"PRE"!==y.nodeName||_||u++,k=!0;break}}while(y=_?f.next():f.prev())}}}return o&&(i.isText(c)&&0===u&&v(e,w,o,!0,c).each(function(t){c=t.container(),u=t.offset(),k=!0}),i.isElement(c)&&(y=c.childNodes[u],y||(y=c.childNodes[u-1]),!y||!i.isBr(y)||m(y,"A")||p(e,y,!1)||p(e,y,!0)||v(e,w,o,!0,y).each(function(t){c=t.container(),u=t.offset(),k=!0}))),_&&!o&&i.isText(c)&&u===c.nodeValue.length&&v(e,w,o,!1,c).each(function(t){c=t.container(),u=t.offset(),k=!0}),k?t.some(s(c,u)):t.none()},b=function(e,n){var i=n.collapsed,r=n.cloneRange();return y(e,i,!0,r).each(function(t){r.setStart(t.container(),t.offset())}),i||y(e,i,!1,r).each(function(t){r.setEnd(t.container(),t.offset())}),i&&r.collapse(!0),a.isEq(n,r)?t.none():t.some(r)};return{normalize:b}}),a("tinymce.core.newline.InsertBr",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Insert","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils","tinymce.core.selection.NormalizeRange"],function(t,e,n,i,r,o,a,s,l,c){var u=function(t,e,n){for(var i,r=new a(e,n),o=t.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||i.length>0)return!0},d=function(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)},h=function(t,e,n,i){var r=t.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.setRng(r)},f=function(t,e){var n,i,r=t.selection,o=t.dom,a=r.getRng(!0);c.normalize(o,a).each(function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)});var s=a.startOffset,l=a.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var f=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=f&&3===l.nodeType?l.nodeValue.length:0}var p=o.getParent(l,o.isBlock),m=p?o.getParent(p.parentNode,o.isBlock):null,g=m?m.nodeName.toUpperCase():"",v=e&&e.ctrlKey;"LI"!==g||v||(p=m),l&&3===l.nodeType&&s>=l.nodeValue.length&&(u(t.schema,l,p)||(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),i=!0)),n=o.create("br"),a.insertNode(n),d(o,r,n),h(o,r,n,i),t.undoManager.add()},p=function(t,i){var r=n.fromTag("br");e.before(n.fromDom(i),r),t.undoManager.add()},m=function(t,i){v(t.getBody(),i)||e.after(n.fromDom(i),n.fromTag("br"));var r=n.fromTag("br");e.after(n.fromDom(i),r),d(t.dom,t.selection,r.dom()),h(t.dom,t.selection,r.dom(),!1),t.undoManager.add()},g=function(t){return o.isBr(t.getNode())},v=function(t,e){return!!g(r.after(e))||i.nextPosition(t,r.after(e)).map(function(t){return o.isBr(t.getNode())}).getOr(!1)},y=function(t){return t&&"A"===t.nodeName&&"href"in t},b=function(e){return e.fold(t.constant(!1),y,y,t.constant(!1))},_=function(e){var n=t.curry(l.isInlineTarget,e),i=r.fromRangeStart(e.selection.getRng());return s.readLocation(n,e.getBody(),i).filter(b)},w=function(e,n){n.fold(t.noop,t.curry(p,e),t.curry(m,e),t.noop)},x=function(e,n){var i=_(e);i.isSome()?i.each(t.curry(w,e)):f(e,n)};return{insert:x}}),a("ephox.sugar.api.selection.Situ",["ephox.katamari.api.Adt","ephox.katamari.api.Fun"],function(t,e){var n=t.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),i=function(t,e,n,i){return t.fold(e,n,i)},r=function(t){return t.fold(e.identity,e.identity,e.identity)};return{before:n.before,on:n.on,after:n.after,cata:i,getStart:r}}),a("ephox.sugar.api.selection.Selection",["ephox.katamari.api.Adt","ephox.katamari.api.Struct","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Situ"],function(t,e,n,i,r){var o=t.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),a=e.immutable("start","soffset","finish","foffset"),s=function(t){return o.exact(t.start(),t.soffset(),t.finish(),t.foffset())},l=function(t){return t.match({domRange:function(t){return n.fromDom(t.startContainer)},relative:function(t){return r.getStart(t)},exact:function(t){return t}})},c=function(t){var e=l(t);return i.defaultView(e)};return{domRange:o.domRange,relative:o.relative,exact:o.exact,exactFromRange:s,range:a,getWin:c}}),a("tinymce.core.selection.SelectionBookmark",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sand.api.PlatformDetection","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.node.Text","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Selection","global!document"],function(t,e,n,i,r,o,a,s,l,c){var u=n.detect().browser,d=function(t,e){var n=o.isText(e)?a.get(e).length:s.children(e).length+1;return t>n?n:t<0?0:t},h=function(t){return l.range(t.start(),d(t.soffset(),t.start()),t.finish(),d(t.foffset(),t.finish()))},f=function(t,e){return i.contains(t,e)||i.eq(t,e)},p=function(t){return function(e){return f(t,e.start())&&f(t,e.finish())}},m=function(t){return t.inline===!0||u.isIE()},g=function(t){return l.range(r.fromDom(t.startContainer),t.startOffset,r.fromDom(t.endContainer),t.endOffset)},v=function(t){var n=t.getSelection(),i=n&&0!==n.rangeCount?e.from(n.getRangeAt(0)):e.none();return i.map(g)},y=function(t){var e=s.defaultView(t);return v(e.dom()).filter(p(t))},b=function(t,n){return e.from(n).filter(p(t)).map(h)},_=function(t){var n=c.createRange();return n.setStart(t.start().dom(),t.soffset()),n.setEnd(t.finish().dom(),t.foffset()),e.some(n)},w=function(t){var n=m(t)?y(r.fromDom(t.getBody())):e.none();t.bookmark=n.isSome()?n:t.bookmark},x=function(t,n){var i=r.fromDom(t.getBody()),o=m(t)?e.from(n):e.none(),a=o.map(g).filter(p(i));t.bookmark=a.isSome()?a:t.bookmark},k=function(n){var i=n.bookmark?n.bookmark:e.none();return i.bind(t.curry(b,r.fromDom(n.getBody()))).bind(_)},C=function(t){k(t).each(function(e){t.selection.setRng(e)})};return{store:w,storeNative:x,readRange:v,restore:C,getRng:k,getBookmark:y,validate:b}}),a("tinymce.core.EditorCommands",["tinymce.core.Env","tinymce.core.InsertContent","tinymce.core.delete.DeleteCommands","tinymce.core.dom.NodeType","tinymce.core.newline.InsertBr","tinymce.core.selection.SelectionBookmark","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a){var s=a.each,l=a.extend,c=a.map,u=a.inArray,d=a.explode,h=!0,f=!1;return function(a){var p,m,g,v,y={state:{},exec:{},value:{}},b=a.settings;a.on("PreInit",function(){p=a.dom,m=a.selection,b=a.settings,g=a.formatter});var _=function(t,e,n,i){var r,l,c=0;if(!a.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||i&&i.skip_focus?o.restore(a):a.focus(),i=a.fire("BeforeExecCommand",{command:t,ui:e,value:n}),i.isDefaultPrevented())return!1;if(l=t.toLowerCase(),r=y.exec[l])return r(l,e,n),a.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(s(a.plugins,function(i){if(i.execCommand&&i.execCommand(t,e,n))return a.fire("ExecCommand",{command:t,ui:e,value:n}),c=!0,!1}),c)return c;if(a.theme&&a.theme.execCommand&&a.theme.execCommand(t,e,n))return a.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{c=a.getDoc().execCommand(t,e,n)}catch(t){}return!!c&&(a.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},w=function(t){var e;if(!a.quirks.isHidden()&&!a.removed){if(t=t.toLowerCase(),e=y.state[t])return e(t);try{return a.getDoc().queryCommandState(t)}catch(t){}return!1}},x=function(t){var e;if(!a.quirks.isHidden()&&!a.removed){if(t=t.toLowerCase(),e=y.value[t])return e(t);try{return a.getDoc().queryCommandValue(t)}catch(t){}}},k=function(t,e){e=e||"exec",s(t,function(t,n){s(n.toLowerCase().split(","),function(n){y[e][n]=t})})},C=function(t,e,n){t=t.toLowerCase(),y.exec[t]=function(t,i,r,o){return e.call(n||a,i,r,o)}},T=function(t){if(t=t.toLowerCase(),y.exec[t])return!0;try{return a.getDoc().queryCommandSupported(t)}catch(t){}return!1},S=function(t,e,n){t=t.toLowerCase(),y.state[t]=function(){return e.call(n||a)}},E=function(t,e,n){t=t.toLowerCase(),y.value[t]=function(){return e.call(n||a)}},O=function(t){return t=t.toLowerCase(),!!y.exec[t]};l(this,{execCommand:_,queryCommandState:w,queryCommandValue:x,queryCommandSupported:T,addCommands:k,addCommand:C,addQueryStateHandler:S,addQueryValueHandler:E,hasCustomCommand:O});var A=function(t,e,n){return void 0===e&&(e=f),void 0===n&&(n=null),a.getDoc().execCommand(t,e,n)},M=function(t){return g.match(t)},P=function(t,e){g.toggle(t,e?{value:e}:void 0),a.nodeChanged()},D=function(t){v=m.getBookmark(t)},j=function(){m.moveToBookmark(v)};k({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(e){var n,i=a.getDoc();try{A(e)}catch(t){n=h}if("paste"!==e||i.queryCommandEnabled(e)||(n=!0),n||!i.queryCommandSupported(e)){var r=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");t.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),a.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(m.isCollapsed()){var t=a.dom.getParent(a.selection.getStart(),"a");return void(t&&a.dom.remove(t,!0))}g.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"==e&&(e="justify"),s("left,center,right,justify".split(","),function(t){e!=t&&g.remove("align"+t)}),"none"!=e&&P("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var e,n;A(t),e=p.getParent(m.getNode(),"ol,ul"),e&&(n=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(D(),p.split(n,e),j()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){P(t)},"ForeColor,HiliteColor,FontName":function(t,e,n){P(t,n)},FontSize:function(t,e,n){var i,r;n>=1&&n<=7&&(r=d(b.font_size_style_values),i=d(b.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),P(t,n)},RemoveFormat:function(t){g.remove(t)},mceBlockQuote:function(){P("blockquote")},FormatBlock:function(t,e,n){return P(n||"p")},mceCleanup:function(){var t=m.getBookmark();a.setContent(a.getContent({cleanup:h}),{cleanup:h}),m.moveToBookmark(t)},mceRemoveNode:function(t,e,n){var i=n||m.getNode();i!=a.getBody()&&(D(),a.dom.remove(i,h),j())},mceSelectNodeDepth:function(t,e,n){var i=0;p.getParent(m.getNode(),function(t){if(1==t.nodeType&&i++==n)return m.select(t),f},a.getBody())},mceSelectNode:function(t,e,n){m.select(n)},mceInsertContent:function(t,n,i){e.insertAtCaret(a,i)},mceInsertRawHTML:function(t,e,n){m.setContent("tiny_mce_marker"),a.setContent(a.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(t,e,n){P(n)},mceSetContent:function(t,e,n){a.setContent(n)},"Indent,Outdent":function(t){var e,n,i;e=b.indentation,n=/[a-z%]+$/i.exec(e),e=parseInt(e,10),w("InsertUnorderedList")||w("InsertOrderedList")?A(t):(b.forced_root_block||p.getParent(m.getNode(),p.isBlock)||g.apply("div"),s(m.getSelectedBlocks(),function(r){if("false"!==p.getContentEditable(r)&&"LI"!==r.nodeName){var o=a.getParam("indent_use_margin",!1)?"margin":"padding";o="TABLE"===r.nodeName?"margin":o,o+="rtl"==p.getStyle(r,"direction",!0)?"Right":"Left","outdent"==t?(i=Math.max(0,parseInt(r.style[o]||0,10)-e),p.setStyle(r,o,i?i+n:"")):(i=parseInt(r.style[o]||0,10)+e+n,p.setStyle(r,o,i))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(t,e,n){a.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,m.getContent({format:"text"})))},mceInsertLink:function(t,e,n){var i;"string"==typeof n&&(n={href:n}),i=p.getParent(m.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||g.remove("link"),n.href&&g.apply("link",n,i)},selectAll:function(){var t=p.getParent(m.getStart(),i.isContentEditableTrue);if(t){var e=p.createRng();e.selectNodeContents(t),m.setRng(e)}},"delete":function(){n.deleteCommand(a)},forwardDelete:function(){n.forwardDeleteCommand(a)},mceNewDocument:function(){a.setContent("")},InsertLineBreak:function(t,e,n){return r.insert(a,n),!0}}),k({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var e="align"+t.substring(7),n=m.isCollapsed()?[p.getParent(m.getNode(),p.isBlock)]:m.getSelectedBlocks(),i=c(n,function(t){return!!g.matchNode(t,e)});return u(i,h)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return M(t)},mceBlockQuote:function(){return M("blockquote")},Outdent:function(){var t;if(b.inline_styles){if((t=p.getParent(m.getStart(),p.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return h;if((t=p.getParent(m.getEnd(),p.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return h}return w("InsertUnorderedList")||w("InsertOrderedList")||!b.inline_styles&&!!p.getParent(m.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var e=p.getParent(m.getNode(),"ul,ol");return e&&("insertunorderedlist"===t&&"UL"===e.tagName||"insertorderedlist"===t&&"OL"===e.tagName)}},"state"),k({"FontSize,FontName":function(t){var e,n=0;return(e=p.getParent(m.getNode(),"span"))&&(n="fontsize"==t?e.style.fontSize:e.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),k({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}})}}),a("tinymce.core.util.EventDispatcher",["tinymce.core.util.Tools"],function(t){var e=t.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),n=function(e){var n,i,r=this,o={},a=function(){return!1},s=function(){return!0};e=e||{},n=e.scope||r,i=e.toggleEvent||a;var l=function(t,i){var r,l,c,d;if(t=t.toLowerCase(),i=i||{},i.type=t,i.target||(i.target=n),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=s},i.stopPropagation=function(){i.isPropagationStopped=s},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=s},i.isDefaultPrevented=a,i.isPropagationStopped=a,i.isImmediatePropagationStopped=a),e.beforeFire&&e.beforeFire(i),r=o[t])for(l=0,c=r.length;l<c;l++){if(d=r[l],d.once&&u(t,d.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(d.func.call(n,i)===!1)return i.preventDefault(),i}return i},c=function(e,n,s,l){var c,u,d;if(n===!1&&(n=a),n)for(n={func:n},l&&t.extend(n,l),u=e.toLowerCase().split(" "),d=u.length;d--;)e=u[d],c=o[e],c||(c=o[e]=[],i(e,!0)),s?c.unshift(n):c.push(n);return r},u=function(t,e){var n,a,s,l,c;if(t)for(l=t.toLowerCase().split(" "),n=l.length;n--;){if(t=l[n],a=o[t],!t){for(s in o)i(s,!1),delete o[s];return r}if(a){if(e)for(c=a.length;c--;)a[c].func===e&&(a=a.slice(0,c).concat(a.slice(c+1)),o[t]=a);else a.length=0;a.length||(i(t,!1),delete o[t])}}else{for(t in o)i(t,!1);o={}}return r},d=function(t,e,n){return c(t,e,n,{once:!0})},h=function(t){return t=t.toLowerCase(),!(!o[t]||0===o[t].length)};r.fire=l,r.on=c,r.off=u,r.once=d,r.has=h};return n.isNative=function(t){return!!e[t.toLowerCase()]},n}),a("tinymce.core.util.Observable",["tinymce.core.util.EventDispatcher"],function(t){var e=function(e){return e._eventDispatcher||(e._eventDispatcher=new t({scope:e,toggleEvent:function(n,i){t.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,i)}})),e._eventDispatcher};return{fire:function(t,n,i){var r=this;if(r.removed&&"remove"!==t)return n;if(n=e(r).fire(t,n,i),i!==!1&&r.parent)for(var o=r.parent();o&&!n.isPropagationStopped();)o.fire(t,n,!1),o=o.parent();return n},on:function(t,n,i){return e(this).on(t,n,i)},off:function(t,n){return e(this).off(t,n)},once:function(t,n){return e(this).once(t,n)},hasEventListeners:function(t){return e(this).has(t)}}}),a("tinymce.core.EditorObservable",["tinymce.core.util.Observable","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(t,e,n){var i,r=e.DOM,o=function(t,e){return"selectionchange"==e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=r.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},a=function(t,e){var n,a,s=function(t){return!t.hidden&&!t.readonly};if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=o(t,e),t.settings.event_root){if(i||(i={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&i){for(e in i)t.dom.unbind(o(t,e));i=null}})),i[e])return;a=function(n){for(var i=n.target,o=t.editorManager.get(),a=o.length;a--;){var l=o[a].getBody();(l===i||r.isChildOf(i,l))&&s(o[a])&&o[a].fire(e,n)}},i[e]=a,r.bind(n,e,a)}else a=function(n){s(t)&&t.fire(e,n)},r.bind(n,e,a),t.delegates[e]=a},s={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){a(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!=t&&"blur"!=t&&(e?n.initialized?a(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(o(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this;if(e.delegates){for(t in e.delegates)e.dom.unbind(o(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return s=n.extend({},t,s)}),a("tinymce.core.Mode",[],function(){var t=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},e=function(t){var e,n;return e=t.getBody(),n=function(e){t.dom.getParents(e.target,"a").length>0&&e.preventDefault()},t.dom.bind(e,"click",n),{unbind:function(){t.dom.unbind(e,"click",n)}}},n=function(n,i){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),i?(n._clickBlocker=e(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,t(n,"StyleWithCSS",!1),t(n,"enableInlineTableEditing",!1),t(n,"enableObjectResizing",!1),n.focus(),n.nodeChanged())},i=function(t,e){var i=t.readonly?"readonly":"design";e!=i&&(t.initialized?n(t,"readonly"==e):t.on("init",function(){n(t,"readonly"==e)}),t.fire("SwitchMode",{mode:e}))};return{setMode:i}}),a("tinymce.core.Shortcuts",["tinymce.core.util.Tools","tinymce.core.Env"],function(t,e){var n=t.each,i=t.explode,r={f9:120,f10:121,f11:122},o=t.makeMap("alt,ctrl,shift,meta,access");return function(a){var s=this,l={},c=[],u=function(t){var a,s,l={};n(i(t,"+"),function(t){t in o?l[t]=!0:/^[0-9]{2,}$/.test(t)?l.keyCode=parseInt(t,10):(l.charCode=t.charCodeAt(0),l.keyCode=r[t]||t.toUpperCase().charCodeAt(0))}),a=[l.keyCode];for(s in o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,e.mac?l.ctrl=!0:l.shift=!0),l.meta&&(e.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l},d=function(e,n,r,o){var s;return s=t.map(i(e,">"),u),s[s.length-1]=t.extend(s[s.length-1],{func:r,scope:o||a}),t.extend(s[0],{desc:a.translate(n),subpatterns:s.slice(1)})},h=function(t){return t.altKey||t.ctrlKey||t.metaKey},f=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},p=function(t,e){return!!e&&(e.ctrl==t.ctrlKey&&e.meta==t.metaKey&&(e.alt==t.altKey&&e.shift==t.shiftKey&&(!!(t.keyCode==e.keyCode||t.charCode&&t.charCode==e.charCode)&&(t.preventDefault(),!0))))},m=function(t){return t.func?t.func.call(t.scope):null};a.on("keyup keypress keydown",function(t){!h(t)&&!f(t)||t.isDefaultPrevented()||(n(l,function(e){if(p(t,e))return c=e.subpatterns.slice(0),"keydown"==t.type&&m(e),!0}),p(t,c[0])&&(1===c.length&&"keydown"==t.type&&m(c[0]),c.shift()))}),s.add=function(e,r,o,s){var c;return c=o,"string"==typeof o?o=function(){a.execCommand(c,!1,null)}:t.isArray(c)&&(o=function(){a.execCommand(c[0],c[1],c[2])}),n(i(t.trim(e.toLowerCase())),function(t){var e=d(t,r,o,s);l[e.id]=e}),!0},s.remove=function(t){var e=d(t);return!!l[e.id]&&(delete l[e.id],!0)}}}),a("tinymce.core.html.SaxParser",["tinymce.core.html.Schema","tinymce.core.html.Entities","tinymce.core.util.Tools"],function(t,e,n){var i=n.each,r=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},o=function(t){return t.replace(/<!--|-->/g,"")},a=function(t,e,n){var i,r,o,a,s=1;for(a=t.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i},s=function(s,l){var c=this,u=function(){};s=s||{},c.schema=l=l||new t,s.fix_self_closing!==!1&&(s.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),function(t){t&&(c[t]=s[t]||u)}),c.parse=function(t){var i,c,u,d,h,f,p,m,g,v,y,b,_,w,x,k,C,T,S,E,O,A,M,P,D,j,N,L,I,R,B=this,F=0,$=[],z=0,U=e.decode,H=n.makeMap("src,href,data,background,formaction,poster"),W=/((java|vb)script|mhtml):/i,Y=/^data:/i,V=function(t){var e,n;for(e=$.length;e--&&$[e].name!==t;);if(e>=0){for(n=$.length-1;n>=e;n--)t=$[n],t.valid&&B.end(t.name);$.length=e}},G=function(t,e,n,i,o){var a,l,c=/[\s\u0000-\u001F]+/g;if(e=e.toLowerCase(),n=e in y?e:U(n||i||o||""),_&&!m&&r(e)===!1){if(a=T[e],!a&&S){for(l=S.length;l--&&(a=S[l],!a.pattern.test(e)););l===-1&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(H[e]&&!s.allow_script_urls){var u=n.replace(c,"");try{u=decodeURIComponent(u)}catch(t){u=unescape(u)}if(W.test(u))return;if(!s.allow_html_data_urls&&Y.test(u)&&!/^data:image\//i.test(u))return}m&&(e in H||0===e.indexOf("on"))||(d.map[e]=n,
d.push({name:e,value:n}))};for(j=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=l.getShortEndedElements(),D=s.self_closing_elements||l.getSelfClosingElements(),y=l.getBoolAttrs(),_=s.validate,g=s.remove_internals,R=s.fix_self_closing,L=l.getSpecialElements(),M=t+">";i=j.exec(M);){if(F<i.index&&B.text(U(t.substr(F,i.index-F))),c=i[6])c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),V(c);else if(c=i[7]){if(i.index+i[0].length>t.length){B.text(U(t.substr(i.index))),F=i.index+i[0].length;continue}if(c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),b=c in v,R&&D[c]&&$.length>0&&$[$.length-1].name===c&&V(c),!_||(w=l.getElementRule(c))){if(x=!0,_&&(T=w.attributes,S=w.attributePatterns),(C=i[8])?(m=C.indexOf("data-mce-type")!==-1,m&&g&&(x=!1),d=[],d.map={},C.replace(N,G)):(d=[],d.map={}),_&&!m){if(E=w.attributesRequired,O=w.attributesDefault,A=w.attributesForced,P=w.removeEmptyAttrs,P&&!d.length&&(x=!1),A)for(h=A.length;h--;)k=A[h],p=k.name,I=k.value,"{$uid}"===I&&(I="mce_"+z++),d.map[p]=I,d.push({name:p,value:I});if(O)for(h=O.length;h--;)k=O[h],p=k.name,p in d.map||(I=k.value,"{$uid}"===I&&(I="mce_"+z++),d.map[p]=I,d.push({name:p,value:I}));if(E){for(h=E.length;h--&&!(E[h]in d.map););h===-1&&(x=!1)}if(k=d.map["data-mce-bogus"]){if("all"===k){F=a(l,t,j.lastIndex),j.lastIndex=F;continue}x=!1}}x&&B.start(c,d,b)}else x=!1;if(u=L[c]){u.lastIndex=F=i.index+i[0].length,(i=u.exec(t))?(x&&(f=t.substr(F,i.index-F)),F=i.index+i[0].length):(f=t.substr(F),F=t.length),x&&(f.length>0&&B.text(f,!0),B.end(c)),j.lastIndex=F;continue}b||(C&&C.indexOf("/")==C.length-1?x&&B.end(c):$.push({name:c,valid:x}))}else(c=i[1])?(">"===c.charAt(0)&&(c=" "+c),s.allow_conditional_comments||"[if"!==c.substr(0,3).toLowerCase()||(c=" "+c),B.comment(c)):(c=i[2])?B.cdata(o(c)):(c=i[3])?B.doctype(c):(c=i[4])&&B.pi(c,i[5]);F=i.index+i[0].length}for(F<t.length&&B.text(U(t.substr(F))),h=$.length-1;h>=0;h--)c=$[h],c.valid&&B.end(c.name)}};return s.findEndTag=a,s}),a("tinymce.core.dom.TrimHtml",["tinymce.core.html.SaxParser","tinymce.core.text.Zwsp"],function(t,e){var n=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")},i=function(e,i){var r,o,a,s,l,c=i,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,d=e.schema;for(c=n(e.getTempAttrs(),c),l=d.getShortEndedElements();s=u.exec(c);)o=u.lastIndex,a=s[0].length,r=l[s[1]]?o:t.findEndTag(d,c,o),c=c.substring(0,o-a)+c.substring(r),u.lastIndex=o-a;return c},r=function(t,n){return e.trim(i(t,n))};return{trimExternal:r,trimInternal:i}}),a("ephox.sugar.api.search.PredicateExists",["ephox.sugar.api.search.PredicateFind"],function(t){var e=function(e){return t.first(e).isSome()},n=function(e,n,i){return t.ancestor(e,n,i).isSome()},i=function(e,n,i){return t.closest(e,n,i).isSome()},r=function(e,n){return t.sibling(e,n).isSome()},o=function(e,n){return t.child(e,n).isSome()},a=function(e,n){return t.descendant(e,n).isSome()};return{any:e,ancestor:n,closest:i,sibling:r,child:o,descendant:a}}),a("ephox.sugar.api.dom.Focus",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.PredicateExists","ephox.sugar.api.search.Traverse","global!document"],function(t,e,n,i,r,o,a){var s=function(t){t.dom().focus()},l=function(t){t.dom().blur()},c=function(t){var e=o.owner(t).dom();return t.dom()===e.activeElement},u=function(t){var n=void 0!==t?t.dom():a;return e.from(n.activeElement).map(i.fromDom)},d=function(e){var i=o.owner(e),a=u(i).filter(function(i){return r.closest(i,t.curry(n.eq,e))});a.fold(function(){s(e)},t.noop)},h=function(t){return u(o.owner(t)).filter(function(e){return t.dom().contains(e.dom())})};return{hasFocus:c,focus:s,blur:l,active:u,search:h,focusInside:d}}),a("tinymce.core.focus.EditorFocus",["ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Focus","ephox.sugar.api.node.Element","tinymce.core.Env","tinymce.core.caret.CaretFinder","tinymce.core.dom.ElementType","tinymce.core.selection.RangeNodes","tinymce.core.selection.SelectionBookmark"],function(t,e,n,i,r,o,a,s,l){var c=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})},u=function(e){return e.collapsed?t.from(s.getNode(e.startContainer,e.startOffset)).map(i.fromDom):t.none()},d=function(n,i){return u(i).bind(function(i){return a.isTableSection(i)?t.some(i):e.contains(n,i)===!1?t.some(n):t.none()})},h=function(t,e){d(i.fromDom(t.getBody()),e).bind(function(t){return o.firstPositionIn(t.dom())}).fold(function(){t.selection.normalize()},function(e){t.selection.setRng(e.toRange())})},f=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},p=function(t){return n.hasFocus(t)||n.search(t).isSome()},m=function(t){return t.iframeElement&&n.hasFocus(i.fromDom(t.iframeElement))},g=function(t){var e=t.getBody();return e&&p(i.fromDom(e))},v=function(t){return t.inline?g(t):m(t)},y=function(t){var e,n=t.selection,i=t.settings.content_editable,o=t.getBody(),a=n.getRng();return t.quirks.refreshContentEditable(),e=c(t,n.getNode()),t.$.contains(o,e)?(f(e),h(t,a),void b(t)):(void 0!==t.bookmark&&v(t)===!1&&l.getRng(t).each(function(e){t.selection.setRng(e),a=e}),i||(r.opera||f(o),t.getWin().focus()),(r.gecko||i)&&(f(o),h(t,a)),void b(t))},b=function(t){t.editorManager.setActive(t)},_=function(t,e){t.removed||(e?b(t):y(t))};return{focus:_,hasFocus:v}}),a("tinymce.core.EditorView",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Css","ephox.sugar.api.search.Traverse"],function(t,e,n,i,r,o){var a=function(t,e){var n=e.dom();return n[t]},s=function(t,e){return parseInt(r.get(e,t),10)},l=t.curry(a,"clientWidth"),c=t.curry(a,"clientHeight"),u=t.curry(s,"margin-top"),d=t.curry(s,"margin-left"),h=function(t){return t.dom().getBoundingClientRect()},f=function(t,e,n){var i=l(t),r=c(t);return e>=0&&n>=0&&e<=i&&n<=r},p=function(t,e,n,i){var r=h(e),o=t?r.left+e.dom().clientLeft+d(e):0,a=t?r.top+e.dom().clientTop+u(e):0,s=n-o,l=i-a;return{x:s,y:l}},m=function(t,e,n){var r=i.fromDom(t.getBody()),a=t.inline?r:o.documentElement(r),s=p(t.inline,a,e,n);return f(a,s.x,s.y)},g=function(t){return e.from(t).map(i.fromDom)},v=function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return g(e).map(function(t){return n.contains(o.owner(t),t)}).getOr(!1)};return{isXYInContentArea:m,isEditorAttachedToDom:v}}),a("tinymce.core.ui.NotificationManagerImpl",[],function(){return function(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}}}),a("tinymce.core.api.NotificationManager",["ephox.katamari.api.Arr","ephox.katamari.api.Option","tinymce.core.EditorView","tinymce.core.ui.NotificationManagerImpl","tinymce.core.util.Delay"],function(t,e,n,i,r){return function(o){var a=[],s=function(){var t=o.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():i()},l=function(){return e.from(a[0])},c=function(t,e){return!(t.type!==e.type||t.text!==e.text||t.progressBar||t.timeout||e.progressBar||e.timeout)},u=function(){a.length>0&&s().reposition(a)},d=function(t){a.push(t)},h=function(e){t.findIndex(a,function(t){return t===e}).each(function(t){a.splice(t,1)})},f=function(e){if(!o.removed&&n.isEditorAttachedToDom(o))return t.find(a,function(t){return c(s().getArgs(t),e)}).getOrThunk(function(){o.editorManager.setActive(o);var t=s().open(e,function(){h(t),u()});return d(t),u(),t})},p=function(){l().each(function(t){s().close(t),h(t),u()})},m=function(){return a},g=function(e){e.on("SkinLoaded",function(){var t=e.settings.service_message;t&&f({text:t,type:"warning",timeout:0,icon:""})}),e.on("ResizeEditor ResizeWindow",function(){r.requestAnimationFrame(u)}),e.on("remove",function(){t.each(a,function(t){s().close(t)})})};return g(o),{open:f,close:p,getNotifications:m}}}),a("tinymce.core.ui.WindowManagerImpl",[],function(){return function(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}}),a("tinymce.core.api.WindowManager",["ephox.katamari.api.Arr","ephox.katamari.api.Option","tinymce.core.selection.SelectionBookmark","tinymce.core.ui.WindowManagerImpl"],function(t,e,n,i){return function(r){var o=[],a=function(){var t=r.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():i()},s=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},l=function(t){r.fire("OpenWindow",{win:t})},c=function(t){r.fire("CloseWindow",{win:t})},u=function(t){o.push(t),l(t)},d=function(e){t.findIndex(o,function(t){return t===e}).each(function(t){o.splice(t,1),c(e),0===o.length&&r.focus()})},h=function(){return e.from(o[o.length-1])},f=function(t,e){r.editorManager.setActive(r),n.store(r);var i=a().open(t,e,d);return u(i),i},p=function(t,e,n){var i=a().alert(t,s(n?n:this,e),d);u(i)},m=function(t,e,n){var i=a().confirm(t,s(n?n:this,e),d);u(i)},g=function(){h().each(function(t){a().close(t),d(t)})},v=function(){return h().map(a().getParams).getOr(null)},y=function(t){h().each(function(e){a().setParams(e,t)})},b=function(){return o};return r.on("remove",function(){t.each(o.slice(0),function(t){a().close(t)})}),{windows:o,open:f,alert:p,confirm:m,close:g,getParams:v,setParams:y,getWindows:b}}}),a("tinymce.core.ErrorReporter",["global!window","tinymce.core.AddOnManager"],function(t,e){var n=e.PluginManager,i=function(t,e){for(var i in n.urls){var r=n.urls[i]+"/plugin"+e+".js";if(r===t)return i}return null},r=function(t,e){var n=i(e,t.suffix);return n?"Failed to load plugin: "+n+" from url "+e:"Failed to load plugin url: "+e},o=function(t,e){t.notificationManager.open({type:"error",text:e})},a=function(t,e){t._skinLoaded?o(t,e):t.on("SkinLoaded",function(){o(t,e)})},s=function(t,e){a(t,"Failed to upload image: "+e)},l=function(t,e){a(t,r(t,e))},c=function(){var e=t.console;e&&!t.test&&(e.error?e.error.apply(e,arguments):e.log.apply(e,arguments))};return{pluginLoadError:l,uploadError:s,displayError:a,initError:c}}),a("tinymce.core.PluginManager",["tinymce.core.AddOnManager"],function(t){return t.PluginManager}),a("tinymce.core.ThemeManager",["tinymce.core.AddOnManager"],function(t){return t.ThemeManager}),a("ephox.sand.api.XMLHttpRequest",["ephox.sand.util.Global"],function(t){return function(){var e=t.getOrDie("XMLHttpRequest");return new e}}),a("tinymce.core.file.Uploader",["ephox.sand.api.XMLHttpRequest","global!window","tinymce.core.util.Fun","tinymce.core.util.Promise","tinymce.core.util.Tools"],function(t,e,n,i,r){return function(n,o){var a={},s=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e},l=function(n,i,r,a){var l,c;l=new t,l.open("POST",o.url),l.withCredentials=o.credentials,l.upload.onprogress=function(t){a(t.loaded/t.total*100)},l.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+l.status)},l.onload=function(){var t;return l.status<200||l.status>=300?void r("HTTP Error: "+l.status):(t=JSON.parse(l.responseText),t&&"string"==typeof t.location?void i(s(o.basePath,t.location)):void r("Invalid JSON: "+l.responseText))},c=new e.FormData,c.append("file",n.blob(),n.filename()),l.send(c)},c=function(){return new i(function(t){t([])})},u=function(t,e){return{url:e,blobInfo:t,status:!0}},d=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},h=function(t,e){r.each(a[t],function(t){t(e)}),delete a[t]},f=function(t,e,r){return n.markPending(t.blobUri()),new i(function(i){var o,a,s=function(){};try{var l=function(){o&&(o.close(),a=s)},c=function(e){l(),n.markUploaded(t.blobUri(),e),h(t.blobUri(),u(t,e)),i(u(t,e))},f=function(e){l(),n.removeFailed(t.blobUri()),h(t.blobUri(),d(t,e)),i(d(t,e))};a=function(t){t<0||t>100||(o||(o=r()),o.progressBar.value(t))},e(t,c,f,a)}catch(e){i(d(t,e.message))}})},p=function(t){return t===l},m=function(t){var e=t.blobUri();return new i(function(t){a[e]=a[e]||[],a[e].push(t)})},g=function(t,e){return t=r.grep(t,function(t){return!n.isUploaded(t.blobUri())}),i.all(r.map(t,function(t){return n.isPending(t.blobUri())?m(t):f(t,o.handler,e)}))},v=function(t,e){return!o.url&&p(o.handler)?c():g(t,e)};return o=r.extend({credentials:!1,handler:l},o),{upload:v}}}),a("ephox.sand.api.Blob",["ephox.sand.util.Global"],function(t){return function(e,n){var i=t.getOrDie("Blob");return new i(e,n)}}),a("ephox.sand.api.FileReader",["ephox.sand.util.Global"],function(t){return function(){var e=t.getOrDie("FileReader");return new e}}),a("ephox.sand.api.Uint8Array",["ephox.sand.util.Global"],function(t){return function(e){var n=t.getOrDie("Uint8Array");return new n(e)}}),a("ephox.sand.api.Window",["ephox.sand.util.Global"],function(t){var e=function(e){var n=t.getOrDie("requestAnimationFrame");n(e)},n=function(e){var n=t.getOrDie("atob");return n(e)};return{atob:n,requestAnimationFrame:e}}),a("tinymce.core.file.Conversions",["ephox.sand.api.Blob","ephox.sand.api.FileReader","ephox.sand.api.Uint8Array","ephox.sand.api.Window","ephox.sand.api.XMLHttpRequest","tinymce.core.util.Promise"],function(t,e,n,i,r,o){var a=function(t){return new o(function(e,n){var i=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new r;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200==this.status?e(this.response):i()},o.onerror=i,o.send()}catch(t){i()}})},s=function(t){var e,n;return t=decodeURIComponent(t).split(","),n=/data:([^;]+)/.exec(t[0]),n&&(e=n[1]),{type:e,data:t[1]}},l=function(e){return new o(function(r){var o,a,l;e=s(e);try{o=i.atob(e.data)}catch(e){return void r(new t([]))}for(a=new n(o.length),l=0;l<a.length;l++)a[l]=o.charCodeAt(l);r(new t([a],{type:e.type}))})},c=function(t){return 0===t.indexOf("blob:")?a(t):0===t.indexOf("data:")?l(t):null},u=function(t){return new o(function(n){var i=new e;i.onloadend=function(){n(i.result)},i.readAsDataURL(t)})};return{uriToBlob:c,blobToDataUri:u,parseDataUri:s}}),a("tinymce.core.file.ImageScanner",["tinymce.core.util.Promise","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.file.Conversions","tinymce.core.Env"],function(t,e,n,i,r){var o=0,a=function(t){return(t||"blobid")+o++},s=function(t,e,n,r){var o,s;return 0===e.src.indexOf("blob:")?(s=t.getByUri(e.src),void(s?n({image:e,blobInfo:s}):i.uriToBlob(e.src).then(function(r){i.blobToDataUri(r).then(function(l){o=i.parseDataUri(l).data,s=t.create(a(),r,o),t.add(s),n({image:e,blobInfo:s})})},function(t){r(t)}))):(o=i.parseDataUri(e.src).data,s=t.findFirst(function(t){return t.base64()===o}),void(s?n({image:e,blobInfo:s}):i.uriToBlob(e.src).then(function(i){s=t.create(a(),i,o),t.add(s),n({image:e,blobInfo:s})},function(t){r(t)})))},l=function(t){return t?t.getElementsByTagName("img"):[]};return function(i,o){var a={},c=function(c,u){var d,h;return u||(u=n.constant(!0)),d=e.filter(l(c),function(t){var e=t.src;return!!r.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!e||e==r.transparentSrc)&&(0===e.indexOf("blob:")?!i.isUploaded(e):0===e.indexOf("data:")&&u(t)))))}),h=e.map(d,function(e){var n;return a[e.src]?new t(function(t){a[e.src].then(function(n){return"string"==typeof n?n:void t({image:e,blobInfo:n.blobInfo})})}):(n=new t(function(t,n){s(o,e,t,n)}).then(function(t){return delete a[t.image.src],t})["catch"](function(t){return delete a[e.src],t}),a[e.src]=n,n)}),t.all(h)};return{findAll:c}}}),a("tinymce.core.util.Uuid",[],function(){var t=0,e=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)},e=(new Date).getTime();return"s"+e.toString(36)+t()+t()+t()},n=function(n){return n+t++ +e()};return{uuid:n}}),a("tinymce.core.file.BlobCache",["ephox.sand.api.URL","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Uuid"],function(t,e,n,i){return function(){var r=[],o=n.constant,a=function(t){var e={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};return e[t.toLowerCase()]||"dat"},s=function(t,e,n,i){return l("object"==typeof t?t:{id:t,name:i,blob:e,base64:n})},l=function(e){var n,r;if(!e.blob||!e.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";return n=e.id||i.uuid("blobid"),r=e.name||n,{id:o(n),name:o(r),filename:o(r+"."+a(e.blob.type)),blob:o(e.blob),base64:o(e.base64),blobUri:o(e.blobUri||t.createObjectURL(e.blob)),uri:o(e.uri)}},c=function(t){u(t.id())||r.push(t)},u=function(t){return d(function(e){return e.id()===t})},d=function(t){return e.filter(r,t)[0]},h=function(t){return d(function(e){return e.blobUri()==t})},f=function(n){r=e.filter(r,function(e){return e.blobUri()!==n||(t.revokeObjectURL(e.blobUri()),!1)})},p=function(){e.each(r,function(e){t.revokeObjectURL(e.blobUri())}),r=[]};return{create:s,add:c,get:u,getByUri:h,findFirst:d,removeByUri:f,destroy:p}}}),a("tinymce.core.file.UploadStatus",[],function(){return function(){var t=1,e=2,n={},i=function(t,e){return{status:t,resultUri:e}},r=function(t){return t in n},o=function(t){var e=n[t];return e?e.resultUri:null},a=function(e){return!!r(e)&&n[e].status===t},s=function(t){return!!r(t)&&n[t].status===e},l=function(e){n[e]=i(t,null)},c=function(t,r){n[t]=i(e,r)},u=function(t){delete n[t]},d=function(){n={}};return{hasBlobUri:r,getResultUri:o,isPending:a,isUploaded:s,markPending:l,markUploaded:c,removeFailed:u,destroy:d}}}),a("tinymce.core.EditorUpload",["tinymce.core.util.Arr","tinymce.core.file.Uploader","tinymce.core.file.ImageScanner","tinymce.core.file.BlobCache","tinymce.core.file.UploadStatus","tinymce.core.ErrorReporter"],function(t,e,n,i,r,o){return function(a){var s,l,c=new i,u=a.settings,d=new r,h=function(t){return function(e){return a.selection?t(e):[]}},f=function(){return"?"+(new Date).getTime()},p=function(t,e,n){var i=0;do i=t.indexOf(e,i),i!==-1&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1);while(i!==-1);return t},m=function(t,e,n){return t=p(t,'src="'+e+'"','src="'+n+'"'),t=p(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},g=function(e,n){t.each(a.undoManager.data,function(i){"fragmented"===i.type?i.fragments=t.map(i.fragments,function(t){return m(t,e,n)}):i.content=m(i.content,e,n)})},v=function(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},y=function(t,e){c.removeByUri(t.src),g(t.src,e),a.$(t).attr({src:u.images_reuse_filename?e+f():e,"data-mce-src":a.convertURL(e,"src")})},b=function(n){return s||(s=new e(d,{url:u.images_upload_url,basePath:u.images_upload_base_path,credentials:u.images_upload_credentials,handler:u.images_upload_handler})),x().then(h(function(e){var i;return i=t.map(e,function(t){return t.blobInfo}),s.upload(i,v).then(h(function(i){var r=t.map(i,function(t,n){var i=e[n].image;return t.status&&a.settings.images_replace_blob_uris!==!1?y(i,t.url):t.error&&o.uploadError(a,t.error),{element:i,status:t.status}});return n&&n(r),r}))}))},_=function(t){if(u.automatic_uploads!==!1)return b(t)},w=function(t){return!u.images_dataimg_filter||u.images_dataimg_filter(t)},x=function(){return l||(l=new n(d,c)),l.findAll(a.getBody(),w).then(h(function(e){return e=t.filter(e,function(t){return"string"!=typeof t||(o.displayError(a,t),!1)}),t.each(e,function(t){g(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),e}))},k=function(){c.destroy(),d.destroy(),l=s=null},C=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var i=d.getResultUri(n);if(i)return'src="'+i+'"';var r=c.getByUri(n);return r||(r=t.reduce(a.editorManager.get(),function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e})};return a.on("setContent",function(){a.settings.automatic_uploads!==!1?_():x()}),a.on("RawSaveContent",function(t){t.content=C(t.content)}),a.on("getContent",function(t){t.source_view||"raw"==t.format||(t.content=C(t.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(e){t.each(e,function(t){var e=t.attr("src");if(!c.getByUri(e)){var n=d.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:c,uploadImages:b,uploadImagesAuto:_,scanForImages:x,destroy:k}}}),a("tinymce.core.ForceBlocks",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Element","tinymce.core.dom.Bookmarks","tinymce.core.dom.NodeType","tinymce.core.dom.Parents","tinymce.core.focus.EditorFocus"],function(t,e,n,i,r,o,a){var s=function(t,e){return t.hasOwnProperty(e.nodeName)},l=function(t,e){return!!r.isText(e)||!!r.isElement(e)&&(!s(t,e)&&!i.isBookmarkNode(e))},c=function(e,i,r){return t.exists(o.parents(n.fromDom(r),n.fromDom(i)),function(t){return s(e,t.dom())})},u=function(t){var e,n,i,o,s,u,d,h,f,p,m,g=t.settings,v=t.dom,y=t.selection,b=t.schema,_=b.getBlockElements(),w=y.getStart(),x=t.getBody();if(m=g.forced_root_block,w&&r.isElement(w)&&m&&(p=x.nodeName.toLowerCase(),b.isValidChild(p,m.toLowerCase())&&!c(_,x,w))){for(e=y.getRng(),n=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,f=a.hasFocus(t),w=x.firstChild;w;)if(l(_,w)){if(r.isText(w)&&0===w.nodeValue.length){d=w,w=w.nextSibling,v.remove(d);continue}u||(u=v.create(m,t.settings.forced_root_block_attrs),w.parentNode.insertBefore(u,w),h=!0),d=w,w=w.nextSibling,u.appendChild(d)}else u=null,w=w.nextSibling;h&&f&&(e.setStart(n,i),e.setEnd(o,s),y.setRng(e),t.nodeChanged())}},d=function(t){t.settings.forced_root_block&&t.on("NodeChange",e.curry(u,t))};return{setup:d}}),a("tinymce.core.NodeChange",["tinymce.core.Env","tinymce.core.selection.RangeCompare","tinymce.core.util.Delay"],function(t,e,n){return function(i){var r,o=[],a=function(t){var e,n;if(n=i.$(t).parentsUntil(i.getBody()).add(t),n.length===o.length){for(e=n.length;e>=0&&n[e]===o[e];e--);if(e===-1)return o=n,!0}return o=n,!1};"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(t){var n,o;n=i.selection.getRng(),o={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.isEq(o,r)||i.fire("SelectionChange"),r=o}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var e=i.selection.getStart(!0);!e||!t.range&&i.selection.isCollapsed()||!a(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(t){t.isDefaultPrevented()||("IMG"==i.selection.getNode().nodeName?n.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(t){var e,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),e=o.getStart(!0)||r,e.ownerDocument==i.getDoc()&&i.dom.isChildOf(e,r)||(e=r),n=[],i.dom.getParent(e,function(t){return t===r||void n.push(t)}),t=t||{},t.element=e,t.parents=n,i.fire("NodeChange",t))}}}),a("tinymce.core.dom.MousePosition",[],function(){var t=function(t){var e,n,i,r;return r=t.getBoundingClientRect(),e=t.ownerDocument,n=e.documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},e=function(e){return e.inline?t(e.getBody()):{left:0,top:0}},n=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},i=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},r={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:r},r=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var r=t(e.getContentAreaContainer()),o=i(e);return{left:n.pageX-r.left+o.left,top:n.pageY-r.top+o.top}}return{left:n.pageX,top:n.pageY}},o=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},a=function(t,i){return o(e(t),n(t),r(t,i))};return{calc:a}}),a("tinymce.core.DragDropOverrides",["global!document","tinymce.core.dom.DOMUtils","tinymce.core.dom.MousePosition","tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Delay","tinymce.core.util.Fun"],function(t,e,n,i,r,o,a){var s=i.isContentEditableFalse,l=i.isContentEditableTrue,c=function(t,e){return s(e)&&e!==t},u=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!s(e)},d=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},h=function(t,e,n,i){var r=e.cloneNode(!0);t.dom.setStyles(r,{width:n,height:i}),t.dom.setAttrib(r,"data-mce-selected",null);var o=t.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o},f=function(t,e){t.parentNode!==e&&e.appendChild(t)},p=function(t,e,n,i,r,o){var a=0,s=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(a=e.pageX+n-r),e.pageY+i>o&&(s=e.pageY+i-o),t.style.width=n-a+"px",t.style.height=i-s+"px"},m=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},g=function(t){return 0===t.button},v=function(t){return t.element},y=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},b=function(t,e){return function(n){if(g(n)){var i=r.find(e.dom.getParents(n.target),a.or(s,l));if(c(e.getBody(),i)){var o=e.dom.getPos(i),u=e.getBody(),d=e.getDoc().documentElement;t.element=i,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?u.scrollWidth:d.offsetWidth)-2,t.maxY=(e.inline?u.scrollHeight:d.offsetHeight)-2,t.relX=n.pageX-o.x,t.relY=n.pageY-o.y,t.width=i.offsetWidth,t.height=i.offsetHeight,t.ghost=h(e,i,t.width,t.height)}}}},_=function(t,e){var i=o.throttle(function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)},0);return function(r){var o=Math.max(Math.abs(r.screenX-t.screenX),Math.abs(r.screenY-t.screenY));if(v(t)&&!t.dragging&&o>10){var a=e.fire("dragstart",{target:t.element});if(a.isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var s=y(t,n.calc(e,r));f(t.ghost,e.getBody()),p(t.ghost,s,t.width,t.height,t.maxX,t.maxY),i(r.clientX,r.clientY)}}},w=function(t){var e=t.getSel().getRangeAt(0),n=e.startContainer;return 3===n.nodeType?n.parentNode:n},x=function(t,e){return function(n){if(t.dragging&&u(e,w(e.selection),t.element)){var i=d(t.element),r=e.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,e.undoManager.transact(function(){m(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()}))}C(t)}},k=function(t,e){return function(){C(t),t.dragging&&e.fire("dragend")}},C=function(t){t.dragging=!1,t.element=null,m(t.ghost)},T=function(n){var i,r,o,a,s,l,c={};i=e.DOM,l=t,r=b(c,n),o=_(c,n),a=x(c,n),s=k(c,n),n.on("mousedown",r),n.on("mousemove",o),n.on("mouseup",a),i.bind(l,"mousemove",o),i.bind(l,"mouseup",s),n.on("remove",function(){i.unbind(l,"mousemove",o),i.unbind(l,"mouseup",s)})},S=function(t){t.on("drop",function(e){var n="undefined"!=typeof e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(s(n)||s(t.dom.getContentEditableParent(n)))&&e.preventDefault()})},E=function(t){T(t),S(t)};return{init:E}}),a("tinymce.core.caret.FakeCaret",["global!clearInterval","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerRemove","tinymce.core.dom.DomQuery","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect","tinymce.core.util.Delay"],function(t,e,n,i,r,o,a){var s=r.isContentEditableFalse,l=function(t){return t&&/^(TD|TH)$/i.test(t.nodeName)};return function(r,c){var u,d,h=null,f=function(t,e){var n,i,a,s,l,c=o.collapse(t.getBoundingClientRect(),e);return"BODY"==r.tagName?(n=r.ownerDocument.documentElement,i=r.scrollLeft||n.scrollLeft,a=r.scrollTop||n.scrollTop):(l=r.getBoundingClientRect(),i=r.scrollLeft-l.left,a=r.scrollTop-l.top),c.left+=i,c.right+=i,c.top+=a,c.bottom+=a,c.width=1,s=t.offsetWidth-t.clientWidth,s>0&&(e&&(s*=-1),c.left+=s,c.right+=s),c},p=function(){var t,n,o,a,s;for(t=i("*[contentEditable=false]",r),a=0;a<t.length;a++)n=t[a],o=n.previousSibling,e.endsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=n.nextSibling,e.startsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(0,1));return null},m=function(t,n){var o,a;return g(),l(n)?null:c(n)?(d=e.insertBlock("p",n,t),o=f(n,t),i(d).css("top",o.top),h=i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(r),t&&h.addClass("mce-visual-caret-before"),y(),a=n.ownerDocument.createRange(),a.setStart(d,0),a.setEnd(d,0),a):(d=e.insertInline(n,t),a=n.ownerDocument.createRange(),s(d.nextSibling)?(a.setStart(d,0),a.setEnd(d,0)):(a.setStart(d,1),a.setEnd(d,1)),a)},g=function(){p(),d&&(n.remove(d),d=null),h&&(h.remove(),h=null),t(u)},v=function(){return r.ownerDocument.activeElement===r},y=function(){u=a.setInterval(function(){v()?i("div.mce-visual-caret",r).toggleClass("mce-visual-caret-hidden"):i("div.mce-visual-caret",r).addClass("mce-visual-caret-hidden")},500)},b=function(){a.clearInterval(u)},_=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:m,hide:g,getCss:_,destroy:b}}}),a("tinymce.core.dom.Dimensions",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect"],function(t,e,n){var i=function(r){var o=function(e){return t.map(e,function(t){return t=n.clone(t),t.node=r,t})};if(t.isArray(r))return t.reduce(r,function(t,e){return t.concat(i(e))},[]);if(e.isElement(r))return o(r.getClientRects());if(e.isText(r)){var a=r.ownerDocument.createRange();return a.setStart(r,0),a.setEnd(r,r.data.length),o(a.getClientRects())}};return{getClientRects:i}}),a("tinymce.core.caret.LineUtils",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.Dimensions","tinymce.core.geom.ClientRect","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretCandidate"],function(t,e,n,i,r,o,a){var s=n.isContentEditableFalse,l=o.findNode,c=t.curry,u=function(t,e){return Math.abs(t.left-e)},d=function(t,e){return Math.abs(t.right-e)},h=function(t,n){var i=function(t,e){return t>=e.left&&t<=e.right};return e.reduce(t,function(t,e){var r,o;return r=Math.min(u(t,n),d(t,n)),o=Math.min(u(e,n),d(e,n)),i(n,e)?e:i(n,t)?t:o==r&&s(e.node)?e:o<r?e:t})},f=function(t,e,n,i){for(;i=l(i,t,a.isEditableCaretCandidate,e);)if(n(i))return},p=function(t,n){var o=[],a=function(t,r){var a;return a=e.filter(i.getClientRects(r),function(e){return!t(e,n)}),o=o.concat(a),0===a.length};return o.push(n),f(-1,t,c(a,r.isAbove),n.node),f(1,t,c(a,r.isBelow),n.node),o},m=function(t){return e.filter(e.toArray(t.getElementsByTagName("*")),s)},g=function(t,e){return{node:t.node,before:u(t,e)<d(t,e)}},v=function(t,n,r){var o,a;return o=i.getClientRects(m(t)),o=e.filter(o,function(t){return r>=t.top&&r<=t.bottom}),a=h(o,n),a&&(a=h(p(t,a),n),a&&s(a.node))?g(a,n):null};return{findClosestClientRect:h,findLineNodeRects:p,closestCaret:v}}),a("tinymce.core.dom.RangePoint",["ephox.katamari.api.Arr","tinymce.core.geom.ClientRect"],function(t,e){var n=function(n,i,r){return!r.collapsed&&t.foldl(r.getClientRects(),function(t,r){return t||e.containsXY(r,n,i)},!1)};return{isXYWithinRange:n}}),a("ephox.katamari.api.Throttler",["global!clearTimeout","global!setTimeout"],function(t,e){var n=function(n,i){var r=null,o=null,a=function(){null!==r&&(t(r),r=null,o=null)},s=function(){o=arguments,null===r&&(r=e(function(){n.apply(null,o),r=null,o=null},i))};return{cancel:a,throttle:s}},i=function(n,i){var r=null,o=function(){null!==r&&(t(r),r=null)},a=function(){var t=arguments;null===r&&(r=e(function(){n.apply(null,t),r=null,t=null},i))};return{cancel:o,throttle:a}},r=function(n,i){var r=null,o=function(){null!==r&&(t(r),r=null)},a=function(){var o=arguments;null!==r&&t(r),r=e(function(){n.apply(null,o),r=null,o=null},i)};return{cancel:o,throttle:a}};return{adaptable:n,first:i,last:r}}),a("tinymce.core.keyboard.CefUtils",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun"],function(t,e,n,i){var r=n.isContentEditableTrue,o=n.isContentEditableFalse,a=function(t,e,n,i){return e._selectionOverrides.showCaret(t,n,i);
},s=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},l=function(t,e){var n;return n=t.fire("BeforeObjectSelected",{target:e}),n.isDefaultPrevented()?null:s(e)},c=function(n,s){var l,c;return s=e.normalizeRange(1,n.getBody(),s),l=t.fromRangeStart(s),o(l.getNode())?a(1,n,l.getNode(),!l.isAtEnd()):o(l.getNode(!0))?a(1,n,l.getNode(!0),!1):(c=n.dom.getParent(l.getNode(),i.or(o,r)),o(c)?a(1,n,c,!1):null)},u=function(t,e){var n;return e&&e.collapsed?(n=c(t,e),n?n:e):e};return{showCaret:a,selectNode:l,renderCaretAtRange:c,renderRangeCaret:u}}),a("tinymce.core.focus.CefFocus",["ephox.katamari.api.Throttler","tinymce.core.keyboard.CefUtils"],function(t,e){var n=function(n){var i=t.first(function(){if(!n.removed){var t=e.renderRangeCaret(n,n.selection.getRng());n.selection.setRng(t)}},0);n.on("focus",function(){i.throttle()}),n.on("blur",function(){i.cancel()})};return{setup:n}}),a("tinymce.core.util.VK",["tinymce.core.Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),a("tinymce.core.SelectionOverrides",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","tinymce.core.DragDropOverrides","tinymce.core.EditorView","tinymce.core.Env","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.FakeCaret","tinymce.core.caret.LineUtils","tinymce.core.dom.NodeType","tinymce.core.dom.RangePoint","tinymce.core.focus.CefFocus","tinymce.core.keyboard.CefUtils","tinymce.core.util.VK"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b){var _=m.isContentEditableTrue,w=m.isContentEditableFalse,x=d.isAfterContentEditableFalse,k=d.isBeforeContentEditableFalse,C=function(m){var C,T=function(t){return m.dom.isBlock(t)},S=m.getBody(),E=new f(m.getBody(),T),O="sel-"+m.dom.uniqueId(),A=function(t){return m.dom.hasClass(t,"mce-offscreen-selection")},M=function(){var t=m.dom.get(O);return t?t.getElementsByTagName("*")[0]:t},P=function(t){t&&m.selection.setRng(t)},D=function(){return m.selection.getRng()},j=function(t,e){m.selection.scrollIntoView(t,e)},N=function(t,e,n){var i;return i=m.fire("ShowCaret",{target:e,direction:t,before:n}),i.isDefaultPrevented()?null:(j(e,t===-1),E.show(n,e))},L=function(t,e){return e=d.normalizeRange(t,S,e),t==-1?u.fromRangeStart(e):u.fromRangeEnd(e)},I=function(t){t.hasAttribute("data-mce-caret")&&(c.showCaretContainerBlock(t),P(D()),j(t[0]))},R=function(){var t=function(t){for(var e=m.getBody();t&&t!=e;){if(_(t)||w(t))return t;t=t.parentNode}return null};m.on("mouseup",function(t){var e=D();e.collapsed&&s.isXYInContentArea(m,t.clientX,t.clientY)&&P(y.renderCaretAtRange(m,e))}),m.on("click",function(e){var n;n=t(e.target),n&&(w(n)&&(e.preventDefault(),m.focus()),_(n)&&m.dom.isChildOf(n,m.selection.getNode())&&U())}),m.on("blur NewBlock",function(){U()});var e=function(e){var n=!1;e.on("touchstart",function(){n=!1}),e.on("touchmove",function(){n=!0}),e.on("touchend",function(i){var r=t(i.target);w(r)&&(n||(i.preventDefault(),z(y.selectNode(e,r))))})},n=function(t){var e=new h(t);if(!t.firstChild)return!1;var n=u.before(t.firstChild),i=e.next(n);return i&&!k(i)&&!x(i)},i=function(t,e){var n=m.dom.getParent(t,m.dom.isBlock),i=m.dom.getParent(e,m.dom.isBlock);return n===i},r=function(t,e){var r=m.dom.getParent(t,m.dom.isBlock),o=m.dom.getParent(e,m.dom.isBlock);return r&&!i(r,o)&&n(r)};e(m),m.on("mousedown",function(e){var n;if(s.isXYInContentArea(m,e.clientX,e.clientY)!==!1)if(n=t(e.target))w(n)?(e.preventDefault(),z(y.selectNode(m,n))):(U(),_(n)&&e.shiftKey||g.isXYWithinRange(e.clientX,e.clientY,m.selection.getRng())||m.selection.placeCaretAt(e.clientX,e.clientY));else{U(),W();var i=p.closestCaret(S,e.clientX,e.clientY);i&&(r(e.target,i.node)||(e.preventDefault(),m.getBody().focus(),P(N(1,i.node,i.before))))}}),m.on("keypress",function(t){if(!b.modifierPressed(t))switch(t.keyCode){default:w(m.selection.getNode())&&t.preventDefault()}}),m.on("getSelectionRange",function(t){var e=t.range;if(C){if(!C.parentNode)return void(C=null);e=e.cloneRange(),e.selectNode(C),t.range=e}}),m.on("setSelectionRange",function(t){var e;e=z(t.range,t.forward),e&&(t.range=e)}),m.on("AfterSetSelectionRange",function(t){var e=t.range;$(e)||W(),A(e.startContainer.parentNode)||U()}),m.on("copy",function(t){var e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!l.ie){var n=M();n&&(t.preventDefault(),e.clearData(),e.setData("text/html",n.outerHTML),e.setData("text/plain",n.outerText))}}),a.init(m),v.setup(m)},B=function(){var t=m.contentStyles,e=".mce-content-body";t.push(E.getCss()),t.push(e+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+e+" *[contentEditable=false] {cursor: default;}"+e+" *[contentEditable=true] {cursor: text;}")},F=function(t){return c.isCaretContainer(t)||c.startsWithCaretContainer(t)||c.endsWithCaretContainer(t)},$=function(t){return F(t.startContainer)||F(t.endContainer)},z=function(e,a){var s,c,u,d,h,f,p,g,v,y,b=m.$,_=m.dom;if(!e)return null;if(e.collapsed){if(!$(e))if(a===!1){if(g=L(-1,e),w(g.getNode(!0)))return N(-1,g.getNode(!0),!1);if(w(g.getNode()))return N(-1,g.getNode(),!g.isAtEnd())}else{if(g=L(1,e),w(g.getNode()))return N(1,g.getNode(),!g.isAtEnd());if(w(g.getNode(!0)))return N(1,g.getNode(!0),!1)}return null}return d=e.startContainer,h=e.startOffset,f=e.endOffset,3===d.nodeType&&0===h&&w(d.parentNode)&&(d=d.parentNode,h=_.nodeIndex(d),d=d.parentNode),1!=d.nodeType?null:(f==h+1&&(s=d.childNodes[h]),w(s)?(v=y=s.cloneNode(!0),p=m.fire("ObjectSelected",{target:s,targetClone:v}),p.isDefaultPrevented()?null:(c=o.descendant(n.fromDom(m.getBody()),"#"+O).fold(function(){return b([])},function(t){return b([t.dom()])}),v=p.targetClone,0===c.length&&(c=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",O),c.appendTo(m.getBody())),e=m.dom.createRng(),v===y&&l.ie?(c.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(v),e.setStartAfter(c[0].firstChild.firstChild),e.setEndAfter(v)):(c.empty().append("\xa0").append(v).append("\xa0"),e.setStart(c[0].firstChild,1),e.setEnd(c[0].lastChild,0)),c.css({top:_.getPos(s,m.getBody()).y}),c[0].focus(),u=m.selection.getSel(),u.removeAllRanges(),u.addRange(e),t.each(r.descendants(n.fromDom(m.getBody()),"*[data-mce-selected]"),function(t){i.remove(t,"data-mce-selected")}),s.setAttribute("data-mce-selected",1),C=s,W(),e)):null)},U=function(){C&&(C.removeAttribute("data-mce-selected"),o.descendant(n.fromDom(m.getBody()),"#"+O).each(e.remove),C=null)},H=function(){E.destroy(),C=null},W=function(){E.hide()};return l.ceFalse&&(R(),B()),{showCaret:N,showBlockCaretContainer:I,hideFakeCaret:W,destroy:H}};return C}),a("tinymce.core.undo.Diff",[],function(){var t=0,e=1,n=2,i=function(i,r){var o=i.length+r.length+2,a=new Array(o),s=new Array(o),l=function(t,e,n){return{start:t,end:e,diag:n}},c=function(o,a,s,l,u){var h=d(o,a,s,l);if(null===h||h.start===a&&h.diag===a-l||h.end===o&&h.diag===o-s)for(var f=o,p=s;f<a||p<l;)f<a&&p<l&&i[f]===r[p]?(u.push([t,i[f]]),++f,++p):a-o>l-s?(u.push([n,i[f]]),++f):(u.push([e,r[p]]),++p);else{c(o,h.start,s,h.start-h.diag,u);for(var m=h.start;m<h.end;++m)u.push([t,i[m]]);c(h.end,a,h.end-h.diag,l,u)}},u=function(t,e,n,o){for(var a=t;a-e<o&&a<n&&i[a]===r[a-e];)++a;return l(t,a,e)},d=function(t,e,n,o){var l=e-t,c=o-n;if(0===l||0===c)return null;var d=l-c,h=c+l,f=(h%2===0?h:h+1)/2;a[1+f]=t,s[1+f]=e+1;for(var p=0;p<=f;++p){for(var m=-p;m<=p;m+=2){var g=m+f;m===-p||m!=p&&a[g-1]<a[g+1]?a[g]=a[g+1]:a[g]=a[g-1]+1;for(var v=a[g],y=v-t+n-m;v<e&&y<o&&i[v]===r[y];)a[g]=++v,++y;if(d%2!=0&&d-p<=m&&m<=d+p&&s[g-d]<=a[g])return u(s[g-d],m+t-n,e,o)}for(m=d-p;m<=d+p;m+=2){for(g=m+f-d,m===d-p||m!=d+p&&s[g+1]<=s[g-1]?s[g]=s[g+1]-1:s[g]=s[g-1],v=s[g]-1,y=v-t+n-m;v>=t&&y>=n&&i[v]===r[y];)s[g]=v--,y--;if(d%2===0&&-p<=m&&m<=p&&s[g]<=a[g+d])return u(s[g],m+t-n,e,o)}}},h=[];return c(0,i.length,0,r.length,h),h};return{KEEP:t,DELETE:n,INSERT:e,diff:i}}),a("tinymce.core.undo.Fragments",["global!document","tinymce.core.html.Entities","tinymce.core.undo.Diff","tinymce.core.util.Arr"],function(t,e,n,i){var r=function(t){return 1===t.nodeType?t.outerHTML:3===t.nodeType?e.encodeRaw(t.data,!1):8===t.nodeType?"<!--"+t.data+"-->":""},o=function(e){var n,i,r;for(r=t.createElement("div"),n=t.createDocumentFragment(),e&&(r.innerHTML=e);i=r.firstChild;)n.appendChild(i);return n},a=function(t,e,n){var i=o(e);if(t.hasChildNodes()&&n<t.childNodes.length){var r=t.childNodes[n];r.parentNode.insertBefore(i,r)}else t.appendChild(i)},s=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},l=function(t,e){var r=0;i.each(t,function(t){t[0]===n.KEEP?r++:t[0]===n.INSERT?(a(e,t[1],r),r++):t[0]===n.DELETE&&s(e,r)})},c=function(t){return i.filter(i.map(t.childNodes,r),function(t){return t.length>0})},u=function(t,e){var o=i.map(e.childNodes,r);return l(n.diff(o,t),e),e};return{read:c,write:u}}),a("tinymce.core.undo.Levels",["ephox.katamari.api.Arr","tinymce.core.dom.TrimHtml","tinymce.core.undo.Fragments"],function(t,e,n){var i=function(t){return t.indexOf("</iframe>")!==-1},r=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},o=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},a=function(a){var s,l,c;return s=n.read(a.getBody()),c=t.bind(s,function(t){var n=e.trimInternal(a.serializer,t);return n.length>0?[n]:[]}),l=c.join(""),i(l)?r(c):o(l)},s=function(t,e,i){"fragmented"===e.type?n.write(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(i?e.beforeBookmark:e.bookmark)},l=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},c=function(t,e){return!!t&&!!e&&l(t)===l(e)};return{createFragmentedLevel:r,createCompleteLevel:o,createFromEditor:a,applyToEditor:s,isEq:c}}),a("tinymce.core.UndoManager",["tinymce.core.dom.GetBookmark","tinymce.core.undo.Levels","tinymce.core.util.Tools"],function(t,e,n){return function(i){var r,o,a=this,s=0,l=[],c=0,u=function(){return 0===c},d=function(t){u()&&(a.typing=t)},h=function(t){i.setDirty(t)},f=function(t){d(!1),a.add({},t)},p=function(){a.typing&&(d(!1),a.add())};return i.on("init",function(){a.add()}),i.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(p(),a.beforeChange())}),i.on("ExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&f(t)}),i.on("ObjectResizeStart Cut",function(){a.beforeChange()}),i.on("SaveContent ObjectResized blur",f),i.on("DragEnd",f),i.on("KeyUp",function(t){var n=t.keyCode;t.isDefaultPrevented()||((n>=33&&n<=36||n>=37&&n<=40||45===n||t.ctrlKey)&&(f(),i.nodeChanged()),46!==n&&8!==n||i.nodeChanged(),o&&a.typing&&e.isEq(e.createFromEditor(i),l[0])===!1&&(i.isDirty()===!1&&(h(!0),i.fire("change",{level:l[0],lastLevel:null})),i.fire("TypingUndo"),o=!1,i.nodeChanged()))}),i.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented()){if(e>=33&&e<=36||e>=37&&e<=40||45===e)return void(a.typing&&f(t));var n=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||e>20)||224===e||91===e||a.typing||n||(a.beforeChange(),d(!0),a.add({},t),o=!0)}}),i.on("MouseDown",function(t){a.typing&&f(t)}),i.addShortcut("meta+z","","Undo"),i.addShortcut("meta+y,meta+shift+z","","Redo"),i.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||i.nodeChanged()}),a={data:l,typing:!1,beforeChange:function(){u()&&(r=t.getUndoBookmark(i.selection))},add:function(o,a){var c,d,f,p=i.settings;if(f=e.createFromEditor(i),o=o||{},o=n.extend(o,f),u()===!1||i.removed)return null;if(d=l[s],i.fire("BeforeAddUndo",{level:o,lastLevel:d,originalEvent:a}).isDefaultPrevented())return null;if(d&&e.isEq(d,o))return null;if(l[s]&&(l[s].beforeBookmark=r),p.custom_undo_redo_levels&&l.length>p.custom_undo_redo_levels){for(c=0;c<l.length-1;c++)l[c]=l[c+1];l.length--,s=l.length}o.bookmark=t.getUndoBookmark(i.selection),s<l.length-1&&(l.length=s+1),l.push(o),s=l.length-1;var m={level:o,lastLevel:d,originalEvent:a};return i.fire("AddUndo",m),s>0&&(h(!0),i.fire("change",m)),o},undo:function(){var t;return a.typing&&(a.add(),a.typing=!1,d(!1)),s>0&&(t=l[--s],e.applyToEditor(i,t,!0),h(!0),i.fire("undo",{level:t})),t},redo:function(){var t;return s<l.length-1&&(t=l[++s],e.applyToEditor(i,t,!1),h(!0),i.fire("redo",{level:t})),t},clear:function(){l=[],s=0,a.typing=!1,a.data=l,i.fire("ClearUndos")},hasUndo:function(){return s>0||a.typing&&l[0]&&!e.isEq(e.createFromEditor(i),l[0])},hasRedo:function(){return s<l.length-1&&!a.typing},transact:function(t){return p(),a.beforeChange(),a.ignore(t),a.add()},ignore:function(t){try{c++,t()}finally{c--}},extra:function(t,n){var r,o;a.transact(t)&&(o=l[s].bookmark,r=l[s-1],e.applyToEditor(i,r,!0),a.transact(n)&&(l[s-1].beforeBookmark=o))}}}}),a("tinymce.core.fmt.Hooks",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.DomQuery"],function(t,e,n){var i={},r=t.filter,o=t.each,a=function(t,e){var n=i[t];n||(i[t]=n=[]),i[t].push(e)},s=function(t,e){o(i[t],function(t){t(e)})};return a("pre",function(i){var a,s,l=i.selection.getRng(),c=function(e){return a(e.previousSibling)&&t.indexOf(s,e.previousSibling)!==-1},u=function(t,e){n(e).remove(),n(t).append("<br><br>").append(e.childNodes)};a=e.matchNodeNames("pre"),l.collapsed||(s=i.selection.getSelectedBlocks(),o(r(r(s,a),c),function(t){u(t.previousSibling,t)}))}),{postProcess:s}}),a("tinymce.core.selection.RangeWalk",["tinymce.core.util.Tools"],function(t){var e=t.each,n=function(t,e){var n=t.childNodes;return e--,e>n.length-1?e=n.length-1:e<0&&(e=0),n[e]||t},i=function(t,i,r){var o,a,s,l,c,u,d,h=i.startContainer,f=i.startOffset,p=i.endContainer,m=i.endOffset;if(d=t.select("td[data-mce-selected],th[data-mce-selected]"),d.length>0)return void e(d,function(t){r([t])});var g=function(t){var e;return e=t[0],3===e.nodeType&&e===h&&f>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===m&&t.length>0&&e===p&&3===e.nodeType&&t.splice(t.length-1,1),t},v=function(t,e,n){for(var i=[];t&&t!=n;t=t[e])i.push(t);return i},y=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},b=function(t,e,n){var i=n?"nextSibling":"previousSibling";for(l=t,c=l.parentNode;l&&l!=e;l=c)c=l.parentNode,u=v(l===t?l:l[i],i),u.length&&(n||u.reverse(),r(g(u)))};if(1===h.nodeType&&h.hasChildNodes()&&(h=h.childNodes[f]),1===p.nodeType&&p.hasChildNodes()&&(p=n(p,m)),h===p)return r(g([h]));for(o=t.findCommonAncestor(h,p),l=h;l;l=l.parentNode){if(l===p)return b(h,o,!0);if(l===o)break}for(l=p;l;l=l.parentNode){if(l===h)return b(p,o);if(l===o)break}a=y(h,o)||h,s=y(p,o)||p,b(h,a,!0),u=v(a===h?a:a.nextSibling,"nextSibling",s===p?s.nextSibling:s),u.length&&r(g(u)),b(p,s)};return{walk:i}});a("tinymce.core.fmt.RemoveFormat",["tinymce.core.dom.Bookmarks","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.selection.RangeWalk","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l){var c=/^(src|href|style)$/,u=l.each,d=o.isEq,h=function(t){return/^(TH|TD)$/.test(t.nodeName)},f=function(t,i,r){var o,a,s;return o=i[r?"startContainer":"endContainer"],a=i[r?"startOffset":"endOffset"],e.isElement(o)&&(s=o.childNodes.length-1,!r&&a&&a--,o=o.childNodes[a>s?s:a]),e.isText(o)&&r&&a>=o.nodeValue.length&&(o=new n(o,t.getBody()).next()||o),e.isText(o)&&!r&&0===a&&(o=new n(o,t.getBody()).prev()||o),o},p=function(t,e,n,i){var r=t.create(n,i);return e.parentNode.insertBefore(r,e),r.appendChild(e),r},m=function(t,n,i){return!!d(n,i.inline)||(!!d(n,i.block)||(i.selector?e.isElement(n)&&t.is(n,i.selector):void 0))},g=function(t,e){return e.links&&"A"===t.tagName},v=function(t,e,n,i){return e=o.getNonWhiteSpaceSibling(e,n,i),!e||"BR"===e.nodeName||t.isBlock(e)},y=function(t,e,n){var i,r=e.parentNode,a=t.dom,s=t.settings.forced_root_block;n.block&&(s?r===a.getRoot()&&(n.list_block&&d(e,n.list_block)||u(l.grep(e.childNodes),function(e){o.isValid(t,s,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=p(a,e,s),a.setAttribs(i,t.settings.forced_root_block_attrs)):i=0})):a.isBlock(e)&&!a.isBlock(r)&&(v(a,e,!1)||v(a,e.firstChild,!0,1)||e.insertBefore(a.create("br"),e.firstChild),v(a,e,!0)||v(a,e.lastChild,!1,1)||e.appendChild(a.create("br")))),n.selector&&n.inline&&!d(n.inline,e)||a.remove(e,1)},b=function(t,e,n,i,r){var a,s,l,h=t.dom;if(!m(h,i,e)&&!g(i,e))return!1;if("all"!==e.remove)for(u(e.styles,function(t,a){t=o.normalizeStyleValue(h,o.replaceVars(t,n),a),"number"==typeof a&&(a=t,r=0),(e.remove_similar||!r||d(o.getStyle(h,r,a),t))&&h.setStyle(i,a,""),l=1}),l&&""===h.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),u(e.attributes,function(t,e){var a;if(t=o.replaceVars(t,n),"number"==typeof e&&(e=t,r=0),!r||d(h.getAttrib(r,e),t)){if("class"===e&&(t=h.getAttrib(i,e),t&&(a="",u(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(a+=(a?" ":"")+t)}),a)))return void h.setAttrib(i,e,a);"class"===e&&i.removeAttribute("className"),c.test(e)&&i.removeAttribute("data-mce-"+e),i.removeAttribute(e)}}),u(e.classes,function(t){t=o.replaceVars(t,n),r&&!h.hasClass(r,t)||h.removeClass(i,t)}),s=h.getAttribs(i),a=0;a<s.length;a++){var f=s[a].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return!1}return"none"!==e.remove?(y(t,i,e),!0):void 0},_=function(t,e,n,i,r){var s;return u(o.getParents(t.dom,e.parentNode).reverse(),function(e){var o;s||"_start"===e.id||"_end"===e.id||(o=a.matchNode(t,e,n,i,r),o&&o.split!==!1&&(s=e))}),s},w=function(t,e,n,i,r,o,a,s){var l,c,u,d,h,f,p=t.dom;if(n){for(f=n.parentNode,l=i.parentNode;l&&l!==f;l=l.parentNode){for(c=p.clone(l,!1),h=0;h<e.length;h++)if(b(t,e[h],s,c,c)){c=0;break}c&&(u&&c.appendChild(u),d||(d=c),u=c)}!o||a.mixed&&p.isBlock(n)||(i=p.split(n,i)),u&&(r.parentNode.insertBefore(u,r),d.appendChild(r))}return i},x=function(n,c,d,m,g){var v,y,x=n.formatter.get(c),k=x[0],C=!0,T=n.dom,S=n.selection,E=function(t){var e=_(n,t,c,d,g);return w(n,x,e,t,t,!0,k,d)},O=function(t){var i,r,o,a,s;if(e.isElement(t)&&T.getContentEditable(t)&&(a=C,C="true"===T.getContentEditable(t),s=!0),i=l.grep(t.childNodes),C&&!s)for(r=0,o=x.length;r<o&&!b(n,x[r],d,t,t);r++);if(k.deep&&i.length){for(r=0,o=i.length;r<o;r++)O(i[r]);s&&(C=a)}},A=function(n){var i=T.get(n?"_start":"_end"),r=i[n?"firstChild":"lastChild"];return t.isBookmarkNode(r)&&(r=r[n?"firstChild":"lastChild"]),e.isText(r)&&0===r.data.length&&(r=n?i.previousSibling||i.nextSibling:i.nextSibling||i.previousSibling),T.remove(i,!0),r},M=function(t){var i,a,l=t.commonAncestorContainer;if(t=r.expandRng(n,t,x,!0),k.split){if(i=f(n,t,!0),a=f(n,t),i!==a){if(/^(TR|TH|TD)$/.test(i.nodeName)&&i.firstChild&&(i="TR"===i.nodeName?i.firstChild.firstChild||i:i.firstChild||i),l&&/^T(HEAD|BODY|FOOT|R)$/.test(l.nodeName)&&h(a)&&a.firstChild&&(a=a.firstChild||a),T.isChildOf(i,a)&&i!==a&&!T.isBlock(a)&&!h(i)&&!h(a))return i=p(T,i,"span",{id:"_start","data-mce-type":"bookmark"}),E(i),void(i=A(!0));i=p(T,i,"span",{id:"_start","data-mce-type":"bookmark"}),a=p(T,a,"span",{id:"_end","data-mce-type":"bookmark"}),E(i),E(a),i=A(!0),a=A()}else i=a=E(i);t.startContainer=i.parentNode?i.parentNode:i,t.startOffset=T.nodeIndex(i),t.endContainer=a.parentNode?a.parentNode:a,t.endOffset=T.nodeIndex(a)+1}s.walk(T,t,function(t){u(t,function(t){O(t),e.isElement(t)&&"underline"===n.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===o.getTextDecoration(T,t.parentNode)&&b(n,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(m)return void(m.nodeType?(y=T.createRng(),y.setStartBefore(m),y.setEndAfter(m),M(y)):M(m));if("false"!==T.getContentEditable(S.getNode()))S.isCollapsed()&&k.inline&&!T.select("td[data-mce-selected],th[data-mce-selected]").length?i.removeCaretFormat(n,c,d,g):(v=S.getBookmark(),M(S.getRng(!0)),S.moveToBookmark(v),k.inline&&a.match(n,c,d,S.getStart())&&o.moveStart(T,S,S.getRng(!0)),n.nodeChanged());else{m=S.getNode();for(var P=0,D=x.length;P<D&&(!x[P].ceFalseOverride||!b(n,x[P],d,m,m));P++);}};return{removeFormat:b,remove:x}});a("tinymce.core.fmt.MergeFormats",["ephox.katamari.api.Fun","tinymce.core.dom.Bookmarks","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.RemoveFormat","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l){var c=l.each,u=function(t){return t&&1===t.nodeType&&!e.isBookmarkNode(t)&&!r.isCaretNode(t)&&!i.isBogus(t)},d=function(t,n){var i;for(i=t;i;i=i[n]){if(3===i.nodeType&&0!==i.nodeValue.length)return t;if(1===i.nodeType&&!e.isBookmarkNode(i))return i}return t},h=function(t,e,i){var r,o,a=new n(t);if(e&&i&&(e=d(e,"previousSibling"),i=d(i,"nextSibling"),a.compare(e,i))){for(r=e.nextSibling;r&&r!==i;)o=r,r=r.nextSibling,e.appendChild(o);return t.remove(i),l.each(l.grep(i.childNodes),function(t){e.appendChild(t)}),e}return i},f=function(t,e,n){c(t.childNodes,function(t){u(t)&&(e(t)&&n(t),t.hasChildNodes()&&f(t,e,n))})},p=function(e,n){return t.curry(function(t,n){return!(!n||!o.getStyle(e,n,t))},n)},m=function(e,n,i){return t.curry(function(t,n,i){e.setStyle(i,t,n),""===i.getAttribute("style")&&i.removeAttribute("style"),g(e,i)},n,i)},g=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},v=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=o.getTextDecoration(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},y=function(e,n,i,r){(n.styles.color||n.styles.textDecoration)&&(l.walk(r,t.curry(v,e),"childNodes"),v(e,r))},b=function(t,e,n,i){e.styles&&e.styles.backgroundColor&&f(i,p(t,"fontSize"),m(t,"backgroundColor",o.replaceVars(e.styles.backgroundColor,n)))},_=function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(f(i,p(t,"fontSize"),m(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},w=function(t,e,n,i){i&&e.merge_siblings!==!1&&(i=h(t,o.getNonWhiteSpaceSibling(i),i),i=h(t,i,o.getNonWhiteSpaceSibling(i,!0)))},x=function(t,e,n){if(e.clear_child_styles){var i=e.links?"*:not(a)":"*";c(t.select(i,n),function(n){u(n)&&c(e.styles,function(e,i){t.setStyle(n,i,"")})})}},k=function(t,e,n,i){c(e,function(e){c(t.dom.select(e.inline,i),function(i){u(i)&&s.removeFormat(t,e,n,i,e.exact?i:null)}),x(t.dom,e,i)})},C=function(t,e,n,i,r){a.matchNode(t,r.parentNode,n,i)&&s.removeFormat(t,e,i,r)||e.merge_with_parents&&t.dom.getParent(r.parentNode,function(o){if(a.matchNode(t,o,n,i))return s.removeFormat(t,e,i,r),!0})};return{mergeWithChildren:k,mergeUnderlineAndColor:y,mergeBackgroundColorAndFontSize:b,mergeSubSup:_,mergeSiblings:w,mergeWithParents:C}}),a("tinymce.core.fmt.ApplyFormat",["tinymce.core.dom.Bookmarks","tinymce.core.dom.NodeType","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.Hooks","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.MergeFormats","tinymce.core.selection.RangeNormalizer","tinymce.core.selection.RangeWalk","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l,c,u){var d=u.each,h=function(i){return i&&1===i.nodeType&&!t.isBookmarkNode(i)&&!n.isCaretNode(i)&&!e.isBogus(i)},f=function(e,p,m,g){var v,y,b=e.formatter.get(p),_=b[0],w=!g&&e.selection.isCollapsed(),x=e.dom,k=e.selection,C=function(t,e){if(e=e||_,t){if(e.onformat&&e.onformat(t,e,m,g),d(e.styles,function(e,n){x.setStyle(t,n,r.replaceVars(e,m))}),e.styles){var n=x.getAttrib(t,"style");n&&t.setAttribute("data-mce-style",n)}d(e.attributes,function(e,n){x.setAttrib(t,n,r.replaceVars(e,m))}),d(e.classes,function(e){e=r.replaceVars(e,m),x.hasClass(t,e)||x.addClass(t,e)})}},T=function(t,e){var i=!1;return!!_.selector&&(d(t,function(t){if(!("collapsed"in t&&t.collapsed!==w))return x.is(e,t.selector)&&!n.isCaretNode(e)?(C(e,t),i=!0,!1):void 0}),i)},S=function(i,o,l,f){var g,v,y=[],w=!0;g=_.inline||_.block,v=i.create(g),C(v),c.walk(i,o,function(t){var o,s=function(t){var l,c,h,x;if(x=w,l=t.nodeName.toLowerCase(),c=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&i.getContentEditable(t)&&(x=w,w="true"===i.getContentEditable(t),h=!0),r.isEq(l,"br"))return o=0,void(_.block&&i.remove(t));if(_.wrapper&&a.matchNode(e,t,p,m))return void(o=0);if(w&&!h&&_.block&&!_.wrapper&&r.isTextBlock(e,l)&&r.isValid(e,c,g))return t=i.rename(t,g),C(t),y.push(t),void(o=0);if(_.selector){var k=T(b,t);if(!_.inline||k)return void(o=0)}!w||h||!r.isValid(e,g,l)||!r.isValid(e,c,g)||!f&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||n.isCaretNode(t)||_.inline&&i.isBlock(t)?(o=0,d(u.grep(t.childNodes),s),h&&(w=x),o=0):(o||(o=i.clone(v,!1),t.parentNode.insertBefore(o,t),y.push(o)),o.appendChild(t))};d(t,s)}),_.links===!0&&d(y,function(t){var e=function(t){"A"===t.nodeName&&C(t,_),d(u.grep(t.childNodes),e)};e(t)}),d(y,function(n){var o,l=function(e){var n=0;return d(e.childNodes,function(e){r.isWhiteSpaceNode(e)||t.isBookmarkNode(e)||n++}),n},c=function(t){var e=!1;return d(t.childNodes,function(t){if(h(t))return e=t,!1}),e},u=function(e){var n,r;return n=c(e),n&&!t.isBookmarkNode(n)&&a.matchName(i,n,_)&&(r=i.clone(n,!1),C(r),i.replace(r,e,!0),i.remove(n,1)),r||e};return o=l(n),(y.length>1||!i.isBlock(n))&&0===o?void i.remove(n,1):void((_.inline||_.wrapper)&&(_.exact||1!==o||(n=u(n)),s.mergeWithChildren(e,b,m,n),s.mergeWithParents(e,_,p,m,n),s.mergeBackgroundColorAndFontSize(i,_,m,n),s.mergeSubSup(i,_,m,n),s.mergeSiblings(i,_,m,n)))})};if("false"!==x.getContentEditable(k.getNode())){if(_){if(g)g.nodeType?T(b,g)||(y=x.createRng(),y.setStartBefore(g),y.setEndAfter(g),S(x,i.expandRng(e,y,b),null,!0)):S(x,g,null,!0);else if(w&&_.inline&&!x.select("td[data-mce-selected],th[data-mce-selected]").length)n.applyCaretFormat(e,p,m);else{var E=e.selection.getNode();e.settings.forced_root_block||!b[0].defaultBlock||x.getParent(E,x.isBlock)||f(e,b[0].defaultBlock),e.selection.setRng(l.normalize(e.selection.getRng())),v=k.getBookmark(),S(x,i.expandRng(e,k.getRng(!0),b),v),_.styles&&s.mergeUnderlineAndColor(x,_,m,E),k.moveToBookmark(v),r.moveStart(x,k,k.getRng(!0)),e.nodeChanged()}o.postProcess(p,e)}}else{g=k.getNode();for(var O=0,A=b.length;O<A;O++)if(b[O].ceFalseOverride&&x.is(g,b[O].selector))return void C(g,b[O])}};return{applyFormat:f}}),a("tinymce.core.fmt.FormatChanged",["ephox.katamari.api.Cell","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.util.Tools"],function(t,e,n,i){var r=i.each,o=function(t,o){var a={};t.set({}),o.on("NodeChange",function(s){var l=e.getParents(o.dom,s.element),c={};l=i.grep(l,function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}),r(t.get(),function(t,e){r(l,function(i){return o.formatter.matchNode(i,e,{},t.similar)?(a[e]||(r(t,function(t){t(!0,{node:i,format:e,parents:l})}),a[e]=t),c[e]=t,!1):!n.matchesUnInheritedFormatSelector(o,i,e)&&void 0})}),r(a,function(t,e){c[e]||(delete a[e],r(t,function(t){t(!1,{node:s.element,format:e,parents:l})}))})})},a=function(t,e,n,i){var o=t.get();r(e.split(","),function(t){o[t]||(o[t]=[],o[t].similar=i),o[t].push(n)}),t.set(o)},s=function(t,e,n,i,r){null===e.get()&&o(e,t),a(e,n,i,r)};return{formatChanged:s}}),a("tinymce.core.fmt.DefaultFormats",["tinymce.core.util.Tools"],function(t){var e=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,i,r){t.each(r,function(t,i){e.setAttrib(n,i,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return t.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){n[t]={block:t,remove:"all"}}),n};return{get:e}}),a("tinymce.core.fmt.FormatRegistry",["tinymce.core.fmt.DefaultFormats","tinymce.core.util.Tools"],function(t,e){return function(n){var i={},r=function(t){return t?i[t]:i},o=function(t,n){t&&("string"!=typeof t?e.each(t,function(t,e){o(e,t)}):(n=n.length?n:[n],e.each(n,function(t){"undefined"==typeof t.deep&&(t.deep=!t.selector),"undefined"==typeof t.split&&(t.split=!t.selector||t.inline),"undefined"==typeof t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),i[t]=n))},a=function(t){return t&&i[t]&&delete i[t],i};return o(t.get(n.dom)),o(n.settings.formats),{get:r,register:o,unregister:a}}}),a("tinymce.core.fmt.Preview",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.html.Schema"],function(t,e,n){var i=e.each,r=t.DOM,o=function(t,i){var o,a,s,l=i&&i.schema||new n({}),c=function(t,e){e.classes.length&&r.addClass(t,e.classes.join(" ")),r.setAttribs(t,e.attrs)},u=function(t){var e;return a="string"==typeof t?{name:t,classes:[],attrs:{}}:t,e=r.create(a.name),c(e,a),e},d=function(t,n){var i="string"!=typeof t?t.nodeName.toLowerCase():t,r=l.getElementRule(i),o=r&&r.parentsRequired;return!(!o||!o.length)&&(n&&e.inArray(o,n)!==-1?n:o[0])},h=function(t,n,i){var o,a,s,l=n.length>0&&n[0],c=l&&l.name;if(s=d(t,c))c===s?(a=n[0],n=n.slice(1)):a=s;else if(l)a=n[0],n=n.slice(1);else if(!i)return t;return a&&(o=u(a),o.appendChild(t)),i&&(o||(o=r.create("div"),o.appendChild(t)),e.each(i,function(e){var n=u(e);o.insertBefore(n,t)})),h(o,n,a&&a.siblings)};return t&&t.length?(a=t[0],o=u(a),s=r.create("div"),s.appendChild(h(o,t.slice(1),a.siblings)),s):""},a=function(t,e){return o(l(t),e)},s=function(t){var n,i={classes:[],attrs:{}};return t=i.selector=e.trim(t),"*"!==t&&(n=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,n,r,o,a){switch(n){
case"#":i.attrs.id=r;break;case".":i.classes.push(r);break;case":":e.inArray("checked disabled enabled read-only required".split(" "),r)!==-1&&(i.attrs[r]=r)}if("["===o){var s=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(i.attrs[s[1]]=s[2])}return""})),i.name=n||"div",i},l=function(t){return t&&"string"==typeof t?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),e.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var n=e.map(t.split(/(?:~\+|~|\+)/),s),i=n.pop();return n.length&&(i.siblings=n),i}).reverse()):[]},c=function(t,e){var n,a,s,c,u,d,h="";if(d=t.settings.preview_styles,d===!1)return"";"string"!=typeof d&&(d="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var f=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(e=t.formatter.get(e),!e)return;e=e[0]}return"preview"in e&&(d=e.preview,d===!1)?"":(n=e.block||e.inline||"span",c=l(e.selector),c.length?(c[0].name||(c[0].name=n),n=e.selector,a=o(c,t)):a=o([n],t),s=r.select(n,a)[0]||a.firstChild,i(e.styles,function(t,e){t=f(t),t&&r.setStyle(s,e,t)}),i(e.attributes,function(t,e){t=f(t),t&&r.setAttrib(s,e,t)}),i(e.classes,function(t){t=f(t),r.hasClass(s,t)||r.addClass(s,t)}),t.fire("PreviewFormats"),r.setStyles(a,{position:"absolute",left:-65535}),t.getBody().appendChild(a),u=r.getStyle(t.getBody(),"fontSize",!0),u=/px$/.test(u)?parseInt(u,10):0,i(d.split(" "),function(e){var n=r.getStyle(s,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=r.getStyle(t.getBody(),e,!0),"#ffffff"===r.toHex(n).toLowerCase())||"color"===e&&"#000000"===r.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===u)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*u+"px"}"border"===e&&n&&(h+="padding:0 2px;"),h+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),r.remove(a),h)};return{getCssText:c,parseSelector:l,selectorToHtml:a}}),a("tinymce.core.fmt.ToggleFormat",["tinymce.core.fmt.ApplyFormat","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.RemoveFormat"],function(t,e,n){var i=function(i,r,o,a,s){var l=r.get(o);!e.match(i,o,a,s)||"toggle"in l[0]&&!l[0].toggle?t.applyFormat(i,o,a,s):n.remove(i,o,a,s)};return{toggle:i}}),a("tinymce.core.keyboard.FormatShortcuts",[],function(){var t=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])};return{setup:t}}),a("tinymce.core.api.Formatter",["ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.fmt.ApplyFormat","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.FormatChanged","tinymce.core.fmt.FormatRegistry","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.Preview","tinymce.core.fmt.RemoveFormat","tinymce.core.fmt.ToggleFormat","tinymce.core.keyboard.FormatShortcuts"],function(t,e,n,i,r,o,a,s,l,c,u){return function(d){var h=o(d),f=t(null);return u.setup(d),i.setup(d),{get:h.get,register:h.register,unregister:h.unregister,apply:e.curry(n.applyFormat,d),remove:e.curry(l.remove,d),toggle:e.curry(c.toggle,d,h),match:e.curry(a.match,d),matchAll:e.curry(a.matchAll,d),matchNode:e.curry(a.matchNode,d),canApply:e.curry(a.canApply,d),formatChanged:e.curry(r.formatChanged,d,f),getCssText:e.curry(s.getCssText,d)}}}),a("ephox.katamari.api.Merger",["ephox.katamari.api.Type","global!Array","global!Error"],function(t,e,n){var i=function(t,e){return e},r=function(e,n){var i=t.isObject(e)&&t.isObject(n);return i?a(e,n):n},o=function(t){return function(){for(var i=new e(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];if(0===i.length)throw new n("Can't merge zero objects");for(var o={},a=0;a<i.length;a++){var s=i[a];for(var l in s)s.hasOwnProperty(l)&&(o[l]=t(o[l],s[l]))}return o}},a=o(r),s=o(i);return{deepMerge:a,merge:s}}),a("tinymce.core.api.Events",[],function(){var t=function(t,e){return t.fire("PreProcess",e)},e=function(t,e){return t.fire("PostProcess",e)};return{firePreProcess:t,firePostProcess:e}}),a("tinymce.core.dom.DomSerializerFilters",["ephox.katamari.api.Arr","tinymce.core.html.Entities"],function(t,e){var n=function(n,i,r){n.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)n=t[i],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)}),n.addAttributeFilter("src,href,style",function(t,e){for(var n,o,a,s=t.length,l="data-mce-"+e,c=i.url_converter,u=i.url_converter_scope;s--;)n=t[s],o=n.attributes.map[l],o!==a?(n.attr(e,o.length>0?o:null),n.attr(l,null)):(o=n.attributes.map[e],"style"===e?o=r.serializeStyle(r.parseStyle(o),n.name):c&&(o=c.call(u,o,e,n.name)),n.attr(e,o.length>0?o:null))}),n.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.attr("class"),n&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))}),n.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)i=t[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),n.addNodeFilter("noscript",function(t){for(var n,i=t.length;i--;)n=t[i].firstChild,n&&(n.value=e.decode(n.value))}),n.addNodeFilter("script,style",function(t,e){for(var n,r,o,a=t.length,s=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)n=t[a],r=n.firstChild?n.firstChild.value:"","script"===e?(o=n.attr("type"),o&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===i.element_format&&r.length>0&&(n.firstChild.value="// <![CDATA[\n"+s(r)+"\n// ]]>")):"xhtml"===i.element_format&&r.length>0&&(n.firstChild.value="<!--\n"+s(r)+"\n-->")}),n.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)e=t[n],0===e.value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),n.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)n=t[i],7===n.type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),n.addAttributeFilter("data-mce-type",function(e){t.each(e,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(n.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})},i=function(t){var e,n,i=function(t){return t&&"br"===t.name};e=t.lastChild,i(e)&&(n=e.prev,i(n)&&(e.remove(),n.remove()))};return{register:n,trimTrailingBr:i}}),a("tinymce.core.dom.DomSerializerPreProcess",["ephox.katamari.api.Merger","global!document","tinymce.core.api.Events","tinymce.core.util.Tools"],function(t,e,n,i){var r=function(r,o,a){var s,l,c,u=r.dom;return o=o.cloneNode(!0),s=e.implementation,s.createHTMLDocument&&(l=s.createHTMLDocument(""),i.each("BODY"===o.nodeName?o.childNodes:[o],function(t){l.body.appendChild(l.importNode(t,!0))}),o="BODY"!==o.nodeName?l.body.firstChild:l.body,c=u.doc,u.doc=l),n.firePreProcess(r,t.merge(a,{node:o})),c&&(u.doc=c),o},o=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},a=function(t,e,n){return o(t,n)?r(t,e,n):e};return{process:a}}),a("tinymce.core.html.LegacyFilter",["ephox.katamari.api.Arr","tinymce.core.html.Styles","tinymce.core.util.Tools"],function(t,e,n){var i=function(e,n){t.each(n,function(t){e.attr(t,null)})},r=function(e,n,r){e.addNodeFilter("font",function(e){t.each(e,function(t){var e=n.parse(t.attr("style")),o=t.attr("color"),a=t.attr("face"),s=t.attr("size");o&&(e.color=o),a&&(e["font-family"]=a),s&&(e["font-size"]=r[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",n.serialize(e)),i(t,["color","face","size"])})})},o=function(e,n){e.addNodeFilter("strike",function(e){t.each(e,function(t){var e=n.parse(t.attr("style"));e["text-decoration"]="line-through",t.name="span",t.attr("style",n.serialize(e))})})},a=function(t,i){var a=e();i.convert_fonts_to_spans&&r(t,a,n.explode(i.font_size_legacy_values)),o(t,a)},s=function(t,e){e.inline_styles&&a(t,e)};return{register:s}}),a("tinymce.core.html.Node",[],function(){var t=/^[ \t\r\n]*$/,e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},n=function(t,e,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[a])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[a])return i}},i=function(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})};return i.prototype={replace:function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},attr:function(t,e){var n,i,r,o=this;if("string"!=typeof t){for(i in t)o.attr(i,t[i]);return o}if(n=o.attributes){if(e!==r){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),o;return o}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,o}return n.map[t]}},clone:function(){var t,e,n,r,o,a=this,s=new i(a.name,a.type);if(n=a.attributes){for(o=[],o.map={},t=0,e=n.length;t<e;t++)r=n[t],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},unwrap:function(){var t,e,n=this;for(t=n.firstChild;t;)e=t.next,n.insert(t,n,!0),t=e;n.remove()},remove:function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},append:function(t){var e,n=this;return t.parent&&t.remove(),e=n.lastChild,e?(e.next=t,t.prev=e,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},insert:function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},getAll:function(t){var e,i=this,r=[];for(e=i.firstChild;e;e=n(e,i))e.name===t&&r.push(e);return r},empty:function(){var t,e,i,r=this;if(r.firstChild){for(t=[],i=r.firstChild;i;i=n(i,r))t.push(i);for(e=t.length;e--;)i=t[e],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(e,i,r){var o,a,s=this,l=s.firstChild;if(i=i||{},l)do{if(1===l.type){if(l.attributes.map["data-mce-bogus"])continue;if(e[l.name])return!1;for(o=l.attributes.length;o--;)if(a=l.attributes[o].name,"name"===a||0===a.indexOf("data-mce-bookmark"))return!1}if(8===l.type)return!1;if(3===l.type&&!t.test(l.value))return!1;if(3===l.type&&l.parent&&i[l.parent.name]&&t.test(l.value))return!1;if(r&&r(l))return!1}while(l=n(l,s));return!0},walk:function(t){return n(this,null,t)}},i.create=function(t,n){var r,o;if(r=new i(t,e[t]||1),n)for(o in n)r.attr(o,n[o]);return r},i}),a("tinymce.core.html.DomParser",["tinymce.core.html.LegacyFilter","tinymce.core.html.Node","tinymce.core.html.SaxParser","tinymce.core.html.Schema","tinymce.core.util.Tools"],function(t,e,n,i,r){var o=r.makeMap,a=r.each,s=r.explode,l=r.extend,c=function(t,n,i,r){var o=t.padd_empty_with_br||n.insert;o&&i[r.name]?r.empty().append(new e("br","1")).shortEnded=!0:r.empty().append(new e("#text","3")).value="\xa0"},u=function(t){return d(t,"#text")&&"\xa0"===t.firstChild.value},d=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},h=function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty},f=function(t,e,n,i){return i.isEmpty(e,n,function(e){return h(t,e)})};return function(h,p){var m=this,g={},v=[],y={},b={};h=h||{},h.validate=!("validate"in h)||h.validate,h.root_name=h.root_name||"body",m.schema=p=p||new i;var _=function(t){var n,i,r,a,s,l,c,u,h,g,v,y,b,_,w,x;for(y=o("tr,td,th,tbody,thead,tfoot,table"),g=p.getNonEmptyElements(),v=p.getWhiteSpaceElements(),b=p.getTextBlockElements(),_=p.getSpecialElements(),n=0;n<t.length;n++)if(i=t[n],i.parent&&!i.fixed)if(b[i.name]&&"li"==i.parent.name){for(w=i.next;w&&b[w.name];)w.name="li",w.fixed=!0,i.parent.insert(w,i.parent),w=w.next;i.unwrap(i)}else{for(a=[i],r=i.parent;r&&!p.isValidChild(r.name,i.name)&&!y[r.name];r=r.parent)a.push(r);if(r&&a.length>1){for(a.reverse(),s=l=m.filterNode(a[0].clone()),h=0;h<a.length-1;h++){for(p.isValidChild(l.name,a[h].name)?(c=m.filterNode(a[h].clone()),l.append(c)):c=l,u=a[h].firstChild;u&&u!=a[h+1];)x=u.next,c.append(u),u=x;l=c}f(p,g,v,s)?r.insert(i,a[0],!0):(r.insert(s,a[0],!0),r.insert(i,s)),r=a[0],(f(p,g,v,r)||d(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if(w=i.prev,w&&("ul"===w.name||"ul"===w.name)){w.append(i);continue}if(w=i.next,w&&("ul"===w.name||"ul"===w.name)){w.insert(i,w.firstChild,!0);continue}i.wrap(m.filterNode(new e("ul",1)));continue}p.isValidChild(i.parent.name,"div")&&p.isValidChild("div",i.name)?i.wrap(m.filterNode(new e("div",1))):_[i.name]?i.empty().remove():i.unwrap()}}};m.filterNode=function(t){var e,n,i;n in g&&(i=y[n],i?i.push(t):y[n]=[t]),e=v.length;for(;e--;)n=v[e].name,n in t.attributes.map&&(i=b[n],i?i.push(t):b[n]=[t]);return t},m.addNodeFilter=function(t,e){a(s(t),function(t){var n=g[t];n||(g[t]=n=[]),n.push(e)})},m.addAttributeFilter=function(t,e){a(s(t),function(t){var n;for(n=0;n<v.length;n++)if(v[n].name===t)return void v[n].callbacks.push(e);v.push({name:t,callbacks:[e]})})},m.parse=function(t,i){var r,a,s,d,m,w,x,k,C,T,S,E,O,A,M,P,D,j,N,L,I,R=[];i=i||{},y={},b={},E=l(o("script,style,head,html,body,title,meta,param"),p.getBlockElements()),L=p.getNonEmptyElements(),N=p.children,S=h.validate,I="forced_root_block"in i?i.forced_root_block:h.forced_root_block,j=p.getWhiteSpaceElements(),O=/^[ \t\r\n]+/,M=/[ \t\r\n]+$/,P=/[ \t\r\n]+/g,D=/^[ \t\r\n]+$/;var B=function(){var t,e,n=a.firstChild,i=function(t){t&&(n=t.firstChild,n&&3==n.type&&(n.value=n.value.replace(O,"")),n=t.lastChild,n&&3==n.type&&(n.value=n.value.replace(M,"")))};if(p.isValidChild(a.name,I.toLowerCase())){for(;n;)t=n.next,3==n.type||1==n.type&&"p"!==n.name&&!E[n.name]&&!n.attr("data-mce-type")?e?e.append(n):(e=F(I,1),e.attr(h.forced_root_block_attrs),a.insert(e,n),e.append(n)):(i(e),e=null),n=t;i(e)}},F=function(t,n){var i,r=new e(t,n);return t in g&&(i=y[t],i?i.push(r):y[t]=[r]),r},$=function(t){var e,n,i,r,o=p.getBlockElements();for(e=t.prev;e&&3===e.type;){if(i=e.value.replace(M,""),i.length>0)return void(e.value=i);if(n=e.next){if(3==n.type&&n.value.length){e=e.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){e=e.prev;continue}}r=e.prev,e.remove(),e=r}},z=function(t){var e,n={};for(e in t)"li"!==e&&"p"!=e&&(n[e]=t[e]);return n};if(r=new n({validate:S,allow_script_urls:h.allow_script_urls,allow_conditional_comments:h.allow_conditional_comments,self_closing_elements:z(p.getSelfClosingElements()),cdata:function(t){s.append(F("#cdata",4)).value=t},text:function(t,e){var n;A||(t=t.replace(P," "),s.lastChild&&E[s.lastChild.name]&&(t=t.replace(O,""))),0!==t.length&&(n=F("#text",3),n.raw=!!e,s.append(n).value=t)},comment:function(t){s.append(F("#comment",8)).value=t},pi:function(t,e){s.append(F(t,7)).value=e,$(s)},doctype:function(t){var e;e=s.append(F("#doctype",10)),e.value=t,$(s)},start:function(t,e,n){var i,r,o,a,l;if(o=S?p.getElementRule(t):{}){for(i=F(o.outputName||t,1),i.attributes=e,i.shortEnded=n,s.append(i),l=N[s.name],l&&N[i.name]&&!l[i.name]&&R.push(i),r=v.length;r--;)a=v[r].name,a in e.map&&(C=b[a],C?C.push(i):b[a]=[i]);E[t]&&$(i),n||(s=i),!A&&j[t]&&(A=!0)}},end:function(t){var e,n,r,o,a;if(n=S?p.getElementRule(t):{}){if(E[t]&&!A){if(e=s.firstChild,e&&3===e.type)if(r=e.value.replace(O,""),r.length>0)e.value=r,e=e.next;else for(o=e.next,e.remove(),e=o;e&&3===e.type;)r=e.value,o=e.next,(0===r.length||D.test(r))&&(e.remove(),e=o),e=o;if(e=s.lastChild,e&&3===e.type)if(r=e.value.replace(M,""),r.length>0)e.value=r,e=e.prev;else for(o=e.prev,e.remove(),e=o;e&&3===e.type;)r=e.value,o=e.prev,(0===r.length||D.test(r))&&(e.remove(),e=o),e=o}if(A&&j[t]&&(A=!1),n.removeEmpty&&f(p,L,j,s)&&!s.attributes.map.name&&!s.attributes.map.id)return a=s.parent,E[s.name]?s.empty().remove():s.unwrap(),void(s=a);n.paddEmpty&&(u(s)||f(p,L,j,s))&&c(h,i,E,s),s=s.parent}}},p),a=s=new e(i.context||h.root_name,11),r.parse(t),S&&R.length&&(i.context?i.invalid=!0:_(R)),I&&("body"==a.name||i.isRootContent)&&B(),!i.invalid){for(T in y){for(C=g[T],d=y[T],x=d.length;x--;)d[x].parent||d.splice(x,1);for(m=0,w=C.length;m<w;m++)C[m](d,T,i)}for(m=0,w=v.length;m<w;m++)if(C=v[m],C.name in b){for(d=b[C.name],x=d.length;x--;)d[x].parent||d.splice(x,1);for(x=0,k=C.callbacks.length;x<k;x++)C.callbacks[x](d,C.name,i)}}return a},h.remove_trailing_brs&&m.addNodeFilter("br",function(t,n,i){var r,o,a,s,u,d,m,g,v=t.length,y=l({},p.getBlockElements()),b=p.getNonEmptyElements(),_=p.getNonEmptyElements();for(y.body=1,r=0;r<v;r++)if(o=t[r],a=o.parent,y[o.parent.name]&&o===a.lastChild){for(u=o.prev;u;){if(d=u.name,"span"!==d||"bookmark"!==u.attr("data-mce-type")){if("br"!==d)break;if("br"===d){o=null;break}}u=u.prev}o&&(o.remove(),f(p,b,_,a)&&(m=p.getElementRule(a.name),m&&(m.removeEmpty?a.remove():m.paddEmpty&&c(h,i,y,a))))}else{for(s=o;a&&a.firstChild===s&&a.lastChild===s&&(s=a,!y[a.name]);)a=a.parent;s===a&&h.padd_empty_with_br!==!0&&(g=new e("#text",3),g.value="\xa0",o.replace(g))}}),m.addAttributeFilter("href",function(t){var e,n=t.length,i=function(t){var e=t.split(" ").filter(function(t){return t.length>0});return e.concat(["noopener"]).sort().join(" ")},o=function(t){var e=t?r.trim(t):"";return/\b(noopener)\b/g.test(e)?e:i(e)};if(!h.allow_unsafe_link_target)for(;n--;)e=t[n],"a"===e.name&&"_blank"===e.attr("target")&&e.attr("rel",o(e.attr("rel")))}),h.allow_html_in_named_anchor||m.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if(r=t[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do n=e.prev,i.insert(e,r),e=n;while(e)}}),h.fix_list_elements&&m.addNodeFilter("ul,ol",function(t){for(var n,i,r=t.length;r--;)if(n=t[r],i=n.parent,"ul"===i.name||"ol"===i.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var o=new e("li",1);o.attr("style","list-style-type: none"),n.wrap(o)}}),h.validate&&p.getValidClasses()&&m.addAttributeFilter("class",function(t){for(var e,n,i,r,o,a,s,l=t.length,c=p.getValidClasses();l--;){for(e=t[l],n=e.attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,a=c["*"],a&&a[r]&&(s=!0),a=c[e.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),e.attr("class",o)}}),t.register(this,h)}}),a("tinymce.core.dom.DomSerializer",["ephox.katamari.api.Fun","ephox.katamari.api.Merger","tinymce.core.api.Events","tinymce.core.dom.DOMUtils","tinymce.core.dom.DomSerializerFilters","tinymce.core.dom.DomSerializerPreProcess","tinymce.core.html.DomParser","tinymce.core.html.Schema","tinymce.core.html.Serializer","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l,c,u){var d=function(t,e,n){u.inArray(e,n)===-1&&(t.addAttributeFilter(n,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),e.push(n))},h=function(t,i,r){if(!i.no_events&&t){var o=n.firePostProcess(t,e.merge(i,{content:r}));return o.content}return r},f=function(t,e,n){var i=c.trim(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection?i:u.trim(i)},p=function(t,n,i,o){var a=o.selection?e.merge({forced_root_block:!1},o):o,s=t.parse(i,a);return r.trimTrailingBr(s),s},m=function(t,e,n){var i=new l(t,e);return i.serialize(n)},g=function(t,e,n,i,r){var o=m(e,n,i);return h(t,r,o)};return function(n,l){var c,u,h,m=["data-mce-selected"];c=l&&l.dom?l.dom:i.DOM,u=l&&l.schema?l.schema:new s(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs=!("remove_trailing_brs"in n)||n.remove_trailing_brs,h=new a(n,u),r.register(h,n,c);var v=function(t,i){var r=e.merge({format:"html"},i?i:{}),a=o.process(l,t,r),s=f(c,a,r),d=p(h,c,s,r);return"tree"===r.format?d:g(l,n,u,d,r)};return{schema:u,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:v,addRules:function(t){u.addValidElements(t)},setRules:function(t){u.setValidElements(t)},addTempAttr:t.curry(d,h,m),getTempAttrs:function(){return m}}}}),a("tinymce.core.api.dom.Serializer",["tinymce.core.dom.DomSerializer"],function(t){return function(e,n){var i=new t(e,n);return{schema:i.schema,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:i.serialize,addRules:i.addRules,setRules:i.setRules,addTempAttr:i.addTempAttr,getTempAttrs:i.getTempAttrs}}}),a("tinymce.core.caret.CaretContainerInput",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFind","tinymce.core.caret.CaretContainer"],function(t,e,n,i){var r=function(i){return n.descendant(e.fromDom(i.getBody()),"*[data-mce-caret]").fold(t.constant(null),function(t){return t.dom()})},o=function(t){t.selection.setRng(t.selection.getRng())},a=function(t,e){e.hasAttribute("data-mce-caret")&&(i.showCaretContainerBlock(e),o(t),t.selection.scrollIntoView(e))},s=function(t,e){var n=r(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void a(n)):void(i.hasContent(n)&&a(t,n))},l=function(e){e.on("keyup compositionstart",t.curry(s,e))};return{setup:l}}),a("tinymce.core.api.dom.BookmarkManager",["ephox.katamari.api.Fun","tinymce.core.dom.Bookmarks"],function(t,e){var n=function(n){return{getBookmark:t.curry(e.getBookmark,n),moveToBookmark:t.curry(e.moveToBookmark,n)}};return n.isBookmarkNode=e.isBookmarkNode,n}),a("tinymce.core.dom.ControlSelection",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","global!document","tinymce.core.dom.NodeType","tinymce.core.dom.RangePoint","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK"],function(t,e,n,i,r,o,a,s,l,c){var u=r.isContentEditableFalse,d=r.isContentEditableTrue,h=function(t,e){for(;e&&e!=t;){if(d(e)||u(e))return e;e=e.parentNode}return null};return function(t,r){var d,f,p,m,g,v,y,b,_,w,x,k,C,T,S,E,O,A=r.dom,M=l.each,P=r.getDoc(),D=i,j=Math.abs,N=Math.round,L=r.getBody();m={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var I=".mce-content-body";r.contentStyles.push(I+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+I+" .mce-resizehandle:hover {background: #000}"+I+" img[data-mce-selected],"+I+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+I+" .mce-clonedresizable {position: absolute;"+(a.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+I+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var R=function(t){return t&&("IMG"===t.nodeName||r.dom.is(t,"figure.image"))},B=function(t,e){return R(t.target)&&!o.isXYWithinRange(t.clientX,t.clientY,e)},F=function(t){var e=t.target;B(t,r.selection.getRng())&&!t.isDefaultPrevented()&&(t.preventDefault(),r.selection.select(e))},$=function(t){return r.dom.is(t,"figure.image")?t.querySelector("img"):t},z=function(t){var i=r.settings.object_resizing;return i!==!1&&!a.iOS&&("string"!=typeof i&&(i="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&(t!=r.getBody()&&n.is(e.fromDom(t),i)))},U=function(t){var e,n,i,o,a;e=t.screenX-v,n=t.screenY-y,T=e*g[2]+w,S=n*g[3]+x,T=T<5?5:T,S=S<5?5:S,i=R(d)&&r.settings.resize_img_proportional!==!1?!c.modifierPressed(t):c.modifierPressed(t)||R(d)&&g[2]*g[3]!==0,i&&(j(e)>j(n)?(S=N(T*k),T=N(S/k)):(T=N(S/k),S=N(T*k))),A.setStyles($(f),{width:T,height:S}),o=g.startPos.x+e,a=g.startPos.y+n,o=o>0?o:0,a=a>0?a:0,A.setStyles(p,{left:o,top:a,display:"block"}),p.innerHTML=T+" &times; "+S,g[2]<0&&f.clientWidth<=T&&A.setStyle(f,"left",b+(w-T)),g[3]<0&&f.clientHeight<=S&&A.setStyle(f,"top",_+(x-S)),e=L.scrollWidth-E,n=L.scrollHeight-O,e+n!==0&&A.setStyles(p,{left:o-e,top:a-n}),C||(r.fire("ObjectResizeStart",{target:d,width:w,height:x}),C=!0)},H=function(){C=!1;var t=function(t,e){e&&(d.style[t]||!r.schema.isValid(d.nodeName.toLowerCase(),t)?A.setStyle($(d),t,e):A.setAttrib($(d),t,e))};t("width",T),t("height",S),A.unbind(P,"mousemove",U),A.unbind(P,"mouseup",H),D!=P&&(A.unbind(D,"mousemove",U),A.unbind(D,"mouseup",H)),A.remove(f),A.remove(p),W(d),r.fire("ObjectResized",{target:d,width:T,height:S}),A.setAttrib(d,"style",A.getAttrib(d,"style")),r.nodeChanged()},W=function(t){var e,n,i,o,s;Y(),q(),e=A.getPos(t,L),b=e.x,_=e.y,s=t.getBoundingClientRect(),n=s.width||s.right-s.left,i=s.height||s.bottom-s.top,d!=t&&(d=t,T=S=0),o=r.fire("ObjectSelected",{target:t}),z(t)&&!o.isDefaultPrevented()?M(m,function(t,e){var r,o=function(e){v=e.screenX,y=e.screenY,w=$(d).clientWidth,x=$(d).clientHeight,k=x/w,g=t,t.startPos={x:n*t[0]+b,y:i*t[1]+_},E=L.scrollWidth,O=L.scrollHeight,f=d.cloneNode(!0),A.addClass(f,"mce-clonedresizable"),A.setAttrib(f,"data-mce-bogus","all"),f.contentEditable=!1,f.unSelectabe=!0,A.setStyles(f,{left:b,top:_,margin:0}),f.removeAttribute("data-mce-selected"),L.appendChild(f),A.bind(P,"mousemove",U),A.bind(P,"mouseup",H),D!=P&&(A.bind(D,"mousemove",U),A.bind(D,"mouseup",H)),p=A.add(L,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},w+" &times; "+x)};r=A.get("mceResizeHandle"+e),r&&A.remove(r),r=A.add(L,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),a.ie&&(r.contentEditable=!1),A.bind(r,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),o(t)}),t.elm=r,A.setStyles(r,{left:n*t[0]+b-r.offsetWidth/2,top:i*t[1]+_-r.offsetHeight/2})}):Y(),d.setAttribute("data-mce-selected","1")},Y=function(){var t,e;q(),d&&d.removeAttribute("data-mce-selected");for(t in m)e=A.get("mceResizeHandle"+t),e&&(A.unbind(e),A.remove(e))},V=function(e){var n,i,o=function(t,e){if(t)do if(t===e)return!0;while(t=t.parentNode)};if(!C&&!r.removed)return M(A.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),i="mousedown"==e.type?e.target:t.getNode(),i=A.$(i).closest("table,img,figure.image,hr")[0],o(i,L)&&(X(),n=t.getStart(!0),o(n,i)&&o(t.getEnd(!0),i))?void W(i):void Y()},G=function(t){return u(h(r.getBody(),t))},q=function(){for(var t in m){var e=m[t];e.elm&&(A.unbind(e.elm),delete e.elm)}},X=function(){try{r.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};r.on("init",function(){X(),a.ie&&a.ie>=11&&(r.on("mousedown click",function(t){var e=t.target,n=e.nodeName;C||!/^(TABLE|IMG|HR)$/.test(n)||G(e)||(2!==t.button&&r.selection.select(e,"TABLE"==n),"mousedown"==t.type&&r.nodeChanged())}),r.dom.bind(L,"mscontrolselect",function(t){var e=function(t){s.setEditorTimeout(r,function(){r.selection.select(t)})};return G(t.target)?(t.preventDefault(),void e(t.target)):void(/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"==t.target.tagName&&e(t.target)))}));var t=s.throttle(function(t){r.composing||V(t)});r.on("nodechange ResizeEditor ResizeWindow drop",t),r.on("keyup compositionend",function(e){d&&"TABLE"==d.nodeName&&t(e)}),r.on("hide blur",Y),r.on("contextmenu",F)}),r.on("remove",q);var K=function(){d=f=null};return{isResizable:z,showResizeRect:W,hideResizeRect:Y,updateResizeRect:V,destroy:K}}}),a("tinymce.core.dom.ScrollIntoView",["tinymce.core.dom.NodeType"],function(t){var e=function(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}},n=function(t,e,n){var i={elm:e,alignToTop:n};return t.fire("scrollIntoView",i),i.isDefaultPrevented()},i=function(i,r,o){var a,s,l,c,u=i.dom,d=u.getRoot(),h=0;if(!n(i,r,o)&&t.isElement(r)){if(o===!1&&(h=r.offsetHeight),"BODY"!==d.nodeName){var f=i.selection.getScrollContainer();if(f)return a=e(r).y-e(f).y+h,c=f.clientHeight,l=f.scrollTop,void((a<l||a+25>l+c)&&(f.scrollTop=a<l?a:a-c+25))}s=u.getViewPort(i.getWin()),a=u.getPos(r).y+h,l=s.y,c=s.h,(a<s.y||a+25>l+c)&&i.getWin().scrollTo(0,a<l?a:a-c+25)}};return{scrollIntoView:i}}),a("tinymce.core.selection.CaretRangeFromPoint",["tinymce.core.dom.NodeType","tinymce.core.util.Tools"],function(t,e){var n=function(e){return t.isContentEditableTrue(e)||t.isContentEditableFalse(e)},i=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},r=function(t,n,i){var r,o,a;if(r=i.elementFromPoint(t,n),o=i.body.createTextRange(),r&&"HTML"!==r.tagName||(r=i.body),o.moveToElementText(r),a=e.toArray(o.getClientRects()),a=a.sort(function(t,e){return t=Math.abs(Math.max(t.top-n,t.bottom-n)),e=Math.abs(Math.max(e.top-n,e.bottom-n)),t-e}),a.length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(t){}}return null},o=function(e,r){var o=e&&e.parentElement?e.parentElement():null;return t.isContentEditableFalse(i(o,r,n))?null:e},a=function(t,e,n){var i,a;if(n.caretPositionFromPoint)a=n.caretPositionFromPoint(t,e),a&&(i=n.createRange(),i.setStart(a.offsetNode,a.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(o){i=r(t,e,n)}return o(i,n.body)}return i};return{fromPoint:a}}),a("tinymce.core.selection.EventProcessRanges",["ephox.katamari.api.Arr"],function(t){var e=function(e,n){return t.map(n,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})};return{processRanges:e}}),a("ephox.sugar.api.dom.Replication",["ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Traverse"],function(t,e,n,i,r,o){var a=function(t,n){return e.fromDom(t.dom().cloneNode(n))},s=function(t){return a(t,!1)},l=function(t){return a(t,!0)},c=function(n,i){var r=e.fromTag(i),o=t.clone(n);return t.setAll(r,o),r},u=function(t,e){var n=c(t,e),r=o.children(l(t));return i.append(n,r),n},d=function(t,e){var a=c(t,e);n.before(t,a);var s=o.children(t);return i.append(a,s),r.remove(t),a};return{shallow:s,shallowAs:c,deep:l,copy:u,mutate:d}}),a("ephox.sugar.api.node.Fragment",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","global!document"],function(t,e,n){var i=function(i,r){var o=r||n,a=o.createDocumentFragment();return t.each(i,function(t){a.appendChild(t.dom())}),e.fromDom(a)};return{fromElements:i}}),a("tinymce.core.selection.SelectionUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.Traverse","tinymce.core.dom.NodeType"],function(t,e,n,i,r,o,a,s,l){var c=function(t){var e=t.startContainer,i=t.startOffset;return l.isText(e)?0===i?n.some(o.fromDom(e)):n.none():n.from(e.childNodes[i]).map(o.fromDom)},u=function(t){var e=t.endContainer,i=t.endOffset;return l.isText(e)?i===e.data.length?n.some(o.fromDom(e)):n.none():n.from(e.childNodes[i-1]).map(o.fromDom)},d=function(t){return s.firstChild(t).fold(e.constant([t]),function(e){return[t].concat(d(e))})},h=function(t){return s.lastChild(t).fold(e.constant([t]),function(e){return"br"===a.name(e)?s.prevSibling(e).map(function(e){return[t].concat(h(e))}).getOr([]):[t].concat(h(e))})},f=function(n,o){return i.liftN([c(o),u(o)],function(i,o){var a=t.find(d(n),e.curry(r.eq,i)),s=t.find(h(n),e.curry(r.eq,o));return a.isSome()&&s.isSome()}).getOr(!1)};return{hasAllContentsSelected:f}}),a("tinymce.core.selection.SimpleTableModel",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.SelectorFilter"],function(t,e,n,i,r,o,a,s,l,c){var u=n.immutable("element","width","rows"),d=n.immutable("element","cells"),h=n.immutable("x","y"),f=function(t,e){var n=parseInt(l.get(t,e),10);
return isNaN(n)?1:n},p=function(t,e,n,i,r){for(var o=f(r,"rowspan"),s=f(r,"colspan"),l=t.rows(),c=n;c<n+o;c++){l[c]||(l[c]=d(a.deep(i),[]));for(var u=e;u<e+s;u++){var h=l[c].cells();h[u]=c==n&&u==e?r:a.shallow(r)}}},m=function(t,e,n){var i=t.rows(),r=i[n]?i[n].cells():[];return!!r[e]},g=function(t,e,n){for(;m(t,e,n);)e++;return e},v=function(e){return t.foldl(e,function(t,e){return e.cells().length>t?e.cells().length:t},0)},y=function(t,n){for(var r=t.rows(),o=0;o<r.length;o++)for(var a=r[o].cells(),s=0;s<a.length;s++)if(i.eq(a[s],n))return e.some(h(s,o));return e.none()},b=function(t,e,n,i,r){for(var o=[],a=t.rows(),s=n;s<=r;s++){var l=a[s].cells(),c=e<i?l.slice(e,i+1):l.slice(i,e+1);o.push(d(a[s].element(),c))}return o},_=function(t,e,n){var i=e.x(),r=e.y(),o=n.x(),a=n.y(),s=r<a?b(t,i,r,o,a):b(t,i,a,o,r);return u(t.element(),v(s),s)},w=function(t,e){var n=a.shallow(t.element()),i=s.fromTag("tbody");return o.append(i,e),r.append(n,i),n},x=function(e){return t.map(e.rows(),function(e){var n=t.map(e.cells(),function(t){var e=a.deep(t);return l.remove(e,"colspan"),l.remove(e,"rowspan"),e}),i=a.shallow(e.element());return o.append(i,n),i})},k=function(e){var n=u(a.shallow(e),0,[]);return t.each(c.descendants(e,"tr"),function(e,i){t.each(c.descendants(e,"td,th"),function(t,r){p(n,g(n,r,i),i,e,t)})}),u(n.element(),v(n.rows()),n.rows())},C=function(t){return w(t,x(t))},T=function(t,e,n){return y(t,e).bind(function(e){return y(t,n).map(function(n){return _(t,e,n)})})};return{fromDom:k,toDom:C,subsection:T}}),a("tinymce.core.selection.FragmentReader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.node.Fragment","ephox.sugar.api.node.Node","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.search.Traverse","tinymce.core.dom.ElementType","tinymce.core.dom.Parents","tinymce.core.selection.SelectionUtils","tinymce.core.selection.SimpleTableModel","tinymce.core.selection.TableCellSelection"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p){var m=function(e){return t.find(e,function(t){return"ul"===s.name(t)||"ol"===s.name(t)})},g=function(n,i){return t.find(n,function(t){return"li"===s.name(t)&&h.hasAllContentsSelected(t,i)}).fold(e.constant([]),function(){return m(n).map(function(t){return[o.fromTag("li"),o.fromTag(s.name(t))]}).getOr([])})},v=function(e,n){var r=t.foldl(n,function(t,e){return i.append(e,t),e},e);return n.length>0?a.fromElements([r]):r},y=function(t){return u.isListItem(t)?c.parent(t).filter(u.isList).fold(e.constant([]),function(e){return[t,e]}):u.isList(t)?[t]:[]},b=function(e,n){var i=o.fromDom(n.commonAncestorContainer),a=d.parentsAndSelf(i,e),s=t.filter(a,function(t){return u.isInline(t)||u.isHeading(t)}),l=g(a,n),c=s.concat(l.length?l:y(i));return t.map(c,r.shallow)},_=function(){return a.fromElements([])},w=function(t,e){return v(o.fromDom(e.cloneContents()),b(t,e))},x=function(t,i){return l.ancestor(i,"table",e.curry(n.eq,t))},k=function(t,e){return x(t,e[0]).bind(function(t){var n=e[0],i=e[e.length-1],r=f.fromDom(t);return f.subsection(r,n,i).map(function(t){return a.fromElements([f.toDom(t)])})}).getOrThunk(_)},C=function(t,e){return e.length>0&&e[0].collapsed?_():w(t,e[0])},T=function(t,e){var n=p.getCellsFromElementOrRanges(e,t);return n.length>0?k(t,n):C(t,e)};return{read:T}}),a("tinymce.core.selection.GetSelectionContent",["ephox.sugar.api.node.Element","tinymce.core.selection.EventProcessRanges","tinymce.core.selection.FragmentReader","tinymce.core.selection.MultiRange","tinymce.core.text.Zwsp"],function(t,e,n,i,r){var o=function(o,a){var s,l=o.selection.getRng(),c=o.dom.create("body"),u=o.selection.getSel(),d=e.processRanges(o,i.getRanges(u));if(a=a||{},a.get=!0,a.format=a.format||"html",a.selection=!0,a=o.fire("BeforeGetContent",a),a.isDefaultPrevented())return o.fire("GetContent",a),a.content;if("text"===a.format)return o.selection.isCollapsed()?"":r.trim(l.text||(u.toString?u.toString():""));l.cloneContents?(s=a.contextual?n.read(t.fromDom(o.getBody()),d).dom():l.cloneContents(),s&&c.appendChild(s)):void 0!==l.item||void 0!==l.htmlText?(c.innerHTML="<br>"+(l.item?l.item(0).outerHTML:l.htmlText),c.removeChild(c.firstChild)):c.innerHTML=l.toString(),a.getInner=!0;var h=o.selection.serializer.serialize(c,a);return"tree"===a.format?h:(a.content=o.selection.isCollapsed()?"":h,o.fire("GetContent",a),a.content)};return{getContent:o}}),a("tinymce.core.selection.SetSelectionContent",[],function(){var t=function(t,e,n){var i,r,o,a=t.selection.getRng(),s=t.getDoc();if(n=n||{format:"html"},n.set=!0,n.selection=!0,n.content=e,!n.no_events&&(n=t.fire("BeforeSetContent",n),n.isDefaultPrevented()))return void t.fire("SetContent",n);if(e=n.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(r=s.createDocumentFragment(),o=s.createElement("div"),r.appendChild(o),o.outerHTML=e,a.insertNode(r))),i=t.dom.get("__caret"),a=s.createRange(),a.setStartBefore(i),a.setEndBefore(i),t.selection.setRng(a),t.dom.remove("__caret");try{t.selection.setRng(a)}catch(t){}}else a.item&&(s.execCommand("Delete",!1,null),a=t.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),t.dom.remove("__mce_tmp")):a.pasteHTML(e);n.no_events||t.fire("SetContent",n)};return{setContent:t}}),a("tinymce.core.dom.Selection",["ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.Env","tinymce.core.api.dom.BookmarkManager","tinymce.core.caret.CaretPosition","tinymce.core.dom.ControlSelection","tinymce.core.dom.ScrollIntoView","tinymce.core.dom.TreeWalker","tinymce.core.focus.EditorFocus","tinymce.core.selection.CaretRangeFromPoint","tinymce.core.selection.EventProcessRanges","tinymce.core.selection.GetSelectionContent","tinymce.core.selection.MultiRange","tinymce.core.selection.NormalizeRange","tinymce.core.selection.SelectionBookmark","tinymce.core.selection.SetSelectionContent","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g){var v=g.each,y=g.trim,b=function(n){return!(!n||!n.ownerDocument)&&t.contains(e.fromDom(n.ownerDocument),e.fromDom(n))},_=function(t){return!!t&&(!!t.select||b(t.startContainer)&&b(t.endContainer))},w=function(t,e,n,r){var a=this;a.dom=t,a.win=e,a.serializer=n,a.editor=r,a.bookmarkManager=new i(a),a.controlSelection=new o(a,r)};return w.prototype={setCursorLocation:function(t,e){var n=this,i=n.dom.createRng();t?(i.setStart(t,e),i.setEnd(t,e),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(t){return d.getContent(this.editor,t)},setContent:function(t,e){m.setContent(this.editor,t,e)},getStart:function(t){var e,n=this,i=n.getRng();return e=i.startContainer,1==e.nodeType&&e.hasChildNodes()&&(t&&i.collapsed||(e=e.childNodes[Math.min(e.childNodes.length-1,i.startOffset)])),e&&3==e.nodeType?e.parentNode:e},getEnd:function(t){var e,n,i=this,r=i.getRng();return e=r.endContainer,n=r.endOffset,1==e.nodeType&&e.hasChildNodes()&&(t&&r.collapsed||(e=e.childNodes[n>0?n-1:n])),e&&3==e.nodeType?e.parentNode:e},getBookmark:function(t,e){return this.bookmarkManager.getBookmark(t,e)},moveToBookmark:function(t){return this.bookmarkManager.moveToBookmark(t)},select:function(t,e){var n,i=this,r=i.dom,o=r.createRng();return t&&(n=r.nodeIndex(t),o.setStart(t.parentNode,n),o.setEnd(t.parentNode,n+1),e&&(i._moveEndPoint(o,t,!0),i._moveEndPoint(o,t)),i.setRng(o)),t},isCollapsed:function(){var t=this,e=t.getRng(),n=t.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!n||e.collapsed)},collapse:function(t){var e=this,n=e.getRng();n.collapse(!!t),e.setRng(n)},getSel:function(){var t=this.win;return t.getSelection?t.getSelection():t.document.selection},getRng:function(){var t,e,n,i,r=this,o=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(t){return-1}};if(!r.win)return null;if(i=r.win.document,"undefined"==typeof i||null===i)return null;if(void 0!==r.editor.bookmark&&l.hasFocus(r.editor)===!1){var a=p.getRng(r.editor);if(a.isSome())return a.getOr(i.createRange())}try{(t=r.getSel())&&(e=t.rangeCount>0?t.getRangeAt(0):t.createRange?t.createRange():i.createRange())}catch(t){}return e=u.processRanges(r.editor,[e])[0],e||(e=i.createRange?i.createRange():i.body.createTextRange()),e.setStart&&9===e.startContainer.nodeType&&e.collapsed&&(n=r.dom.getRoot(),e.setStart(n,0),e.setEnd(n,0)),r.selectedRange&&r.explicitRange&&(0===o(e.START_TO_START,e,r.selectedRange)&&0===o(e.END_TO_END,e,r.selectedRange)?e=r.explicitRange:(r.selectedRange=null,r.explicitRange=null)),e},setRng:function(t,e){var i,r,o,a=this;if(_(t))if(t.select){a.explicitRange=null;try{t.select()}catch(t){}}else{if(i=a.getSel(),o=a.editor.fire("SetSelectionRange",{range:t,forward:e}),t=o.range,i){a.explicitRange=t;try{i.removeAllRanges(),i.addRange(t)}catch(t){}e===!1&&i.extend&&(i.collapse(t.endContainer,t.endOffset),i.extend(t.startContainer,t.startOffset)),a.selectedRange=i.rangeCount>0?i.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!i.setBaseAndExtent||n.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(r=t.startContainer.childNodes[t.startOffset],r&&"IMG"===r.tagName&&(i.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),i.anchorNode===t.startContainer&&i.focusNode===t.endContainer||i.setBaseAndExtent(r,0,r,1))),a.editor.fire("AfterSetSelectionRange",{range:t,forward:e})}},setNode:function(t){var e=this;return e.setContent(e.dom.getOuterHTML(t)),t},getNode:function(){var t,e,n,i,r,o=this,a=o.getRng(),s=o.dom.getRoot(),l=function(t,e){for(var n=t;t&&3===t.nodeType&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n};return a?(e=a.startContainer,n=a.endContainer,i=a.startOffset,r=a.endOffset,t=a.commonAncestorContainer,!a.collapsed&&(e==n&&r-i<2&&e.hasChildNodes()&&(t=e.childNodes[i]),3===e.nodeType&&3===n.nodeType&&(e=e.length===i?l(e.nextSibling,!0):e.parentNode,n=0===r?l(n.previousSibling,!1):n.parentNode,e&&e===n))?e:t&&3==t.nodeType?t.parentNode:t):s},getSelectedBlocks:function(t,e){var n,i,r=this,o=r.dom,a=[];if(i=o.getRoot(),t=o.getParent(t||r.getStart(),o.isBlock),e=o.getParent(e||r.getEnd(),o.isBlock),t&&t!=i&&a.push(t),t&&e&&t!=e){n=t;for(var l=new s(t,i);(n=l.next())&&n!=e;)o.isBlock(n)&&a.push(n)}return e&&t!=e&&e!=i&&a.push(e),a},isForward:function(){var t,e,n=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||(t=n.createRng(),t.setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),e=n.createRng(),e.setStart(i.focusNode,i.focusOffset),e.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,e)<=0)},normalize:function(){var t=this,e=t.getRng();if(!h.hasMultipleRanges(t.getSel())){var n=f.normalize(t.dom,e);return n.each(function(e){t.setRng(e,t.isForward())}),n.getOr(e)}return e},selectorChanged:function(t,e){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(t){var e=t.element,r=i.dom,o=r.getParents(e,null,r.getRoot()),a={};v(i.selectorChangedData,function(t,e){v(o,function(i){if(r.is(i,e))return n[e]||(v(t,function(t){t(!0,{node:i,selector:e,parents:o})}),n[e]=t),a[e]=t,!1})}),v(n,function(t,i){a[i]||(delete n[i],v(t,function(t){t(!1,{node:e,selector:i,parents:o})}))})})),i.selectorChangedData[t]||(i.selectorChangedData[t]=[]),i.selectorChangedData[t].push(e),i},getScrollContainer:function(){for(var t,e=this.dom.getRoot();e&&"BODY"!=e.nodeName;){if(e.scrollHeight>e.clientHeight){t=e;break}e=e.parentNode}return t},scrollIntoView:function(t,e){a.scrollIntoView(this.editor,t,e)},placeCaretAt:function(t,e){this.setRng(c.fromPoint(t,e,this.editor.getDoc()))},_moveEndPoint:function(t,e,i){var r=e,o=new s(e,r),a=this.dom.schema.getNonEmptyElements();do{if(3==e.nodeType&&0!==y(e.nodeValue).length)return void(i?t.setStart(e,0):t.setEnd(e,e.nodeValue.length));if(a[e.nodeName]&&!/^(TD|TH)$/.test(e.nodeName))return void(i?t.setStartBefore(e):"BR"==e.nodeName?t.setEndBefore(e):t.setEndAfter(e));if(n.ie&&n.ie<11&&this.dom.isBlock(e)&&this.dom.isEmpty(e))return void(i?t.setStart(e,0):t.setEnd(e,0))}while(e=i?o.next():o.prev());"BODY"==r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},getBoundingClientRect:function(){var t=this.getRng();return t.collapsed?r.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},w}),a("tinymce.core.caret.LineWalker",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.Dimensions","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition","tinymce.core.geom.ClientRect"],function(t,e,n,i,r,o,a,s){var l=t.curry,c=function(t,e,n,o){for(;o=r.findNode(o,t,i.isEditableCaretCandidate,e);)if(n(o))return},u=function(t,i,r,o,a,s){var l,u,d=0,h=[],f=function(o){var s,l,c;for(c=n.getClientRects(o),t==-1&&(c=c.reverse()),s=0;s<c.length;s++)if(l=c[s],!r(l,u)){if(h.length>0&&i(l,e.last(h))&&d++,l.line=d,a(l))return!0;h.push(l)}};return(u=e.last(s.getClientRects()))?(l=s.getNode(),f(l),c(t,o,f,l),h):h},d=function(t,e){return e.line>t},h=function(t,e){return e.line===t},f=l(u,-1,s.isAbove,s.isBelow),p=l(u,1,s.isBelow,s.isAbove),m=function(t,n,i,r){var l,c,u,d,h,f,p=new o(n),m=[],g=0,v=function(n){return 1==t?e.last(n.getClientRects()):e.last(n.getClientRects())};1==t?(l=p.next,c=s.isBelow,u=s.isAbove,d=a.after(r)):(l=p.prev,c=s.isAbove,u=s.isBelow,d=a.before(r)),f=v(d);do if(d.isVisible()&&(h=v(d),!u(h,f))){if(m.length>0&&c(h,e.last(m))&&g++,h=s.clone(h),h.position=d,h.line=g,i(h))return m;m.push(h)}while(d=l(d));return m};return{upUntil:f,downUntil:p,positionsUntil:m,isAboveLine:l(d),isLine:l(h)}}),a("tinymce.core.keyboard.CefNavigation",["tinymce.core.Env","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.LineUtils","tinymce.core.caret.LineWalker","tinymce.core.dom.NodeType","tinymce.core.keyboard.CefUtils","tinymce.core.selection.RangeNodes","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(t,e,n,i,r,o,a,s,l,c,u,d){var h=s.isContentEditableFalse,f=c.getSelectedNode,p=i.isAfterContentEditableFalse,m=i.isBeforeContentEditableFalse,g=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},v=function(t,e){var n=i.isInSameBlock(t,e);return!(n||!s.isBr(t.getNode()))||n},y=function(t){return e.isCaretContainerBlock(t.startContainer)},b=function(t,e,r){return r=i.normalizeRange(t,e,r),t===-1?n.fromRangeStart(r):n.fromRangeEnd(r)},_=function(t,e,n,i,r){var o,a,s,c;return!r.collapsed&&(o=f(r),h(o))?l.showCaret(t,e,o,t===-1):(c=y(r),a=b(t,e.getBody(),r),i(a)?l.selectNode(e,a.getNode(t===-1)):(a=n(a))?i(a)?l.showCaret(t,e,a.getNode(t===-1),1===t):(s=n(a),i(s)&&v(a,s)?l.showCaret(t,e,s.getNode(t===-1),1===t):c?l.renderRangeCaret(e,a.toRange()):null):c?r:null)},w=function(t,e,n,i){var r,s,c,d,g,v,y,_,w;if(w=f(i),r=b(t,e.getBody(),i),s=n(e.getBody(),a.isAboveLine(1),r),c=u.filter(s,a.isLine(1)),g=u.last(r.getClientRects()),m(r)&&(w=r.getNode()),p(r)&&(w=r.getNode(!0)),!g)return null;if(v=g.left,d=o.findClosestClientRect(c,v),d&&h(d.node))return y=Math.abs(v-d.left),_=Math.abs(v-d.right),l.showCaret(t,e,d.node,y<_);if(w){var x=a.positionsUntil(t,e.getBody(),a.isAboveLine(1),w);if(d=o.findClosestClientRect(u.filter(x,a.isLine(1)),v))return l.renderRangeCaret(e,d.position.toRange());if(d=u.last(u.filter(x,a.isLine(0))))return l.renderRangeCaret(e,d.position.toRange())}},x=function(e){var n=e.dom.create(e.settings.forced_root_block);return(!t.ie||t.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},k=function(t,e,i){var o,a,s,l=new r(t.getBody()),c=d.curry(g,l.next),u=d.curry(g,l.prev);if(i.collapsed&&t.settings.forced_root_block){if(o=t.dom.getParent(i.startContainer,"PRE"),!o)return;a=1===e?c(n.fromRangeStart(i)):u(n.fromRangeStart(i)),a||(s=x(t),1===e?t.$(o).after(s):t.$(o).before(s),t.selection.select(s,!0),t.selection.collapse())}},C=function(t,e){var n,i=new r(t.getBody()),o=d.curry(g,i.next),a=d.curry(g,i.prev),s=e?1:-1,l=e?o:a,c=e?m:p,u=t.selection.getRng();return(n=_(s,t,l,c,u))?n:(n=k(t,s,u),n?n:null)},T=function(t,e){var n,i=e?1:-1,r=e?a.downUntil:a.upUntil,o=t.selection.getRng();return(n=w(i,t,r,o))?n:(n=k(t,i,o),n?n:null)},S=function(t,e){return function(){var n=C(t,e);return!!n&&(t.selection.setRng(n),!0)}},E=function(t,e){return function(){var n=T(t,e);return!!n&&(t.selection.setRng(n),!0)}};return{moveH:S,moveV:E}}),a("tinymce.core.keyboard.MatchKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Merger"],function(t,e,n){var i=function(i){return t.map(i,function(t){return n.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:e.noop},t)})},r=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},o=function(e,n){return t.bind(i(e),function(t){return r(t,n)?[t]:[]})},a=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}},s=function(e,n){return t.find(o(e,n),function(t){return t.action()})};return{match:o,action:a,execute:s}}),a("tinymce.core.keyboard.ArrowKeys",["ephox.sand.api.PlatformDetection","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.CefNavigation","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(t,e,n,i,r){var o=function(o,a,s){var l=t.detect().os;i.execute([{keyCode:r.RIGHT,action:n.moveH(o,!0)},{keyCode:r.LEFT,action:n.moveH(o,!1)},{keyCode:r.UP,action:n.moveV(o,!1)},{keyCode:r.DOWN,action:n.moveV(o,!0)},{keyCode:r.RIGHT,action:e.move(o,a,!0)},{keyCode:r.LEFT,action:e.move(o,a,!1)},{keyCode:r.RIGHT,ctrlKey:!l.isOSX(),altKey:l.isOSX(),action:e.moveNextWord(o,a)},{keyCode:r.LEFT,ctrlKey:!l.isOSX(),altKey:l.isOSX(),action:e.movePrevWord(o,a)}],s).each(function(){s.preventDefault()})},a=function(t,e){t.on("keydown",function(n){n.isDefaultPrevented()===!1&&o(t,e,n)})};return{setup:a}}),a("tinymce.core.delete.InlineFormatDelete",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteElement","tinymce.core.delete.DeleteUtils","tinymce.core.dom.ElementType","tinymce.core.dom.Parents","tinymce.core.fmt.CaretFormat"],function(t,e,n,i,r,o,a,s,l,c){var u=function(n,i){var r=l.parentsAndSelf(i,n);return t.findIndex(r,s.isBlock).fold(e.constant(r),function(t){return r.slice(0,t)})},d=function(t){return 1===i.children(t).length},h=function(n,i,r,a){var s=e.curry(c.isFormatElement,i),l=t.map(t.filter(a,s),function(t){return t.dom()});if(0===l.length)o.deleteElement(i,n,r);else{var u=c.replaceWithCaretFormat(r.dom(),l);i.selection.setRng(u.toRange())}},f=function(e,i){var o=n.fromDom(e.getBody()),s=n.fromDom(e.selection.getStart()),l=t.filter(u(o,s),d);return t.last(l).map(function(t){var n=r.fromRangeStart(e.selection.getRng());return!!a.willDeleteLastPositionInElement(i,n,t.dom())&&(h(i,e,t,l),!0)}).getOr(!1)},p=function(t,e){return!!t.selection.isCollapsed()&&f(t,e)};return{backspaceDelete:p}}),a("tinymce.core.keyboard.DeleteBackspaceKeys",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.delete.InlineFormatDelete","tinymce.core.delete.TableDelete","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(t,e,n,i,r,o,a,s){var l=function(l,c,u){a.execute([{keyCode:s.BACKSPACE,action:a.action(n.backspaceDelete,l,!1)},{keyCode:s.DELETE,action:a.action(n.backspaceDelete,l,!0)},{keyCode:s.BACKSPACE,action:a.action(i.backspaceDelete,l,c,!1)},{keyCode:s.DELETE,action:a.action(i.backspaceDelete,l,c,!0)},{keyCode:s.BACKSPACE,action:a.action(e.backspaceDelete,l,!1)},{keyCode:s.DELETE,action:a.action(e.backspaceDelete,l,!0)},{keyCode:s.BACKSPACE,action:a.action(t.backspaceDelete,l,!1)},{keyCode:s.DELETE,action:a.action(t.backspaceDelete,l,!0)},{keyCode:s.BACKSPACE,action:a.action(o.backspaceDelete,l,!1)},{keyCode:s.DELETE,action:a.action(o.backspaceDelete,l,!0)},{keyCode:s.BACKSPACE,action:a.action(r.backspaceDelete,l,!1)},{keyCode:s.DELETE,action:a.action(r.backspaceDelete,l,!0)}],u).each(function(){u.preventDefault()})},c=function(t,e){a.execute([{keyCode:s.BACKSPACE,action:a.action(n.paddEmptyElement,t)},{keyCode:s.DELETE,action:a.action(n.paddEmptyElement,t)}],e)},u=function(t,e){t.on("keydown",function(n){n.isDefaultPrevented()===!1&&l(t,e,n)}),t.on("keyup",function(e){e.isDefaultPrevented()===!1&&c(t,e)})};return{setup:u}}),a("tinymce.core.api.Settings",[],function(){var t=function(t,e,n){var i=t.getParam(e,n);if(i.indexOf("=")!==-1){var r=t.getParam(e,"","hash");return r.hasOwnProperty(t.id)?r[t.id]:n}return i},e=function(t){return t.getParam("iframe_attrs",{})},n=function(t){return t.getParam("doctype","<!DOCTYPE html>")},i=function(t){return t.getParam("document_base_url","")},r=function(e){return t(e,"body_id","tinymce")},o=function(e){return t(e,"body_class","")},a=function(t){return t.getParam("content_security_policy","")},s=function(t){return t.getParam("br_in_pre",!0)},l=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return e===!1?"":e},c=function(t){return t.getParam("forced_root_block_attrs",{})},u=function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},d=function(t){return t.getParam("no_newline_selector","")},h=function(t){return t.getParam("keep_styles",!0)},f=function(t){return t.getParam("end_container_on_empty_block",!1)};return{getIframeAttrs:e,getDocType:n,getDocumentBaseUrl:i,getBodyId:r,getBodyClass:o,getContentSecurityPolicy:a,shouldPutBrInPre:s,getForcedRootBlock:l,getForcedRootBlockAttrs:c,getBrNewLineSelector:u,getNoNewLineSelector:d,shouldKeepStyles:h,shouldEndContainerOnEmtpyBlock:f}}),a("tinymce.core.newline.NewLineUtils",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.dom.ElementType","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker"],function(t,e,n,i,r,o){var a=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},s=function(t,e){var n,i,s,l,c=e,u=t.dom,d=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var h=a(e.firstChild);h&&/^(UL|OL|DL)$/.test(h.nodeName)&&e.insertBefore(u.doc.createTextNode("\xa0"),e.firstChild)}if(s=u.createRng(),e.normalize(),e.hasChildNodes()){for(n=new o(e,e);i=n.current();){if(r.isText(i)){s.setStart(i,0),s.setEnd(i,0);break}if(d[i.nodeName.toLowerCase()]){s.setStartBefore(i),s.setEndBefore(i);break}c=i,i=n.next()}i||(s.setStart(c,0),s.setEnd(c,0))}else r.isBr(e)?e.nextSibling&&u.isBlock(e.nextSibling)?(s.setStartBefore(e),s.setEndBefore(e)):(s.setStartAfter(e),s.setEndAfter(e)):(s.setStart(e,0),s.setEnd(e,0));t.selection.setRng(s),u.remove(l),t.selection.scrollIntoView(e)}},l=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},c=function(t){return e.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},u=function(e){return c(e).fold(t.constant(""),function(t){return t.nodeName.toUpperCase()})},d=function(t){return c(t).filter(function(t){return i.isListItem(n.fromDom(t))}).isSome()};return{moveToCaretPosition:s,getEditableRoot:l,getParentBlock:c,getParentBlockName:u,isListItemParentBlock:d}}),a("tinymce.core.newline.InsertLi",["tinymce.core.dom.NodeType","tinymce.core.newline.NewLineUtils"],function(t,e){var n=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},i=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},r=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},o=function(t){return r(t)&&r(t.parentNode)},a=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},s=function(e,n,i){for(var r=e[i?"firstChild":"lastChild"];r&&!t.isElement(r);)r=r[i?"nextSibling":"previousSibling"];return r===n},l=function(t,r,l,c,u){var d=t.dom,h=t.selection.getRng();if(l!==t.getBody()){o(l)&&(u="LI");var f=u?r(u):d.create("BR");if(s(l,c,!0)&&s(l,c,!1))i(l,"LI")?d.insertAfter(f,a(l)):d.replace(f,l);else if(s(l,c,!0))i(l,"LI")?(d.insertAfter(f,a(l)),f.appendChild(d.doc.createTextNode(" ")),f.appendChild(l)):l.parentNode.insertBefore(f,l);else if(s(l,c,!1))d.insertAfter(f,a(l));else{l=a(l);var p=h.cloneRange();p.setStartAfter(c),p.setEndAfter(l);var m=p.extractContents();"LI"===u&&n(m,"LI")?(f=m.firstChild,d.insertAfter(m,l)):(d.insertAfter(m,l),d.insertAfter(f,l))}d.remove(c),e.moveToCaretPosition(t,f)}};return{insert:l}}),a("tinymce.core.newline.InsertBlock",["tinymce.core.api.Settings","tinymce.core.caret.CaretContainer","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker","tinymce.core.fmt.CaretFormat","tinymce.core.newline.InsertLi","tinymce.core.newline.NewLineUtils","tinymce.core.selection.NormalizeRange","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l,c){var u=function(t){return t&&"A"===t.nodeName&&0===c.trim(l.trim(t.innerText||t.textContent)).length},d=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},h=function(t){t.innerHTML='<br data-mce-bogus="1">'},f=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},p=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},m=function(t,e,i){var r,o=i,a=[];if(o){for(;o=o.firstChild;){if(t.isBlock(o))return;n.isElement(o)&&!e[o.nodeName.toLowerCase()]&&a.push(o)}for(r=a.length;r--;)o=a[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?t.remove(o):u(o)&&t.remove(o)}},g=function(t,e,i){return n.isText(e)===!1?i:t?1===i&&e.data.charAt(i-1)===l.ZWSP?0:i:i===e.data.length-1&&e.data.charAt(i)===l.ZWSP?e.data.length:i},v=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,g(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,g(!1,t.endContainer,t.endOffset)),e},y=function(t){do n.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},b=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},_=function(e,n){var i=t.getForcedRootBlock(e);i&&i.toLowerCase()===n.tagName.toLowerCase()&&e.dom.setAttribs(n,t.getForcedRootBlockAttrs(e))},w=function(t,e,n,i,r){var o,a,s,l,c,u,h=e||"P",f=t.dom,m=b(f,i);if(a=f.getParent(i,f.isBlock),!a||!p(f,a)){if(a=a||m,u=a===t.getBody()||d(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=f.create(h),_(t,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==a;)l=l.parentNode;for(;l&&!f.isBlock(l);)s=l,l=l.previousSibling;if(s&&t.schema.isValidChild(u,h.toLowerCase())){for(o=f.create(h),_(t,o),s.parentNode.insertBefore(o,s),l=s;l&&!f.isBlock(l);)c=l.nextSibling,o.appendChild(l),l=c;n.setStart(i,r),n.setEnd(i,r)}}return i},x=function(t,e){var n;e.normalize(),n=e.lastChild,n&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")},k=function(l,c){var u,d,k,C,T,S,E,O,A,M,P,D,j,N=l.dom,L=l.schema,I=L.getNonEmptyElements(),R=l.selection.getRng(),B=function(e){var n,i,o,a=k,s=L.getTextInlineElements();if(e||"TABLE"===M||"HR"===M?(n=N.create(e||D),_(l,n)):n=T.cloneNode(!1),o=n,t.shouldKeepStyles(l)===!1)N.setAttrib(n,"style",null),N.setAttrib(n,"class",null);else do if(s[a.nodeName]){if(r.isCaretNode(a))continue;i=a.cloneNode(!1),N.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(o=i,n.appendChild(i))}while((a=a.parentNode)&&a!==d);return h(o),n},F=function(t){var e,r,o,a;if(a=g(t,k,C),n.isText(k)&&(t?a>0:a<k.nodeValue.length))return!1;if(k.parentNode===T&&j&&!t)return!0;if(t&&n.isElement(k)&&k===T.firstChild)return!0;if(f(k,"TABLE")||f(k,"HR"))return j&&!t||!j&&t;for(e=new i(k,T),n.isText(k)&&(t&&0===a?e.prev():t||a!==k.nodeValue.length||e.next());r=e.current();){if(n.isElement(r)){if(!r.getAttribute("data-mce-bogus")&&(o=r.nodeName.toLowerCase(),I[o]&&"br"!==o))return!1}else if(n.isText(r)&&!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;t?e.prev():e.next()}return!0},$=function(){E=/^(H[1-6]|PRE|FIGURE)$/.test(M)&&"HGROUP"!==P?B(D):B(),t.shouldEndContainerOnEmtpyBlock(l)&&p(N,A)&&N.isEmpty(T)?E=N.split(A,T):N.insertAfter(E,T),a.moveToCaretPosition(l,E)};if(s.normalize(N,R).each(function(t){R.setStart(t.startContainer,t.startOffset),R.setEnd(t.endContainer,t.endOffset)}),k=R.startContainer,C=R.startOffset,D=t.getForcedRootBlock(l),S=c.shiftKey,n.isElement(k)&&k.hasChildNodes()&&(j=C>k.childNodes.length-1,k=k.childNodes[Math.min(C,k.childNodes.length-1)]||k,C=j&&n.isText(k)?k.nodeValue.length:0),d=b(N,k))return(D&&!S||!D&&S)&&(k=w(l,D,R,k,C)),T=N.getParent(k,N.isBlock),A=T?N.getParent(T.parentNode,N.isBlock):null,M=T?T.nodeName.toUpperCase():"",P=A?A.nodeName.toUpperCase():"","LI"!==P||c.ctrlKey||(T=A,A=A.parentNode,M=P),/^(LI|DT|DD)$/.test(M)&&N.isEmpty(T)?void o.insert(l,B,A,T,D):void(D&&T===l.getBody()||(D=D||"P",e.isCaretContainerBlock(T)?(E=e.showCaretContainerBlock(T),N.isEmpty(T)&&h(T),a.moveToCaretPosition(l,E)):F()?$():F(!0)?(E=T.parentNode.insertBefore(B(),T),a.moveToCaretPosition(l,f(T,"HR")?E:T)):(u=v(R).cloneRange(),u.setEndAfter(T),O=u.extractContents(),y(O),E=O.firstChild,N.insertAfter(O,T),m(N,I,E),x(N,T),N.isEmpty(T)&&h(T),E.normalize(),N.isEmpty(E)?(N.remove(E),$()):a.moveToCaretPosition(l,E)),N.setAttrib(E,"id",""),l.fire("NewBlock",{newBlock:E})))};return{insert:k}}),a("tinymce.core.newline.ContextSelectors",["ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","tinymce.core.api.Settings","tinymce.core.newline.NewLineUtils"],function(t,e,n,i){var r=function(n,r){return i.getParentBlock(n).filter(function(n){return r.length>0&&e.is(t.fromDom(n),r)}).isSome()},o=function(t){return r(t,n.getBrNewLineSelector(t))},a=function(t){return r(t,n.getNoNewLineSelector(t))};return{shouldInsertBr:o,shouldBlockNewLine:a}}),a("tinymce.core.newline.NewLineAction",["ephox.katamari.api.Adt","ephox.katamari.api.Arr","ephox.katamari.api.Option","tinymce.core.api.Settings","tinymce.core.newline.ContextSelectors","tinymce.core.newline.NewLineUtils","tinymce.core.util.LazyEvaluator"],function(t,e,n,i,r,o,a){var s=t.generate([{br:[]},{block:[]},{none:[]}]),l=function(t){return r.shouldBlockNewLine(t)},c=function(t){return function(e){var n=""===i.getForcedRootBlock(e);return n===t}},u=function(t){return function(e){return o.isListItemParentBlock(e)===t}},d=function(t){return function(e){var n="PRE"===o.getParentBlockName(e);return n===t}},h=function(t){return function(e){return i.shouldPutBrInPre(e)===t}},f=function(t){return r.shouldInsertBr(t)},p=function(t,e){return e},m=function(t){var e=i.getForcedRootBlock(t),n=o.getEditableRoot(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e?e:"P")},g=function(t,i){return function(r,o){var a=e.foldl(t,function(t,e){return t&&e(r,o)},!0);return a?n.some(i):n.none()}},v=function(t,e){return a.evaluateUntil([g([l],s.none()),g([d(!0),h(!1),p],s.br()),g([d(!0),h(!1)],s.block()),g([d(!0),h(!0),p],s.block()),g([d(!0),h(!0)],s.br()),g([u(!0),p],s.br()),g([u(!0)],s.block()),g([c(!0),p,m],s.block()),g([c(!0)],s.br()),g([f],s.br()),g([c(!1),p],s.br()),g([m],s.block())],[t,e.shiftKey]).getOr(s.none())};return{getAction:v}}),a("tinymce.core.newline.InsertNewLine",["ephox.katamari.api.Fun","tinymce.core.newline.InsertBlock","tinymce.core.newline.InsertBr","tinymce.core.newline.NewLineAction"],function(t,e,n,i){var r=function(r,o){i.getAction(r,o).fold(function(){n.insert(r,o)},function(){e.insert(r,o)},t.noop)};return{insert:r}}),a("tinymce.core.keyboard.EnterKey",["tinymce.core.newline.InsertNewLine","tinymce.core.util.VK"],function(t,e){var n=function(t){t.typing&&(t.typing=!1,t.add())},i=function(e,i){i.isDefaultPrevented()||(i.preventDefault(),n(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),t.insert(e,i)}))},r=function(t){t.on("keydown",function(n){n.keyCode===e.ENTER&&i(t,n)})};return{setup:r}}),a("tinymce.core.keyboard.InsertSpace",["ephox.katamari.api.Fun","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils"],function(t,e,n,i,r){var o=function(t,e){
return c(t)&&n.isText(e.container())},a=function(t,e){var n=e.container(),i=e.offset();n.insertData(i,"\xa0"),t.selection.setCursorLocation(n,i+1)},s=function(t,e,n){return!!o(n,e)&&(a(t,e),!0)},l=function(n){var o=t.curry(r.isInlineTarget,n),a=e.fromRangeStart(n.selection.getRng()),l=i.readLocation(o,n.getBody(),a);return l.map(t.curry(s,n,a)).getOr(!1)},c=function(e){return e.fold(t.constant(!1),t.constant(!0),t.constant(!0),t.constant(!1))},u=function(t){return!!t.selection.isCollapsed()&&l(t)};return{insertAtSelection:u}}),a("tinymce.core.keyboard.SpaceKey",["tinymce.core.keyboard.InsertSpace","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(t,e,n){var i=function(i,r){e.execute([{keyCode:n.SPACEBAR,action:e.action(t.insertAtSelection,i)}],r).each(function(){r.preventDefault()})},r=function(t){t.on("keydown",function(e){e.isDefaultPrevented()===!1&&i(t,e)})};return{setup:r}}),a("tinymce.core.keyboard.KeyboardOverrides",["tinymce.core.keyboard.ArrowKeys","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.DeleteBackspaceKeys","tinymce.core.keyboard.EnterKey","tinymce.core.keyboard.SpaceKey"],function(t,e,n,i,r){var o=function(o){var a=e.setupSelectedState(o);t.setup(o,a),n.setup(o,a),i.setup(o),r.setup(o)};return{setup:o}}),a("tinymce.core.util.Quirks",["global!document","global!window","tinymce.core.Env","tinymce.core.caret.CaretContainer","tinymce.core.selection.CaretRangeFromPoint","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK"],function(t,e,n,i,r,o,a,s){return function(l){var c=a.each,u=s.BACKSPACE,d=s.DELETE,h=l.dom,f=l.selection,p=l.settings,m=l.parser,g=n.gecko,v=n.ie,y=n.webkit,b="data:text/mce-internal,",_=v?"Text":"URL",w=function(t,e){try{l.getDoc().execCommand(t,!1,e)}catch(t){}},x=function(t){return t.isDefaultPrevented()},k=function(t){var e,n;t.dataTransfer&&(l.selection.isCollapsed()&&"IMG"==t.target.tagName&&f.select(t.target),e=l.selection.getContent(),e.length>0&&(n=b+escape(l.id)+","+escape(e),t.dataTransfer.setData(_,n)))},C=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(_),e&&e.indexOf(b)>=0)?(e=e.substr(b.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},T=function(t,e){l.queryCommandSupported("mceInsertClipboardContent")?l.execCommand("mceInsertClipboardContent",!1,{content:t,internal:e}):l.execCommand("mceInsertContent",!1,t)},S=function(){var t=function(t){var e=h.create("body"),n=t.cloneContents();return e.appendChild(n),f.serializer.serialize(e,{format:"html"})},e=function(e){var n=t(e),i=h.createRng();i.selectNode(l.getBody());var r=t(i);return n===r};l.on("keydown",function(t){var n,i,r=t.keyCode;if(!x(t)&&(r==d||r==u)){if(n=l.selection.isCollapsed(),i=l.getBody(),n&&!h.isEmpty(i))return;if(!n&&!e(l.selection.getRng()))return;t.preventDefault(),l.setContent(""),i.firstChild&&h.isBlock(i.firstChild)?l.selection.setCursorLocation(i.firstChild,0):l.selection.setCursorLocation(i,0),l.nodeChanged()}})},E=function(){l.shortcuts.add("meta+a",null,"SelectAll")},O=function(){l.settings.content_editable||h.bind(l.getDoc(),"mousedown mouseup",function(t){var e;if(t.target==l.getDoc().documentElement)if(e=f.getRng(),l.getBody().focus(),"mousedown"==t.type){if(i.isCaretContainer(e.startContainer))return;f.placeCaretAt(t.clientX,t.clientY)}else f.setRng(e)})},A=function(){l.on("keydown",function(t){if(!x(t)&&t.keyCode===u){if(!l.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&0===f.getRng(!0).startOffset){var e=f.getNode(),n=e.previousSibling;if("HR"==e.nodeName)return h.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(h.remove(n),t.preventDefault())}}})},M=function(){e.Range.prototype.getClientRects||l.on("mousedown",function(t){if(!x(t)&&"HTML"===t.target.nodeName){var e=l.getBody();e.blur(),o.setEditorTimeout(l,function(){e.focus()})}})},P=function(){l.on("click",function(t){var e=t.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==h.getContentEditableParent(e)&&(t.preventDefault(),l.selection.select(e),l.nodeChanged()),"A"==e.nodeName&&h.hasClass(e,"mce-item-anchor")&&(t.preventDefault(),f.select(e))})},D=function(){var t=function(){var t=h.getAttribs(f.getStart().cloneNode(!1));return function(){var e=f.getStart();e!==l.getBody()&&(h.setAttrib(e,"style",null),c(t,function(t){e.setAttributeNode(t.cloneNode(!0))}))}},e=function(){return!f.isCollapsed()&&h.getParent(f.getStart(),h.isBlock)!=h.getParent(f.getEnd(),h.isBlock)};l.on("keypress",function(n){var i;if(!x(n)&&(8==n.keyCode||46==n.keyCode)&&e())return i=t(),l.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1}),h.bind(l.getDoc(),"cut",function(n){var i;!x(n)&&e()&&(i=t(),o.setEditorTimeout(l,function(){i()}))})},j=function(){l.on("keydown",function(t){if(!x(t)&&t.keyCode===u&&f.isCollapsed()&&0===f.getRng(!0).startOffset){var e=f.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})},N=function(){l.on("keydown",function(t){var e,n,i,r,o;if(!x(t)&&t.keyCode==s.BACKSPACE&&(e=f.getRng(),n=e.startContainer,i=e.startOffset,r=h.getRoot(),o=n,e.collapsed&&0===i)){for(;o&&o.parentNode&&o.parentNode.firstChild==o&&o.parentNode!=r;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(l.formatter.toggle("blockquote",null,o),e=h.createRng(),e.setStart(n,0),e.setEnd(n,0),f.setRng(e))}})},L=function(){var t=function(){q(),w("StyleWithCSS",!1),w("enableInlineTableEditing",!1),p.object_resizing||w("enableObjectResizing",!1)};p.readonly||l.on("BeforeExecCommand MouseDown",t)},I=function(){var t=function(){c(h.select("a"),function(t){var e=t.parentNode,n=h.getRoot();if(e.lastChild===t){for(;e&&!h.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}h.add(e,"br",{"data-mce-bogus":1})}})};l.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||t()})},R=function(){p.forced_root_block&&l.on("init",function(){w("DefaultParagraphSeparator",p.forced_root_block)})},B=function(){l.on("keyup focusin mouseup",function(t){s.modifierPressed(t)||f.normalize()},!0)},F=function(){l.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},$=function(){l.inline||l.on("keydown",function(){t.activeElement==t.body&&l.getWin().focus()})},z=function(){l.inline||(l.contentStyles.push("body {min-height: 150px}"),l.on("click",function(t){var e;if("HTML"==t.target.nodeName){if(n.ie>11)return void l.getBody().focus();e=l.selection.getRng(),l.getBody().focus(),l.selection.setRng(e),l.selection.normalize(),l.nodeChanged()}}))},U=function(){n.mac&&l.on("keydown",function(t){!s.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),l.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))})},H=function(){w("AutoUrlDetect",!1)},W=function(){l.on("click",function(t){var e=t.target;do if("A"===e.tagName)return void t.preventDefault();while(e=e.parentNode)}),l.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Y=function(){l.on("init",function(){l.dom.bind(l.getBody(),"submit",function(t){t.preventDefault()})})},V=function(){m.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"==t[e].attr("class")&&t[e].remove()})},G=function(){l.on("dragstart",function(t){k(t)}),l.on("drop",function(t){if(!x(t)){var e=C(t);if(e&&e.id!=l.id){t.preventDefault();var n=r.fromPoint(t.x,t.y,l.getDoc());f.setRng(n),T(e.html,!0)}}})},q=function(){},X=function(){var t;return!g||l.removed?0:(t=l.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount)};return N(),S(),n.windowsPhone||B(),y&&(O(),P(),R(),Y(),j(),V(),n.iOS?($(),z(),W()):E()),n.ie>=11&&(z(),j()),n.ie&&(E(),H(),G()),g&&(A(),M(),D(),L(),I(),F(),U(),j()),{refreshContentEditable:q,isHidden:X}}}),a("tinymce.core.init.InitContentBody",["ephox.sugar.api.dom.Insert","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","global!document","global!window","tinymce.core.EditorUpload","tinymce.core.ForceBlocks","tinymce.core.NodeChange","tinymce.core.SelectionOverrides","tinymce.core.UndoManager","tinymce.core.api.Formatter","tinymce.core.api.dom.Serializer","tinymce.core.caret.CaretContainerInput","tinymce.core.dom.DOMUtils","tinymce.core.dom.Selection","tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.keyboard.KeyboardOverrides","tinymce.core.util.Delay","tinymce.core.util.Quirks","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,_,w){var x=f.DOM,k=function(i,r){var o=e.fromDom(i.getDoc().head),a=e.fromTag("style");n.set(a,"type","text/css"),t.append(a,e.fromText(r)),t.append(o,a)},C=function(t){var e=new m(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",function(e,n){for(var i,r,o,a=e.length,s=t.dom;a--;)if(i=e[a],r=i.attr(n),o="data-mce-"+n,!i.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?(r=s.serializeStyle(s.parseStyle(r),i.name),r.length||(r=null),i.attr(o,r),i.attr(n,r)):"tabindex"===n?(i.attr(o,r),i.attr(n,null)):i.attr(o,t.convertURL(r,n,i.name))}}),e.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.attr("type")||"no/type",0!==n.indexOf("mce-")&&e.attr("type","mce-"+n)}),e.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)e=t[n],e.type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var n,i=e.length,r=t.schema.getNonEmptyElements();i--;)n=e[i],n.isEmpty(r)&&0===n.getAll("br").length&&(n.append(new g("br",1)).shortEnded=!0)}),e},T=function(t){t.settings.auto_focus&&b.setEditorTimeout(t,function(){var e;e=t.settings.auto_focus===!0?t:t.editorManager.get(t.settings.auto_focus),e.destroyed||e.focus()},100)},S=function(t){t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),T(t)},E=function(t){return t.inline?x.styleSheetLoader:t.dom.styleSheetLoader},O=function(t,e){var n,m,g=t.settings,b=t.getElement(),T=t.getDoc();g.inline||(t.getElement().style.visibility=t.orgVisibility),e||g.content_editable||(T.open(),T.write(t.iframeHTML),T.close()),g.content_editable&&(t.on("remove",function(){var t=this.getBody();x.removeClass(t,"mce-content-body"),x.removeClass(t,"mce-edit-focus"),x.setAttrib(t,"contentEditable",null)}),x.addClass(b,"mce-content-body"),t.contentDocument=T=g.content_document||i,t.contentWindow=g.content_window||r,t.bodyElement=b,g.content_document=g.content_window=null,g.root_name=b.nodeName.toLowerCase()),n=t.getBody(),n.disabled=!0,t.readonly=g.readonly,t.readonly||(t.inline&&"static"===x.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=t.getParam("content_editable_state",!0)),n.disabled=!1,t.editorUpload=new o(t),t.schema=new v(g),t.dom=new f(T,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:g.content_editable,schema:t.schema,onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=C(t),t.serializer=new d(g,t),t.selection=new p(t.dom,t.getWin(),t.serializer,t),t.formatter=new u(t),t.undoManager=new c(t),t._nodeChangeDispatcher=new s(t),t._selectionOverrides=new l(t),h.setup(t),y.setup(t),a.setup(t),t.fire("PreInit"),g.browser_spellcheck||g.gecko_spellcheck||(T.body.spellcheck=!1,x.setAttrib(n,"spellcheck","false")),t.quirks=new _(t),t.fire("PostRender"),g.directionality&&(n.dir=g.directionality),g.nowrap&&(n.style.whiteSpace="nowrap"),g.protect&&t.on("BeforeSetContent",function(t){w.each(g.protect,function(e){t.content=t.content.replace(e,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),g.padd_empty_editor&&t.on("PostProcess",function(t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),t.contentStyles.length>0&&(m="",w.each(t.contentStyles,function(t){m+=t+"\r\n"}),t.dom.addStyle(m)),E(t).loadAll(t.contentCSS,function(){S(t)},function(){S(t)}),g.content_style&&k(t,g.content_style)};return{initContentBody:O}}),a("tinymce.core.init.InitIframe",["ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Css","global!document","global!window","tinymce.core.Env","tinymce.core.api.Settings","tinymce.core.dom.DOMUtils","tinymce.core.init.InitContentBody","tinymce.core.util.Uuid"],function(t,e,n,i,r,o,a,s,l,c){var u=s.DOM,d=function(t,e){if(i.domain!==r.location.hostname&&o.ie&&o.ie<12){var n=c.uuid("mce");t[n]=function(){l.initContentBody(t)};var a='javascript:(function(){document.open();document.domain="'+i.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return u.setAttrib(e,"src",a),!0}return!1},h=function(t){var e="number"==typeof t?t+"px":t;return e?e:""},f=function(i,r,o,a){var s=t.fromTag("iframe");return e.setAll(s,a),e.setAll(s,{id:i+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),n.setAll(s,{width:"100%",height:h(o),display:"block"}),s},p=function(t){var e,n,i;return i=a.getDocType(t)+"<html><head>",a.getDocumentBaseUrl(t)!==t.documentBaseUrl&&(i+='<base href="'+t.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=a.getBodyId(t),n=a.getBodyClass(t),a.getContentSecurityPolicy(t)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+a.getContentSecurityPolicy(t)+'" />'),i+='</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'},m=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),i=f(t.id,n,e.height,a.getIframeAttrs(t)).dom();i.onload=function(){i.onload=null,t.fire("load")};var r=d(t,i);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=i,t.iframeHTML=p(t),u.add(e.iframeContainer,i),r},g=function(t,e){var n=m(t,e);e.editorContainer&&(u.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=u.isHidden(e.editorContainer)),t.getElement().style.display="none",u.setAttrib(t.id,"aria-hidden",!0),n||l.initContentBody(t)};return{init:g}}),a("tinymce.core.init.Init",["ephox.katamari.api.Type","global!document","global!window","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.dom.DOMUtils","tinymce.core.init.InitContentBody","tinymce.core.init.InitIframe","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l){var c=o.DOM,u=function(t,e,n){var r,o,a=i.get(n);if(r=i.urls[n]||t.documentBaseUrl.replace(/\/$/,""),n=l.trim(n),a&&l.inArray(e,n)===-1){if(l.each(i.dependencies(n),function(n){u(t,e,n)}),t.plugins[n])return;o=new a(t,r,t.$),t.plugins[n]=o,o.init&&(o.init(t,r),e.push(n))}},d=function(t){return t.replace(/^\-/,"")},h=function(t){var e=[];l.each(t.settings.plugins.split(/[ ,]/),function(n){u(t,e,d(n))})},f=function(e){var n,i=e.settings.theme;t.isString(i)?(e.settings.theme=d(i),n=r.get(i),e.theme=new n(e,r.urls[i]),e.theme.init&&e.theme.init(e,r.urls[i]||e.documentBaseUrl.replace(/\/$/,""),e.$)):e.theme={}},p=function(t){var e,n,i,r,o,a=t.settings,s=t.getElement();return e=a.width||c.getStyle(s,"width")||"100%",n=a.height||c.getStyle(s,"height")||s.offsetHeight,i=a.min_height||100,r=/^[0-9\.]+(|px)$/i,r.test(""+e)&&(e=Math.max(parseInt(e,10),100)),r.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=t.theme.renderUI({targetNode:s,width:e,height:n,deltaWidth:a.delta_width,deltaHeight:a.delta_height}),a.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),n<i&&(n=i)),o.height=n,o},m=function(t){var e,n=t.getElement();return e=t.settings.theme(t,n),e.editorContainer.nodeType&&(e.editorContainer.id=e.editorContainer.id||t.id+"_parent"),e.iframeContainer&&e.iframeContainer.nodeType&&(e.iframeContainer.id=e.iframeContainer.id||t.id+"_iframecontainer"),e.height=e.iframeHeight?e.iframeHeight:n.offsetHeight,e},g=function(t){return{editorContainer:t,iframeContainer:t}},v=function(t){var e=c.create("div");return c.insertAfter(e,t),g(e)},y=function(t){var e=t.getElement();return t.inline?g(null):v(e)},b=function(e){var n=e.settings,i=e.getElement();return e.orgDisplay=i.style.display,t.isString(n.theme)?p(e):t.isFunction(n.theme)?m(e):y(e)},_=function(t){var e,n=t.settings,i=t.getElement();return t.rtl=n.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||c.getAttrib(i,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),f(t),h(t),e=b(t),t.editorContainer=e.editorContainer?e.editorContainer:null,n.content_css&&l.each(l.explode(n.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),n.content_editable?a.initContentBody(t):s.init(t,e)};return{init:_}}),a("tinymce.core.init.Render",["ephox.katamari.api.Type","global!window","tinymce.core.api.NotificationManager","tinymce.core.api.WindowManager","tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.init.Init","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools"],function(t,e,n,i,r,o,a,s,l,c,u,d,h){var f=r.DOM,p=function(t){return"-"===t.charAt(0)},m=function(t,e){var n=e.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=e.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!e.editorManager.i18n.data[n.language]&&t.add(n.language_url)},g=function(e,n,i,r){var o=n.settings,a=o.theme;if(t.isString(a)){if(!p(a)&&!d.urls.hasOwnProperty(a)){var s=o.theme_url;s?d.load(a,n.documentBaseURI.toAbsolute(s)):d.load(a,"themes/"+a+"/theme"+i+".js")}e.loadQueue(function(){d.waitFor(a,r)})}else r()},v=function(t,e){h.isArray(t.plugins)&&(t.plugins=t.plugins.join(" ")),h.each(t.external_plugins,function(e,n){u.load(n,e),t.plugins+=" "+n}),h.each(t.plugins.split(/[ ,]/),function(t){if(t=h.trim(t),t&&!u.urls[t])if(p(t)){t=t.substr(1,t.length);var n=u.dependencies(t);h.each(n,function(t){var n={prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"};t=u.createUrl(n,t),u.load(t.resource,t)})}else u.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"})})},y=function(t,e){var n=a.ScriptLoader;g(n,t,e,function(){m(n,t),v(t.settings,e),n.loadQueue(function(){t.removed||c.init(t)},t,function(e){l.pluginLoadError(t,e[0]),t.removed||c.init(t)})})},b=function(t){var r=t.settings,a=t.id,l=function(){f.unbind(e,"ready",l),t.render()};if(!o.Event.domLoaded)return void f.bind(e,"ready",l);if(t.getElement()&&s.contentEditable){r.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var c=t.getElement().form||f.getParent(a,"form");c&&(t.formElement=c,r.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(f.insertAfter(f.create("input",{type:"hidden",name:a}),a),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},f.bind(c,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!r.submit_patch||c.submit.nodeType||c.submit.length||c._mceOldSubmit||(c._mceOldSubmit=c.submit,c.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),c._mceOldSubmit(c)})),t.windowManager=new i(t),t.notificationManager=new n(t),"xml"===r.encoding&&t.on("GetContent",function(t){t.save&&(t.content=f.encode(t.content))}),r.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),r.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),y(t,t.suffix)}};return{render:b}}),a("tinymce.core.ui.Sidebar",[],function(){var t=function(t,e,n){var i=t.sidebars?t.sidebars:[];i.push({name:e,settings:n}),t.sidebars=i};return{add:t}}),a("tinymce.core.util.URI",["global!document","tinymce.core.util.Tools"],function(t,e){var n=e.each,i=e.trim,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25},a=function(e,o){var s,l,c=this;if(e=i(e),o=c.settings=o||{},s=o.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(c.source=e);var u=0===e.indexOf("//");0!==e.indexOf("/")||u||(e=(s?s.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(l=o.base_uri?o.base_uri.path:new a(t.location.href).directory,""===o.base_uri.protocol?e="//mce_host"+c.toAbsPath(l,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(s&&s.protocol||"http")+"://mce_host"+c.toAbsPath(l,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(r,function(t,n){var i=e[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),c[t]=i}),s&&(c.protocol||(c.protocol=s.protocol),c.userInfo||(c.userInfo=s.userInfo),c.port||"mce_host"!==c.host||(c.port=s.port),c.host&&"mce_host"!==c.host||(c.host=s.host),c.source=""),u&&(c.protocol="")};return a.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var e,n=this;if("./"===t)return t;if(t=new a(t,{base_uri:n}),"mce_host"!=t.host&&n.host!=t.host&&t.host||n.port!=t.port||n.protocol!=t.protocol&&""!==t.protocol)return t.getURI();var i=n.getURI(),r=t.getURI();return i==r||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==r?i:(e=n.toRelPath(n.path,t.path),t.query&&(e+="?"+t.query),t.anchor&&(e+="#"+t.anchor),e)},toAbsolute:function(t,e){return t=new a(t,{base_uri:this}),t.getURI(e&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=o[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,r,o=0,a="";if(t=t.substring(0,t.lastIndexOf("/")),t=t.split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;i<r;i++)if(i>=n.length||t[i]!=n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=t.length||t[i]!=n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(t,e){var i,r,o,a=0,s=[];for(r=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),n(t,function(t){t&&s.push(t)}),t=s,i=e.length-1,s=[];i>=0;i--)0!==e[i].length&&"."!==e[i]&&(".."!==e[i]?a>0?a--:s.push(e[i]):a++);return i=t.length-a,o=i<=0?s.reverse().join("/"):t.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(t){var e,n=this;return n.source&&!t||(e="",t||(e+=n.protocol?n.protocol+"://":"//",n.userInfo&&(e+=n.userInfo+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port)),n.path&&(e+=n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),n.source=e),n.source}},a.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),n=/data:([^;]+)/.exec(t[0]),n&&(e=n[1]),{type:e,data:t[1]}},a.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},a}),a("tinymce.core.Editor",["tinymce.core.AddOnManager","tinymce.core.EditorCommands","tinymce.core.EditorObservable","tinymce.core.EditorSettings","tinymce.core.Env","tinymce.core.Mode","tinymce.core.Shortcuts","tinymce.core.dom.DOMUtils","tinymce.core.dom.DomQuery","tinymce.core.dom.TrimHtml","tinymce.core.focus.EditorFocus","tinymce.core.html.Serializer","tinymce.core.init.Render","tinymce.core.ui.Sidebar","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.Uuid"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g){var v=s.DOM,y=p.extend,b=p.each,_=p.trim,w=p.resolve,x=r.ie,k=function(n,o,s){var c,u,d=this;c=d.documentBaseUrl=s.documentBaseURL,u=s.baseURI,o=i.getEditorSettings(d,n,c,s.defaultSettings,o),d.settings=o,t.language=o.language||"en",t.languageLoad=o.language_load,t.baseURL=s.baseURL,d.id=n,d.setDirty(!1),d.plugins={},d.documentBaseURI=new m(o.document_base_url,{base_uri:u}),d.baseURI=u,d.contentCSS=[],d.contentStyles=[],d.shortcuts=new a(d),d.loadedCSS={},d.editorCommands=new e(d),d.suffix=s.suffix,d.editorManager=s,d.inline=o.inline,d.buttons={},d.menuItems={},o.cache_suffix&&(r.cacheSuffix=o.cache_suffix.replace(/^[\?\&]+/,"")),o.override_viewport===!1&&(r.overrideViewPort=!1),s.fire("SetupEditor",d),d.execCallback("setup",d),d.$=l.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})};return k.prototype={render:function(){h.render(this)},focus:function(t){u.focus(this,t)},execCallback:function(t){var e,n=this,i=n.settings[t];if(i)return n.callbackLookup&&(e=n.callbackLookup[t])&&(i=e.func,e=e.scope),"string"==typeof i&&(e=i.replace(/\.\w+$/,""),e=e?w(e):0,i=w(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[t]={func:i,scope:e}),i.apply(e||n,Array.prototype.slice.call(arguments,1))},translate:function(t){if(t&&p.is(t,"string")){var e=this.settings.language||"en",n=this.editorManager.i18n;t=n.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,i){return n.data[e+"."+i]||"{#"+i+"}"})}return this.editorManager.translate(t)},getLang:function(t,e){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(void 0!==e?e:"{#"+t+"}")},getParam:function(t,e,n){var i,r=t in this.settings?this.settings[t]:e;return"hash"===n?(i={},"string"==typeof r?b(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(t){t=t.split("="),t.length>1?i[_(t[0])]=_(t[1]):i[_(t[0])]=_(t)}):i=r,i):r},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.stateSelector&&"undefined"==typeof e.active&&(e.active=!1),e.text||e.icon||(e.icon=t),n.buttons=n.buttons,e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addSidebar:function(t,e){return f.add(this,t,e)},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems=n.menuItems,n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({id:g.uuid("mcet"),predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(v.show(t.getContainer()),v.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,e=t.getDoc();t.hidden||(x&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t==t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(v.hide(t.getContainer()),v.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var e,n=this,i=n.getElement();return n.removed?"":i?(t=t||{},t.load=!0,e=n.setContent(void 0!==i.value?i.value:i.innerHTML,t),t.element=i,t.no_events||n.fire("LoadContent",t),t.element=i=null,e):void 0},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return t=t||{},t.save=!0,t.element=r,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"==t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(i.inline||(r.innerHTML=e),(n=v.getParent(i.id,"form"))&&b(n.elements,function(t){if(t.name==i.id)return t.value=e,!1})),t.element=r=null,t.set_dirty!==!1&&i.setDirty(!1),e},setContent:function(t,e){var n,i,r=this,o=r.getBody();return e=e||{},e.format=e.format||"html",e.set=!0,e.content=t,e.no_events||r.fire("BeforeSetContent",e),t=e.content,0===t.length||/^\s+$/.test(t)?(i=x&&x<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?t="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(t="<li>"+i+"</li>"),n=r.settings.forced_root_block,n&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(t=i,t=r.dom.createHTML(n,r.settings.forced_root_block_attrs,t)):x||t||(t='<br data-mce-bogus="1">'),r.dom.setHTML(o,t),r.fire("SetContent",e)):("raw"!==e.format&&(t=new d({validate:r.validate},r.schema).serialize(r.parser.parse(t,{isRootContent:!0,insert:!0}))),e.content=_(t),r.dom.setHTML(o,e.content),e.no_events||r.fire("SetContent",e)),e.content},getContent:function(t){var e,n=this,i=n.getBody();if(n.removed)return"";if(t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||n.fire("BeforeGetContent",t),"raw"===t.format)e=p.trim(c.trimExternal(n.serializer,i.innerHTML));else if("text"===t.format)e=i.innerText||i.textContent;else{if("tree"===t.format)return n.serializer.serialize(i,t);e=n.serializer.serialize(i,t)}return"text"!==t.format?t.content=_(e):t.content=e,t.no_events||n.fire("GetContent",t),t.content},insertContent:function(t,e){e&&(t=y({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!=e&&this.fire("dirty")},setMode:function(t){o.setMode(this,t)},getContainer:function(){var t=this;return t.container||(t.container=v.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=v.get(this.id)),this.targetElm},getWin:function(){var t,e=this;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},convertURL:function(t,e,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"==n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,r.remove_script_host)},addVisual:function(t){var e,n=this,i=n.settings,r=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),b(r.select("table,a",t),function(t){var o;switch(t.nodeName){case"TABLE":return e=i.visual_table_class||"mce-item-table",o=r.getAttrib(t,"border"),void(o&&"0"!=o||!n.hasVisual?r.removeClass(t,e):r.addClass(t,e));case"A":return void(r.getAttrib(t,"href",!1)||(o=r.getAttrib(t,"name")||t.id,e=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(t,e):r.removeClass(t,e)))}}),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},remove:function(){var t=this;t.removed||(t.save(),t.removed=1,t.unbindAllNativeEvents(),t.hasHiddenInput&&v.remove(t.getElement().nextSibling),t.inline||(x&&x<10&&t.getDoc().execCommand("SelectAll",!1,null),v.setStyle(t.id,"display",t.orgDisplay),t.getBody().onload=null),t.fire("remove"),t.editorManager.remove(t),v.remove(t.getContainer()),t._selectionOverrides.destroy(),t.editorUpload.destroy(),t.destroy())},destroy:function(t){var e,n=this;if(!n.destroyed){if(!t&&!n.removed)return void n.remove();t||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),e=n.formElement,e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),v.unbind(e,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),
n.destroyed=1}},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},y(k.prototype,n),k}),a("tinymce.core.api.FocusManager",["global!document"],function(){var t=function(t){return t.className.toString().indexOf("mce-")!==-1};return{isEditorUIElement:t}}),a("tinymce.core.selection.SelectionRestore",["ephox.katamari.api.Throttler","ephox.sand.api.PlatformDetection","global!document","tinymce.core.dom.DOMUtils","tinymce.core.selection.SelectionBookmark"],function(t,e,n,i,r){var o=function(t){return"nodechange"===t.type&&t.selectionChange},a=function(t,e){var r=function(){e.throttle()};i.DOM.bind(n,"mouseup",r),t.on("remove",function(){i.DOM.unbind(n,"mouseup",r)})},s=function(t){t.on("focusout",function(){r.store(t)})},l=function(t,e){t.on("mouseup touchend",function(){e.throttle()})},c=function(t,n){var i=e.detect().browser;i.isIE()||i.isEdge()?s(t):l(t,n),t.on("keyup nodechange",function(e){o(e)||r.store(t)})},u=function(e){var n=t.first(function(){r.store(e)},0);e.inline&&a(e,n),e.on("init",function(){c(e,n)}),e.on("remove",function(){n.cancel()})};return{register:u}}),a("tinymce.core.focus.FocusController",["ephox.katamari.api.Fun","global!document","tinymce.core.api.FocusManager","tinymce.core.dom.DOMUtils","tinymce.core.selection.SelectionRestore","tinymce.core.util.Delay"],function(t,e,n,i,r,o){var a,s=i.DOM,l=function(t){return n.isEditorUIElement(t)},c=function(t,e){var n=t?t.settings.custom_ui_selector:"",i=s.getParent(e,function(e){return l(e)||!!n&&t.dom.is(e,n)});return null!==i},u=function(){try{return e.activeElement}catch(t){return e.body}},d=function(t,n){var i=n.editor;r.register(i),i.on("focusin",function(){var e=t.focusedEditor;e!=i&&(e&&e.fire("blur",{focusedEditor:i}),t.setActive(i),t.focusedEditor=i,i.fire("focus",{blurredEditor:e}),i.focus(!0))}),i.on("focusout",function(){o.setEditorTimeout(i,function(){var e=t.focusedEditor;c(i,u())||e!=i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),a||(a=function(n){var i,r=t.activeEditor;i=n.target,r&&i.ownerDocument===e&&(i===e.body||c(r,i)||t.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},s.bind(e,"focusin",a))},h=function(t,n){t.focusedEditor==n.editor&&(t.focusedEditor=null),t.activeEditor||(s.unbind(e,"focusin",a),a=null)},f=function(e){e.on("AddEditor",t.curry(d,e)),e.on("RemoveEditor",t.curry(h,e))};return{setup:f,isEditorUIElement:l,isUIElement:c}}),a("tinymce.core.util.I18n",["tinymce.core.util.Tools"],function(t){"use strict";var e={},n="en";return{setCode:function(t){t&&(n=t,this.rtl=!!this.data[t]&&"rtl"===this.data[t]._dir)},getCode:function(){return n},rtl:!1,add:function(t,n){var i=e[t];i||(e[t]=i={});for(var r in n)i[r]=n[r];this.setCode(t)},translate:function(i){var r=e[n]||{},o=function(e){return t.is(e,"function")?Object.prototype.toString.call(e):a(e)?"":""+e},a=function(e){return""===e||null===e||t.is(e,"undefined")},s=function(e){return e=o(e),t.hasOwn(r,e)?o(r[e]):e};if(a(i))return"";if(t.is(i,"object")&&t.hasOwn(i,"raw"))return o(i.raw);if(t.is(i,"array")){var l=i.slice(1);i=s(i[0]).replace(/\{([0-9]+)\}/g,function(e,n){return t.hasOwn(l,n)?o(l[n]):e})}return s(i).replace(/{context:\w+}$/,"")},data:e}}),a("tinymce.core.EditorManager",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!document","global!window","tinymce.core.AddOnManager","tinymce.core.Editor","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.dom.DOMUtils","tinymce.core.dom.DomQuery","tinymce.core.focus.FocusController","tinymce.core.util.I18n","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p,m){var g,v,y=l.DOM,b=p.explode,_=p.each,w=p.extend,x=0,k=!1,C=[],T=[],S=function(t){return"length"!==t},E=function(t){_(v.get(),function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})},O=function(t){t!==k&&(t?c(i).on("resize scroll",E):c(i).off("resize scroll",E),k=t)},A=function(e){var n=T;delete C[e.id];for(var i=0;i<C.length;i++)if(C[i]===e){C.splice(i,1);break}return T=t.filter(T,function(t){return e!==t}),v.activeEditor===e&&(v.activeEditor=T.length>0?T[0]:null),v.focusedEditor===e&&(v.focusedEditor=null),n.length!==T.length},M=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(A(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t};return v={defaultSettings:{},$:c,majorVersion:"4",minorVersion:"7.4",releaseDate:"2017-12-05",editors:C,i18n:d,activeEditor:null,settings:{},setup:function(){var t,e,r,o,a=this,s="";if(e=m.getDocumentBaseUrl(n.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),r=i.tinymce||i.tinyMCEPreInit)t=r.base||r.baseURL,s=r.suffix;else{for(var l=n.getElementsByTagName("script"),c=0;c<l.length;c++){o=l[c].src;var d=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){d.indexOf(".min")!=-1&&(s=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}!t&&n.currentScript&&(o=n.currentScript.src,o.indexOf(".min")!=-1&&(s=".min"),t=o.substring(0,o.lastIndexOf("/")))}a.baseURL=new m(e).toAbsolute(t),a.documentBaseURL=e,a.baseURI=new m(a.baseURL),a.suffix=s,u.setup(a)},overrideDefaults:function(t){var e,n;e=t.base_url,e&&(this.baseURL=new m(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new m(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t;var i=t.plugin_base_urls;for(var o in i)r.PluginManager.urls[o]=i[o]},init:function(t){var e,r,l=this;r=p.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var u=function(t,e){return t.inline&&e.tagName.toLowerCase()in r},d=function(t){var e=t.id;return e||(e=t.name,e=e&&!y.get(e)?t.name:y.uniqueId(),t.setAttribute("id",e)),e},h=function(e){var n=t[e];if(n)return n.apply(l,Array.prototype.slice.call(arguments,2))},m=function(t,e){return e.constructor===RegExp?e.test(t.className):y.hasClass(t,e)},g=function(t){var e,i=[];if(a.ie&&a.ie<11)return s.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return _(t.types,function(t){i=i.concat(y.select(t.selector))}),i;if(t.selector)return y.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":e=t.elements||"",e.length>0&&_(b(e),function(t){var e;(e=y.get(t))?i.push(e):_(n.forms,function(e){_(e.elements,function(e){e.name===t&&(t="mce_editor_"+x++,y.setAttrib(e,"id",t),i.push(e))})})});break;case"textareas":case"specific_textareas":_(y.select("textarea"),function(e){t.editor_deselector&&m(e,t.editor_deselector)||t.editor_selector&&!m(e,t.editor_selector)||i.push(e)})}return i},v=function(t){e=t},k=function(){var e,n=0,r=[],a=function(t,i,a){var s=new o(t,i,l);r.push(s),s.on("init",function(){++n===e.length&&v(r)}),s.targetElm=s.targetElm||a,s.render()};return y.unbind(i,"ready",k),h("onpageload"),e=c.unique(g(t)),t.types?void _(t.types,function(n){p.each(e,function(e){return!y.is(e,n.selector)||(a(d(e),w({},t,n),e),!1)})}):(p.each(e,function(t){M(l.get(t.id))}),e=p.grep(e,function(t){return!l.get(t.id)}),void(0===e.length?v([]):_(e,function(e){u(t,e)?s.initError("Could not initialize inline editor on invalid inline target element",e):a(d(e),t,e)})))};return l.settings=t,y.bind(i,"ready",k),new f(function(t){e?t(e):v=function(e){t(e)}})},get:function(n){return 0===arguments.length?T.slice(0):e.isString(n)?t.find(T,function(t){return t.id===n}).getOr(null):e.isNumber(n)&&T[n]?T[n]:null},add:function(t){var e,n=this;return e=C[t.id],e===t?t:(null===n.get(t.id)&&(S(t.id)&&(C[t.id]=t),C.push(t),T.push(t)),O(!0),n.activeEditor=t,n.fire("AddEditor",{editor:t}),g||(g=function(){n.fire("BeforeUnload")},y.bind(i,"beforeunload",g)),t)},createEditor:function(t,e){return this.add(new o(t,e,this))},remove:function(t){var n,r,o=this;{if(t)return e.isString(t)?(t=t.selector||t,void _(y.select(t),function(t){r=o.get(t.id),r&&o.remove(r)})):(r=t,e.isNull(o.get(r.id))?null:(A(r)&&o.fire("RemoveEditor",{editor:r}),0===T.length&&y.unbind(i,"beforeunload",g),r.remove(),O(T.length>0),r));for(n=T.length-1;n>=0;n--)o.remove(T[n])}},execCommand:function(t,e,n){var i=this,r=i.get(n);switch(t){case"mceAddEditor":return i.get(n)||new o(n,i.settings,i).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(i.execCommand("mceAddEditor",0,n),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,e,n)},triggerSave:function(){_(T,function(t){t.save()})},addI18n:function(t,e){d.add(t,e)},translate:function(t){return d.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!=t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},w(v,h),v.setup(),v}),a("tinymce.core.api.dom.RangeUtils",["ephox.katamari.api.Fun","tinymce.core.selection.CaretRangeFromPoint","tinymce.core.selection.NormalizeRange","tinymce.core.selection.RangeCompare","tinymce.core.selection.RangeNodes","tinymce.core.selection.RangeWalk","tinymce.core.selection.SplitRange"],function(t,e,n,i,r,o,a){var s=function(e){var i=function(t,n){return o.walk(e,t,n)},r=a.split,s=function(i){return n.normalize(e,i).fold(t.constant(!1),function(t){return i.setStart(t.startContainer,t.startOffset),i.setEnd(t.endContainer,t.endOffset),!0})};return{walk:i,split:r,normalize:s}};return s.compareRanges=i.isEq,s.getCaretRangeFromPoint=e.fromPoint,s.getSelectedNode=r.getSelectedNode,s.getNode=r.getNode,s}),a("tinymce.core.geom.Rect",[],function(){"use strict";var t=Math.min,e=Math.max,n=Math.round,i=function(t,e,i){var r,o,a,s,c,u;return r=e.x,o=e.y,a=t.w,s=t.h,c=e.w,u=e.h,i=(i||"").split(""),"b"===i[0]&&(o+=u),"r"===i[1]&&(r+=c),"c"===i[0]&&(o+=n(u/2)),"c"===i[1]&&(r+=n(c/2)),"b"===i[3]&&(o-=s),"r"===i[4]&&(r-=a),"c"===i[3]&&(o-=n(s/2)),"c"===i[4]&&(r-=n(a/2)),l(r,o,a,s)},r=function(t,e,n,r){var o,a;for(a=0;a<r.length;a++)if(o=i(t,e,r[a]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[a];return null},o=function(t,e,n){return l(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},a=function(n,i){var r,o,a,s;return r=e(n.x,i.x),o=e(n.y,i.y),a=t(n.x+n.w,i.x+i.w),s=t(n.y+n.h,i.y+i.h),a-r<0||s-o<0?null:l(r,o,a-r,s-o)},s=function(t,n,i){var r,o,a,s,c,u,d,h,f,p;return c=t.x,u=t.y,d=t.x+t.w,h=t.y+t.h,f=n.x+n.w,p=n.y+n.h,r=e(0,n.x-c),o=e(0,n.y-u),a=e(0,d-f),s=e(0,h-p),c+=r,u+=o,i&&(d+=r,h+=o,c-=a,u-=s),d-=a,h-=s,l(c,u,d-c,h-u)},l=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},c=function(t){return l(t.left,t.top,t.width,t.height)};return{inflate:o,relativePosition:i,findBestRelativePosition:r,intersect:a,clamp:s,create:l,fromClientRect:c}}),a("tinymce.core.ui.Factory",[],function(){"use strict";var t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},get:function(e){var n=e.toLowerCase(),i=t.hasOwnProperty(n)?t[n]:null;if(null===i)throw new Error("Could not find module for type: "+e);return i},create:function(e,n){var i;if("string"==typeof e?(n=n||{},n.type=e):(n=e,e=n.type),e=e.toLowerCase(),i=t[e],!i)throw new Error("Could not find control by type: "+e);return i=new i(n),i.type=e,i}}}),a("tinymce.core.util.Class",["tinymce.core.util.Tools"],function(t){var e,n,i=t.each,r=t.extend,o=function(){};return o.extend=e=function(t){var o,a,s,l=this,c=l.prototype,u=function(){var t,e,i,r=this;if(!n&&(r.init&&r.init.apply(r,arguments),e=r.Mixins))for(t=e.length;t--;)i=e[t],i.init&&i.init.apply(r,arguments)},d=function(){return this},h=function(t,e){return function(){var n,i=this,r=i._super;return i._super=c[t],n=e.apply(i,arguments),i._super=r,n}};n=!0,o=new l,n=!1,t.Mixins&&(i(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),c.Mixins&&(t.Mixins=c.Mixins.concat(t.Mixins))),t.Methods&&i(t.Methods.split(","),function(e){t[e]=d}),t.Properties&&i(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e,i=this;return t!==e?(i[n]=t,i):i[n]}}),t.Statics&&i(t.Statics,function(t,e){u[e]=t}),t.Defaults&&c.Defaults&&(t.Defaults=r({},c.Defaults,t.Defaults));for(a in t)s=t[a],"function"==typeof s&&c[a]?o[a]=h(a,s):o[a]=s;return u.prototype=o,u.constructor=u,u.extend=e,u},o}),a("tinymce.core.util.Color",[],function(){var t=Math.min,e=Math.max,n=Math.round,i=function(i){var r=this,o=0,a=0,s=0,l=function(i,r,o){var a,s,l,c,u,d;return a=0,s=0,l=0,i/=255,r/=255,o/=255,u=t(i,t(r,o)),d=e(i,e(r,o)),u==d?(l=u,{h:0,s:0,v:100*l}):(c=i==u?r-o:o==u?i-r:o-i,a=i==u?3:o==u?1:5,a=60*(a-c/(d-u)),s=(d-u)/d,l=d,{h:n(a),s:n(100*s),v:n(100*l)})},c=function(i,r,l){var c,u,d,h;if(i=(parseInt(i,10)||0)%360,r=parseInt(r,10)/100,l=parseInt(l,10)/100,r=e(0,t(r,1)),l=e(0,t(l,1)),0===r)return void(o=a=s=n(255*l));switch(c=i/60,u=l*r,d=u*(1-Math.abs(c%2-1)),h=l-u,Math.floor(c)){case 0:o=u,a=d,s=0;break;case 1:o=d,a=u,s=0;break;case 2:o=0,a=u,s=d;break;case 3:o=0,a=d,s=u;break;case 4:o=d,a=0,s=u;break;case 5:o=u,a=0,s=d;break;default:o=a=s=0}o=n(255*(o+h)),a=n(255*(a+h)),s=n(255*(s+h))},u=function(){var t=function(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t};return"#"+t(o)+t(a)+t(s)},d=function(){return{r:o,g:a,b:s}},h=function(){return l(o,a,s)},f=function(t){var e;return"object"==typeof t?"r"in t?(o=t.r,a=t.g,s=t.b):"v"in t&&c(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(o=parseInt(e[1],10),a=parseInt(e[2],10),s=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(o=parseInt(e[1],16),a=parseInt(e[2],16),s=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(o=parseInt(e[1]+e[1],16),a=parseInt(e[2]+e[2],16),s=parseInt(e[3]+e[3],16)),o=o<0?0:o>255?255:o,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,r};i&&f(i),r.toRgb=d,r.toHsv=h,r.toHex=u,r.parse=f};return i}),a("tinymce.core.util.JSON",["global!window"],function(t){var e=function(t,n){var i,r,o,a;if(n=n||'"',null===t)return"null";if(o=typeof t,"string"==o)return r="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,e){return'"'===n&&"'"===t?t:(i=r.indexOf(e),i+1?"\\"+r.charAt(i+1):(t=e.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t))})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(i>0?",":"")+e(t[i],n);return r+"]"}r="{";for(a in t)t.hasOwnProperty(a)&&(r+="function"!=typeof t[a]?(r.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return r+"}"}return""+t};return{serialize:e,parse:function(e){try{return t[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),a("tinymce.core.util.JSONP",["tinymce.core.dom.DOMUtils"],function(t){return{callbacks:{},count:0,send:function(e){var n=this,i=t.DOM,r=void 0!==e.count?e.count:n.count,o="tinymce_jsonp_"+r;n.callbacks[r]=function(t){i.remove(o),delete n.callbacks[r],e.callback(t)},i.add(i.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),n.count++}}}),a("tinymce.core.util.XHR",["ephox.sand.api.XMLHttpRequest","global!setTimeout","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(t,e,n,i){var r={send:function(n){var o,a=0,s=function(){!n.async||4==o.readyState||a++>1e4?(n.success&&a<1e4&&200==o.status?n.success.call(n.success_scope,""+o.responseText,o,n):n.error&&n.error.call(n.error_scope,a>1e4?"TIMED_OUT":"GENERAL",o,n),o=null):e(s,10)};if(n.scope=n.scope||this,n.success_scope=n.success_scope||n.scope,n.error_scope=n.error_scope||n.scope,n.async=n.async!==!1,n.data=n.data||"",r.fire("beforeInitialize",{settings:n}),o=new t){if(o.overrideMimeType&&o.overrideMimeType(n.content_type),o.open(n.type||(n.data?"POST":"GET"),n.url,n.async),n.crossDomain&&(o.withCredentials=!0),n.content_type&&o.setRequestHeader("Content-Type",n.content_type),n.requestheaders&&i.each(n.requestheaders,function(t){o.setRequestHeader(t.key,t.value)}),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o=r.fire("beforeSend",{xhr:o,settings:n}).xhr,o.send(n.data),!n.async)return s();e(s,10)}}};return i.extend(r,n),r}),a("tinymce.core.util.JSONRequest",["tinymce.core.util.JSON","tinymce.core.util.XHR","tinymce.core.util.Tools"],function(t,e,n){var i=n.extend,r=function(t){this.settings=i({},t),this.count=0};return r.sendRPC=function(t){return(new r).send(t)},r.prototype={send:function(n){var r=n.error,o=n.success;n=i(this.settings,n),n.success=function(e,i){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?r.call(n.error_scope||n.scope,e.error,i):o.call(n.success_scope||n.scope,e.result)},n.error=function(t,e){r&&r.call(n.error_scope||n.scope,t,e)},n.data=t.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},r}),a("tinymce.core.util.LocalStorage",["global!document","global!window"],function(t,e){var n,i,r,o,a,s;try{if(e.localStorage)return e.localStorage}catch(t){}a="tinymce",i=t.documentElement,s=!!i.addBehavior,s&&i.addBehavior("#default#userData");var l=function(){o=[];for(var t in r)o.push(t);n.length=o.length},c=function(){var t,e,n,o=0;if(r={},s){var c=function(t){var n,i;return i=void 0!==t?o+t:e.indexOf(",",o),i===-1||i>e.length?null:(n=e.substring(o,i),o=i+1,n)};i.load(a),e=i.getAttribute(a)||"";do{var u=c();if(null===u)break;if(t=c(parseInt(u,32)||0),null!==t){if(u=c(),null===u)break;n=c(parseInt(u,32)||0),t&&(r[t]=n)}}while(null!==t);l()}},u=function(){var t,e="";if(s){for(var n in r)t=r[n],e+=(e?",":"")+n.length.toString(32)+","+n+","+t.length.toString(32)+","+t;i.setAttribute(a,e);try{i.save(a)}catch(t){}l()}};return n={key:function(t){return o[t]},getItem:function(t){return t in r?r[t]:null},setItem:function(t,e){r[t]=""+e,u()},removeItem:function(t){delete r[t],u()},clear:function(){r={},u()}},c(),n}),a("tinymce.core.api.Tinymce",["tinymce.core.AddOnManager","tinymce.core.Editor","tinymce.core.EditorCommands","tinymce.core.EditorManager","tinymce.core.EditorObservable","tinymce.core.Env","tinymce.core.Shortcuts","tinymce.core.UndoManager","tinymce.core.api.FocusManager","tinymce.core.api.Formatter","tinymce.core.api.NotificationManager","tinymce.core.api.WindowManager","tinymce.core.api.dom.BookmarkManager","tinymce.core.api.dom.RangeUtils","tinymce.core.api.dom.Serializer","tinymce.core.dom.ControlSelection","tinymce.core.dom.DOMUtils","tinymce.core.dom.DomQuery","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.dom.Selection","tinymce.core.dom.Sizzle","tinymce.core.dom.TreeWalker","tinymce.core.geom.Rect","tinymce.core.html.DomParser","tinymce.core.html.Entities","tinymce.core.html.Node","tinymce.core.html.SaxParser","tinymce.core.html.Schema","tinymce.core.html.Serializer","tinymce.core.html.Styles","tinymce.core.html.Writer","tinymce.core.ui.Factory","tinymce.core.util.Class","tinymce.core.util.Color","tinymce.core.util.Delay","tinymce.core.util.EventDispatcher","tinymce.core.util.I18n","tinymce.core.util.JSON","tinymce.core.util.JSONP","tinymce.core.util.JSONRequest","tinymce.core.util.LocalStorage","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.VK","tinymce.core.util.XHR"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,_,w,x,k,C,T,S,E,O,A,M,P,D,j,N,L,I,R,B,F,$,z,U,H,W,Y,V,G){var q=i,X={geom:{Rect:k},util:{Promise:H,Delay:L,Tools:W,VK:V,URI:Y,Class:j,EventDispatcher:I,Observable:U,I18n:R,XHR:G,JSON:B,JSONRequest:$,JSONP:F,LocalStorage:z,Color:N},dom:{EventUtils:y,Sizzle:w,DomQuery:v,TreeWalker:x,DOMUtils:g,ScriptLoader:b,RangeUtils:f,Serializer:p,ControlSelection:m,BookmarkManager:h,Selection:_,Event:y.Event},html:{Styles:M,Entities:T,Node:S,Schema:O,SaxParser:E,DomParser:C,Writer:P,Serializer:A},ui:{Factory:D},Env:o,AddOnManager:t,Formatter:c,UndoManager:s,EditorCommands:n,WindowManager:d,NotificationManager:u,EditorObservable:r,Shortcuts:a,Editor:e,FocusManager:l,EditorManager:i,DOM:g.DOM,ScriptLoader:b.ScriptLoader,PluginManager:t.PluginManager,ThemeManager:t.ThemeManager,trim:W.trim,isArray:W.isArray,is:W.is,toArray:W.toArray,makeMap:W.makeMap,each:W.each,map:W.map,grep:W.grep,inArray:W.inArray,extend:W.extend,create:W.create,walk:W.walk,createNS:W.createNS,resolve:W.resolve,explode:W.explode,_addCacheSuffix:W._addCacheSuffix,isOpera:o.opera,isWebKit:o.webkit,isIE:o.ie,isGecko:o.gecko,isMac:o.mac};return q=W.extend(q,X)}),a("tinymce.core.api.Main",["ephox.katamari.api.Fun","global!window","tinymce.core.api.Tinymce"],function(t,e,n){var i=this||e,r=function(e){"function"!=typeof i.define||i.define.amd||(i.define("ephox/tinymce",[],t.constant(e)),i.define("tinymce.core.EditorManager",[],t.constant(e))),"object"==typeof module&&(module.exports=e)},o=function(t){e.tinymce=t,e.tinyMCE=t};return function(){return o(n),r(n),n}}),i("tinymce.core.api.Main")()}(),!function(){var t={},e=function(e){for(var n=t[e],r=n.deps,o=n.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=i(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+e+"] returned undefined";n.instance=c},n=function(e,n,i){if("string"!=typeof e)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+e;if(void 0===i)throw"no definition function for "+e;t[e]={deps:n,defn:i,instance:void 0}},i=function(n){var i=t[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&e(n),i.instance},r=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=i(t[o]);e.apply(null,r)},o={};o.bolt={module:{api:{define:n,require:r,demand:i}}};var a=n,s=function(t,e){a(t,[],function(){return e})};s("1",document),s("2",window),a("0",["1","2"],function(t,e){return function(n){var i,r,o,a,s,l=[];s=n?n:e,a=s.jQuery;var c=function(){return s.tinymce};a.fn.tinymce=function(n){var i,d,h,f=this,p="";if(!f.length)return f;if(!n)return c()?c().get(f[0].id):null;f.css("visibility","hidden");var m=function(){var t=[],e=0;o||(u(),o=!0),f.each(function(i,r){var o,a=r.id,s=n.oninit;a||(r.id=a=c().DOM.uniqueId()),c().get(a)||(o=c().createEditor(a,n),t.push(o),o.on("init",function(){var n,i=s;f.css("visibility",""),s&&++e==t.length&&("string"==typeof i&&(n=i.indexOf(".")===-1?null:c().resolve(i.replace(/\.\w+$/,"")),i=c().resolve(i)),i.apply(n||c(),t))}))}),a.each(t,function(t,e){e.render()})};if(s.tinymce||r||!(i=n.script_url))1===r?l.push(m):m();else{r=1,d=i.substring(0,i.lastIndexOf("/")),i.indexOf(".min")!=-1&&(p=".min"),s.tinymce=s.tinyMCEPreInit||{base:d,suffix:p},i.indexOf("gzip")!=-1&&(h=n.language||"en",i=i+(/\?/.test(i)?"&":"?")+"js=true&core=true&suffix="+escape(p)+"&themes="+escape(n.theme||"modern")+"&plugins="+escape(n.plugins||"")+"&languages="+(h||""),s.tinyMCE_GZ||(s.tinyMCE_GZ={start:function(){var t=function(t){c().ScriptLoader.markDone(c().baseURI.toAbsolute(t))};t("langs/"+h+".js"),t("themes/"+n.theme+"/theme"+p+".js"),t("themes/"+n.theme+"/langs/"+h+".js"),a.each(n.plugins.split(","),function(e,n){n&&(t("plugins/"+n+"/plugin"+p+".js"),t("plugins/"+n+"/langs/"+h+".js"))})},end:function(){}}));var g=t.createElement("script");g.type="text/javascript",g.onload=g.onreadystatechange=function(t){t=t||e.event,2===r||"load"!=t.type&&!/complete|loaded/.test(g.readyState)||(c().dom.Event.domLoaded=1,r=2,n.script_loaded&&n.script_loaded(),m(),a.each(l,function(t,e){e()}))},g.src=i,t.body.appendChild(g)}return f},a.extend(a.expr[":"],{tinymce:function(t){var e;return!!(t.id&&"tinymce"in s&&(e=c().get(t.id),e&&e.editorManager===c()))}});var u=function(){var t=function(t){"remove"===t&&this.each(function(t,e){var i=n(e);i&&i.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(t,e){var n=c().get(e.id.replace(/_parent$/,""));n&&n.remove()})},e=function(e){var n,i=this;if(null!=e)t.call(i),i.each(function(t,n){var i;(i=c().get(n.id))&&i.setContent(e)});else if(i.length>0&&(n=c().get(i[0].id)))return n.getContent()},n=function(t){var e=null;return t&&t.id&&s.tinymce&&(e=c().get(t.id)),e},r=function(t){return!!(t&&t.length&&s.tinymce&&t.is(":tinymce"))},o={};a.each(["text","html","val"],function(t,s){var l=o[s]=a.fn[s],c="text"===s;a.fn[s]=function(t){var o=this;if(!r(o))return l.apply(o,arguments);if(t!==i)return e.call(o.filter(":tinymce"),t),l.apply(o.not(":tinymce"),arguments),o;var s="",u=arguments;return(c?o:o.eq(0)).each(function(t,e){var i=n(e);s+=i?c?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent({save:!0}):l.apply(a(e),u)}),s}}),a.each(["append","prepend"],function(t,e){var s=o[e]=a.fn[e],l="prepend"===e;a.fn[e]=function(t){var e=this;return r(e)?t!==i?("string"==typeof t&&e.filter(":tinymce").each(function(e,i){var r=n(i);r&&r.setContent(l?t+r.getContent():r.getContent()+t)}),s.apply(e.not(":tinymce"),arguments),e):void 0:s.apply(e,arguments)}}),a.each(["remove","replaceWith","replaceAll","empty"],function(e,n){var i=o[n]=a.fn[n];a.fn[n]=function(){return t.call(this,n),i.apply(this,arguments)}}),o.attr=a.fn.attr,a.fn.attr=function(t,s){var l=this,c=arguments;if(!t||"value"!==t||!r(l))return s!==i?o.attr.apply(l,c):o.attr.apply(l,c);if(s!==i)return e.call(l.filter(":tinymce"),s),o.attr.apply(l.not(":tinymce"),c),l;var u=l[0],d=n(u);return d?d.getContent({save:!0}):o.attr.apply(a(u),c)}}}}),i("0")()}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return fi.apply(null,arguments)}function e(t){fi=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){var e;for(e in t)return!1;return!0}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,i){return ge(t,e,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(t){return null==t._pf&&(t._pf=u()),t._pf}function h(t){if(null==t._isValid){var e=d(t),n=pi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function f(t){var e=c(NaN);return null!=t?l(d(e),t):d(e).userInvalidated=!0,e}function p(t){return void 0===t}function m(t,e){var n,i,r;if(p(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),p(e._i)||(t._i=e._i),p(e._f)||(t._f=e._f),p(e._l)||(t._l=e._l),p(e._strict)||(t._strict=e._strict),p(e._tzm)||(t._tzm=e._tzm),p(e._isUTC)||(t._isUTC=e._isUTC),p(e._offset)||(t._offset=e._offset),p(e._pf)||(t._pf=d(e)),p(e._locale)||(t._locale=e._locale),mi.length>0)for(n in mi)i=mi[n],r=e[i],p(r)||(t[i]=r);return t}function g(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),gi===!1&&(gi=!0,t.updateOffset(this),gi=!1)}function v(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function y(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function b(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=y(e)),n}function _(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&b(t[i])!==b(e[i]))&&a++;return a+o}function w(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,n){var i=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){r+="\n["+a+"] ";for(var s in arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}w(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),vi[e]||(w(n),vi[e]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,n;for(n in t)e=t[n],C(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function S(t,e){var n,r=l({},t);for(n in e)s(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},l(r[n],t[n]),l(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)s(t,n)&&!s(e,n)&&i(t[n])&&(r[n]=l({},r[n]));return r}function E(t){null!=t&&this.set(t)}function O(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return C(i)?i.call(e,n):i}function A(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function M(){return this._invalidDate}function P(t){return this._ordinal.replace("%d",t)}function D(t,e,n,i){var r=this._relativeTime[n];return C(r)?r(t,e,n,i):r.replace(/%d/i,t)}function j(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)}function N(t,e){var n=t.toLowerCase();Si[n]=Si[n+"s"]=Si[e]=t}function L(t){return"string"==typeof t?Si[t]||Si[t.toLowerCase()]:void 0}function I(t){var e,n,i={};for(n in t)s(t,n)&&(e=L(n),e&&(i[e]=t[n]));return i}function R(t,e){Ei[t]=e}function B(t){var e=[];for(var n in t)e.push({unit:n,priority:Ei[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function F(e,n){return function(i){return null!=i?(z(this,e,i),t.updateOffset(this,n),this):$(this,e)}}function $(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function z(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function U(t){return t=L(t),C(this[t])?this[t]():this}function H(t,e){if("object"==typeof t){t=I(t);for(var n=B(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=L(t),C(this[t]))return this[t](e);return this}function W(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function Y(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Pi[t]=r),e&&(Pi[e[0]]=function(){return W(r.apply(this,arguments),e[1],e[2])}),n&&(Pi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G(t){var e,n,i=t.match(Oi);for(e=0,n=i.length;e<n;e++)Pi[i[e]]?i[e]=Pi[i[e]]:i[e]=V(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}function q(t,e){return t.isValid()?(e=X(e,t.localeData()),Mi[e]=Mi[e]||G(e),Mi[e](t)):t.localeData().invalidDate()}function X(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ai.lastIndex=0;i>=0&&Ai.test(t);)t=t.replace(Ai,n),Ai.lastIndex=0,i-=1;return t}function K(t,e,n){Xi[t]=C(e)?e:function(t){return t&&n?n:e}}function Z(t,e){return s(Xi,t)?Xi[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=b(t)}),n=0;n<t.length;n++)Ki[t[n]]=i}function et(t,e){tt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function nt(t,e,n){null!=e&&s(Ki,t)&&Ki[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ar).test(e)?"format":"standalone"][t.month()]:this._months}function ot(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ar.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function at(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=bi.call(this._shortMonthsParse,a),
r!==-1?r:null):(r=bi.call(this._longMonthsParse,a),r!==-1?r:null):"MMM"===e?(r=bi.call(this._shortMonthsParse,a),r!==-1?r:(r=bi.call(this._longMonthsParse,a),r!==-1?r:null)):(r=bi.call(this._longMonthsParse,a),r!==-1?r:(r=bi.call(this._shortMonthsParse,a),r!==-1?r:null))}function st(t,e,n){var i,r,o;if(this._monthsParseExact)return at.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ct(e){return null!=e?(lt(this,e),t.updateOffset(this,!0),this):$(this,"Month")}function ut(){return it(this.year(),this.month())}function dt(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=cr),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=ur),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ft(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=c([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=J(i[e]),r[e]=J(r[e]);for(e=0;e<24;e++)o[e]=J(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function pt(t){return mt(t)?366:365}function mt(t){return t%4===0&&t%100!==0||t%400===0}function gt(){return mt(this.year())}function vt(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function yt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function bt(t,e,n){var i=7+e-n,r=(7+yt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function _t(t,e,n,i,r){var o,a,s=(7+n-i)%7,l=bt(t,i,r),c=1+7*(e-1)+s+l;return c<=0?(o=t-1,a=pt(o)+c):c>pt(t)?(o=t+1,a=c-pt(t)):(o=t,a=c),{year:o,dayOfYear:a}}function wt(t,e,n){var i,r,o=bt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(r=t.year()-1,i=a+xt(r,e,n)):a>xt(t.year(),e,n)?(i=a-xt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function xt(t,e,n){var i=bt(t,e,n),r=bt(t+1,e,n);return(pt(t)-i+r)/7}function kt(t){return wt(t,this._week.dow,this._week.doy).week}function Ct(){return this._week.dow}function Tt(){return this._week.doy}function St(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Et(t){var e=wt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ot(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function At(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Mt(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function Pt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Dt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function jt(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=bi.call(this._weekdaysParse,a),r!==-1?r:null):"ddd"===e?(r=bi.call(this._shortWeekdaysParse,a),r!==-1?r:null):(r=bi.call(this._minWeekdaysParse,a),r!==-1?r:null):"dddd"===e?(r=bi.call(this._weekdaysParse,a),r!==-1?r:(r=bi.call(this._shortWeekdaysParse,a),r!==-1?r:(r=bi.call(this._minWeekdaysParse,a),r!==-1?r:null))):"ddd"===e?(r=bi.call(this._shortWeekdaysParse,a),r!==-1?r:(r=bi.call(this._weekdaysParse,a),r!==-1?r:(r=bi.call(this._minWeekdaysParse,a),r!==-1?r:null))):(r=bi.call(this._minWeekdaysParse,a),r!==-1?r:(r=bi.call(this._weekdaysParse,a),r!==-1?r:(r=bi.call(this._shortWeekdaysParse,a),r!==-1?r:null)))}function Nt(t,e,n){var i,r,o;if(this._weekdaysParseExact)return jt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Lt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ot(t,this.localeData()),this.add(t-e,"d")):e}function It(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Rt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=At(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Bt(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=gr),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ft(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $t(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function zt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=c([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=J(s[e]),l[e]=J(l[e]),u[e]=J(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ut(){return this.hours()%12||12}function Ht(){return this.hours()||24}function Wt(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Yt(t,e){return e._meridiemParse}function Vt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Gt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function qt(t){return t?t.toLowerCase().replace("_","-"):t}function Xt(t){for(var e,n,i,r,o=0;o<t.length;){for(r=qt(t[o]).split("-"),e=r.length,n=qt(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=Kt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&_(r,n,!0)>=e-1)break;e--}o++}return null}function Kt(t){var e=null;if(!kr[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=br._abbr,require("./locale/"+t),Zt(e)}catch(t){}return kr[t]}function Zt(t,e){var n;return t&&(n=p(e)?te(t):Qt(t,e),n&&(br=n)),br._abbr}function Qt(t,e){if(null!==e){var n=xr;return e.abbr=t,null!=kr[t]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=kr[t]._config):null!=e.parentLocale&&(null!=kr[e.parentLocale]?n=kr[e.parentLocale]._config:k("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),kr[t]=new E(S(n,e)),Zt(t),kr[t]}return delete kr[t],null}function Jt(t,e){if(null!=e){var n,i=xr;null!=kr[t]&&(i=kr[t]._config),e=S(i,e),n=new E(e),n.parentLocale=kr[t],kr[t]=n,Zt(t)}else null!=kr[t]&&(null!=kr[t].parentLocale?kr[t]=kr[t].parentLocale:null!=kr[t]&&delete kr[t]);return kr[t]}function te(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return br;if(!n(t)){if(e=Kt(t))return e;t=[t]}return Xt(t)}function ee(){return yi(kr)}function ne(t){var e,n=t._a;return n&&d(t).overflow===-2&&(e=n[Qi]<0||n[Qi]>11?Qi:n[Ji]<1||n[Ji]>it(n[Zi],n[Qi])?Ji:n[tr]<0||n[tr]>24||24===n[tr]&&(0!==n[er]||0!==n[nr]||0!==n[ir])?tr:n[er]<0||n[er]>59?er:n[nr]<0||n[nr]>59?nr:n[ir]<0||n[ir]>999?ir:-1,d(t)._overflowDayOfYear&&(e<Zi||e>Ji)&&(e=Ji),d(t)._overflowWeeks&&e===-1&&(e=rr),d(t)._overflowWeekday&&e===-1&&(e=or),d(t).overflow=e),t}function ie(t){var e,n,i,r,o,a,s=t._i,l=Cr.exec(s)||Tr.exec(s);if(l){for(d(t).iso=!0,e=0,n=Er.length;e<n;e++)if(Er[e][1].exec(l[1])){r=Er[e][0],i=Er[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Or.length;e<n;e++)if(Or[e][1].exec(l[3])){o=(l[2]||" ")+Or[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Sr.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),ce(t)}else t._isValid=!1}function re(e){var n=Ar.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(ie(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ae(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function se(t){var e,n,i,r,o=[];if(!t._d){for(i=ae(t),t._w&&null==t._a[Ji]&&null==t._a[Qi]&&le(t),t._dayOfYear&&(r=oe(t._a[Zi],i[Zi]),t._dayOfYear>pt(r)&&(d(t)._overflowDayOfYear=!0),n=yt(r,0,t._dayOfYear),t._a[Qi]=n.getUTCMonth(),t._a[Ji]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[tr]&&0===t._a[er]&&0===t._a[nr]&&0===t._a[ir]&&(t._nextDay=!0,t._a[tr]=0),t._d=(t._useUTC?yt:vt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[tr]=24)}}function le(t){var e,n,i,r,o,a,s,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=oe(e.GG,t._a[Zi],wt(ve(),1,4).year),i=oe(e.W,1),r=oe(e.E,1),(r<1||r>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,n=oe(e.gg,t._a[Zi],wt(ve(),o,a).year),i=oe(e.w,1),null!=e.d?(r=e.d,(r<0||r>6)&&(l=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o),i<1||i>xt(n,o,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(s=_t(n,i,r,o,a),t._a[Zi]=s.year,t._dayOfYear=s.dayOfYear)}function ce(e){if(e._f===t.ISO_8601)return void ie(e);e._a=[],d(e).empty=!0;var n,i,r,o,a,s=""+e._i,l=s.length,c=0;for(r=X(e._f,e._locale).match(Oi)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(Z(o,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&d(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),Pi[o]?(i?d(e).empty=!1:d(e).unusedTokens.push(o),nt(o,i,e)):e._strict&&!i&&d(e).unusedTokens.push(o);d(e).charsLeftOver=l-c,s.length>0&&d(e).unusedInput.push(s),e._a[tr]<=12&&d(e).bigHour===!0&&e._a[tr]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[tr]=ue(e._locale,e._a[tr],e._meridiem),se(e),ne(e)}function ue(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function de(t){var e,n,i,r,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ce(e),h(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==i||o<i)&&(i=o,n=e));l(t,n||e)}function he(t){if(!t._d){var e=I(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function fe(t){var e=new g(ne(pe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function pe(t){var e=t._i,i=t._f;return t._locale=t._locale||te(t._l),null===e||void 0===i&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new g(ne(e)):(n(i)?de(t):o(e)?t._d=e:i?ce(t):me(t),h(t)||(t._d=null),t))}function me(e){var i=e._i;void 0===i?e._d=new Date(t.now()):o(i)?e._d=new Date(i.valueOf()):"string"==typeof i?re(e):n(i)?(e._a=a(i.slice(0),function(t){return parseInt(t,10)}),se(e)):"object"==typeof i?he(e):"number"==typeof i?e._d=new Date(i):t.createFromInputFallback(e)}function ge(t,e,o,a,s){var l={};return"boolean"==typeof o&&(a=o,o=void 0),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=t,l._f=e,l._strict=a,fe(l)}function ve(t,e,n,i){return ge(t,e,n,i,!1)}function ye(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return ve();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function be(){var t=[].slice.call(arguments,0);return ye("isBefore",t)}function _e(){var t=[].slice.call(arguments,0);return ye("isAfter",t)}function we(t){var e=I(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=te(),this._bubble()}function xe(t){return t instanceof we}function ke(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Ce(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+W(~~(t/60),2)+e+W(~~t%60,2)})}function Te(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(jr)||["-",0,0],o=+(60*r[1])+b(r[2]);return"+"===r[0]?o:-o}function Se(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(v(e)||o(e)?e.valueOf():ve(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):ve(e).local()}function Ee(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Oe(e,n){var i,r=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Te(Vi,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&n&&(i=Ee(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?We(this,Fe(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ee(this):null!=e?this:NaN}function Ae(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Me(t){return this.utcOffset(0,t)}function Pe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ee(this),"m")),this}function De(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=Te(Yi,this._i);0===t?this.utcOffset(0,!0):this.utcOffset(Te(Yi,this._i))}return this}function je(t){return!!this.isValid()&&(t=t?ve(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Ne(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Le(){if(!p(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=pe(t),t._a){var e=t._isUTC?c(t._a):ve(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ie(){return!!this.isValid()&&!this._isUTC}function Re(){return!!this.isValid()&&this._isUTC}function Be(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Fe(t,e){var n,i,r,o=t,a=null;return xe(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=Nr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:b(a[Ji])*n,h:b(a[tr])*n,m:b(a[er])*n,s:b(a[nr])*n,ms:b(ke(1e3*a[ir]))*n}):(a=Lr.exec(t))?(n="-"===a[1]?-1:1,o={y:$e(a[2],n),M:$e(a[3],n),w:$e(a[4],n),d:$e(a[5],n),h:$e(a[6],n),m:$e(a[7],n),s:$e(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Ue(ve(o.from),ve(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new we(o),xe(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function $e(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ue(t,e){var n;return t.isValid()&&e.isValid()?(e=Se(e,t),t.isBefore(e)?n=ze(t,e):(n=ze(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function He(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Fe(n,i),We(this,r,t),this}}function We(e,n,i,r){var o=n._milliseconds,a=ke(n._days),s=ke(n._months);e.isValid()&&(r=null==r||r,o&&e._d.setTime(e._d.valueOf()+o*i),a&&z(e,"Date",$(e,"Date")+a*i),s&&lt(e,$(e,"Month")+s*i),r&&t.updateOffset(e,a||s))}function Ye(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ve(e,n){var i=e||ve(),r=Se(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",a=n&&(C(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,ve(i)))}function Ge(){return new g(this)}function qe(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=L(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Xe(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=L(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Ke(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Ze(t,e){var n,i=v(t)?t:ve(t);return!(!this.isValid()||!i.isValid())&&(e=L(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Qe(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Je(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function tn(t,e,n){var i,r,o,a;return this.isValid()?(i=Se(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=L(e),"year"===e||"month"===e||"quarter"===e?(a=en(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-i,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?a:y(a)):NaN):NaN}function en(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=q(this,e);return this.localeData().postformat(n)}function an(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Fe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function sn(t){return this.from(ve(),t)}function ln(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Fe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cn(t){return this.to(ve(),t)}function un(t){var e;return void 0===t?this._locale._abbr:(e=te(t),null!=e&&(this._locale=e),this)}function dn(){return this._locale}function hn(t){switch(t=L(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function fn(t){return t=L(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function pn(){return this._d.valueOf()-6e4*(this._offset||0)}function mn(){return Math.floor(this.valueOf()/1e3)}function gn(){return new Date(this.valueOf())}function vn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function yn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function bn(){return this.isValid()?this.toISOString():null}function _n(){return h(this)}function wn(){return l({},d(this))}function xn(){return d(this).overflow}function kn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Cn(t,e){Y(0,[t,t.length],0,e)}function Tn(t){return An.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Sn(t){return An.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function En(){return xt(this.year(),1,4)}function On(){var t=this.localeData()._week;return xt(this.year(),t.dow,t.doy)}function An(t,e,n,i,r){var o;return null==t?wt(this,i,r).year:(o=xt(t,i,r),e>o&&(e=o),Mn.call(this,t,e,n,i,r))}function Mn(t,e,n,i,r){var o=_t(t,e,n,i,r),a=yt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Pn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Dn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function jn(t,e){e[ir]=b(1e3*("0."+t))}function Nn(){return this._isUTC?"UTC":""}function Ln(){return this._isUTC?"Coordinated Universal Time":""}function In(t){return ve(1e3*t)}function Rn(){return ve.apply(null,arguments).parseZone()}function Bn(t){return t}function Fn(t,e,n,i){var r=te(),o=c().set(i,e);return r[n](o,t)}function $n(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Fn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Fn(t,i,n,"month");return r}function zn(t,e,n,i){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var r=te(),o=t?r._week.dow:0;if(null!=n)return Fn(e,(n+o)%7,i,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Fn(e,(a+o)%7,i,"day");return s}function Un(t,e){return $n(t,e,"months")}function Hn(t,e){return $n(t,e,"monthsShort")}function Wn(t,e,n){return zn(t,e,n,"weekdays")}function Yn(t,e,n){return zn(t,e,n,"weekdaysShort")}function Vn(t,e,n){return zn(t,e,n,"weekdaysMin")}function Gn(){var t=this._data;return this._milliseconds=Gr(this._milliseconds),this._days=Gr(this._days),this._months=Gr(this._months),t.milliseconds=Gr(t.milliseconds),t.seconds=Gr(t.seconds),t.minutes=Gr(t.minutes),t.hours=Gr(t.hours),t.months=Gr(t.months),t.years=Gr(t.years),this}function qn(t,e,n,i){var r=Fe(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Xn(t,e){return qn(this,t,e,1)}function Kn(t,e){return qn(this,t,e,-1)}function Zn(t){return t<0?Math.floor(t):Math.ceil(t)}function Qn(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Zn(ti(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=y(o/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,n=y(e/60),l.hours=n%24,a+=y(n/24),r=y(Jn(a)),s+=r,a-=Zn(ti(r)),i=y(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function Jn(t){return 4800*t/146097}function ti(t){return 146097*t/4800}function ei(t){var e,n,i=this._milliseconds;if(t=L(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Jn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ti(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ni(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function ii(t){return function(){return this.as(t)}}function ri(t){return t=L(t),this[t+"s"]()}function oi(t){return function(){return this._data[t]}}function ai(){return y(this.days()/7)}function si(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function li(t,e,n){var i=Fe(t).abs(),r=co(i.as("s")),o=co(i.as("m")),a=co(i.as("h")),s=co(i.as("d")),l=co(i.as("M")),c=co(i.as("y")),u=r<uo.s&&["s",r]||o<=1&&["m"]||o<uo.m&&["mm",o]||a<=1&&["h"]||a<uo.h&&["hh",a]||s<=1&&["d"]||s<uo.d&&["dd",s]||l<=1&&["M"]||l<uo.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,si.apply(null,u)}function ci(t){return void 0===t?co:"function"==typeof t&&(co=t,!0)}function ui(t,e){return void 0!==uo[t]&&(void 0===e?uo[t]:(uo[t]=e,!0))}function di(t){var e=this.localeData(),n=li(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function hi(){var t,e,n,i=ho(this._milliseconds)/1e3,r=ho(this._days),o=ho(this._months);t=y(i/60),e=y(t/60),i%=60,t%=60,n=y(o/12),o%=12;var a=n,s=o,l=r,c=e,u=t,d=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var fi,pi;pi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var mi=t.momentProperties=[],gi=!1,vi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var yi;yi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var bi,_i={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},wi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xi="Invalid date",ki="%d",Ci=/\d{1,2}/,Ti={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Si={},Ei={},Oi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ai=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mi={},Pi={},Di=/\d/,ji=/\d\d/,Ni=/\d{3}/,Li=/\d{4}/,Ii=/[+-]?\d{6}/,Ri=/\d\d?/,Bi=/\d\d\d\d?/,Fi=/\d\d\d\d\d\d?/,$i=/\d{1,3}/,zi=/\d{1,4}/,Ui=/[+-]?\d{1,6}/,Hi=/\d+/,Wi=/[+-]?\d+/,Yi=/Z|[+-]\d\d:?\d\d/gi,Vi=/Z|[+-]\d\d(?::?\d\d)?/gi,Gi=/[+-]?\d+(\.\d{1,3})?/,qi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xi={},Ki={},Zi=0,Qi=1,Ji=2,tr=3,er=4,nr=5,ir=6,rr=7,or=8;bi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),N("month","M"),R("month",8),K("M",Ri),K("MM",Ri,ji),K("MMM",function(t,e){return e.monthsShortRegex(t)}),K("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Qi]=b(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Qi]=r:d(n).invalidMonth=t});var ar=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,sr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cr=qi,ur=qi;Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),N("year","y"),R("year",1),K("Y",Wi),K("YY",Ri,ji),K("YYYY",zi,Li),K("YYYYY",Ui,Ii),K("YYYYYY",Ui,Ii),tt(["YYYYY","YYYYYY"],Zi),tt("YYYY",function(e,n){n[Zi]=2===e.length?t.parseTwoDigitYear(e):b(e)}),tt("YY",function(e,n){n[Zi]=t.parseTwoDigitYear(e)}),tt("Y",function(t,e){e[Zi]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var dr=F("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),R("week",5),R("isoWeek",5),K("w",Ri),K("ww",Ri,ji),K("W",Ri),K("WW",Ri,ji),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=b(t)});var hr={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),K("d",Ri),K("e",Ri),K("E",Ri),K("dd",function(t,e){return e.weekdaysMinRegex(t)}),K("ddd",function(t,e){return e.weekdaysShortRegex(t)}),K("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:d(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=b(t)});var fr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gr=qi,vr=qi,yr=qi;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Ut),Y("k",["kk",2],0,Ht),Y("hmm",0,0,function(){return""+Ut.apply(this)+W(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Ut.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),Wt("a",!0),Wt("A",!1),N("hour","h"),R("hour",13),K("a",Yt),K("A",Yt),K("H",Ri),K("h",Ri),K("HH",Ri,ji),K("hh",Ri,ji),K("hmm",Bi),K("hmmss",Fi),K("Hmm",Bi),K("Hmmss",Fi),tt(["H","HH"],tr),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[tr]=b(t),d(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[tr]=b(t.substr(0,i)),e[er]=b(t.substr(i)),d(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[tr]=b(t.substr(0,i)),e[er]=b(t.substr(i,2)),e[nr]=b(t.substr(r)),d(n).bigHour=!0}),tt("Hmm",function(t,e){var n=t.length-2;e[tr]=b(t.substr(0,n)),e[er]=b(t.substr(n))}),tt("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[tr]=b(t.substr(0,n)),e[er]=b(t.substr(n,2)),e[nr]=b(t.substr(i))});var br,_r=/[ap]\.?m?\.?/i,wr=F("Hours",!0),xr={calendar:_i,longDateFormat:wi,invalidDate:xi,ordinal:ki,ordinalParse:Ci,relativeTime:Ti,months:sr,monthsShort:lr,week:hr,weekdays:fr,weekdaysMin:mr,weekdaysShort:pr,
meridiemParse:_r},kr={},Cr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Tr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Sr=/Z|[+-]\d\d(?::?\d\d)?/,Er=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Or=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ar=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Mr=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()}),Pr=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f()}),Dr=function(){return Date.now?Date.now():+new Date};Ce("Z",":"),Ce("ZZ",""),K("Z",Vi),K("ZZ",Vi),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Te(Vi,t)});var jr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Nr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Lr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Fe.fn=we.prototype;var Ir=He(1,"add"),Rr=He(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Br=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Cn("gggg","weekYear"),Cn("ggggg","weekYear"),Cn("GGGG","isoWeekYear"),Cn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),K("G",Wi),K("g",Wi),K("GG",Ri,ji),K("gg",Ri,ji),K("GGGG",zi,Li),K("gggg",zi,Li),K("GGGGG",Ui,Ii),K("ggggg",Ui,Ii),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=b(t)}),et(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),N("quarter","Q"),R("quarter",7),K("Q",Di),tt("Q",function(t,e){e[Qi]=3*(b(t)-1)}),Y("D",["DD",2],"Do","date"),N("date","D"),R("date",9),K("D",Ri),K("DD",Ri,ji),K("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Ji),tt("Do",function(t,e){e[Ji]=b(t.match(Ri)[0],10)});var Fr=F("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),R("dayOfYear",4),K("DDD",$i),K("DDDD",Ni),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=b(t)}),Y("m",["mm",2],0,"minute"),N("minute","m"),R("minute",14),K("m",Ri),K("mm",Ri,ji),tt(["m","mm"],er);var $r=F("Minutes",!1);Y("s",["ss",2],0,"second"),N("second","s"),R("second",15),K("s",Ri),K("ss",Ri,ji),tt(["s","ss"],nr);var zr=F("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),R("millisecond",16),K("S",$i,Di),K("SS",$i,ji),K("SSS",$i,Ni);var Ur;for(Ur="SSSS";Ur.length<=9;Ur+="S")K(Ur,Hi);for(Ur="S";Ur.length<=9;Ur+="S")tt(Ur,jn);var Hr=F("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Wr=g.prototype;Wr.add=Ir,Wr.calendar=Ve,Wr.clone=Ge,Wr.diff=tn,Wr.endOf=fn,Wr.format=on,Wr.from=an,Wr.fromNow=sn,Wr.to=ln,Wr.toNow=cn,Wr.get=U,Wr.invalidAt=xn,Wr.isAfter=qe,Wr.isBefore=Xe,Wr.isBetween=Ke,Wr.isSame=Ze,Wr.isSameOrAfter=Qe,Wr.isSameOrBefore=Je,Wr.isValid=_n,Wr.lang=Br,Wr.locale=un,Wr.localeData=dn,Wr.max=Pr,Wr.min=Mr,Wr.parsingFlags=wn,Wr.set=H,Wr.startOf=hn,Wr.subtract=Rr,Wr.toArray=vn,Wr.toObject=yn,Wr.toDate=gn,Wr.toISOString=rn,Wr.toJSON=bn,Wr.toString=nn,Wr.unix=mn,Wr.valueOf=pn,Wr.creationData=kn,Wr.year=dr,Wr.isLeapYear=gt,Wr.weekYear=Tn,Wr.isoWeekYear=Sn,Wr.quarter=Wr.quarters=Pn,Wr.month=ct,Wr.daysInMonth=ut,Wr.week=Wr.weeks=St,Wr.isoWeek=Wr.isoWeeks=Et,Wr.weeksInYear=On,Wr.isoWeeksInYear=En,Wr.date=Fr,Wr.day=Wr.days=Lt,Wr.weekday=It,Wr.isoWeekday=Rt,Wr.dayOfYear=Dn,Wr.hour=Wr.hours=wr,Wr.minute=Wr.minutes=$r,Wr.second=Wr.seconds=zr,Wr.millisecond=Wr.milliseconds=Hr,Wr.utcOffset=Oe,Wr.utc=Me,Wr.local=Pe,Wr.parseZone=De,Wr.hasAlignedHourOffset=je,Wr.isDST=Ne,Wr.isLocal=Ie,Wr.isUtcOffset=Re,Wr.isUtc=Be,Wr.isUTC=Be,Wr.zoneAbbr=Nn,Wr.zoneName=Ln,Wr.dates=x("dates accessor is deprecated. Use date instead.",Fr),Wr.months=x("months accessor is deprecated. Use month instead",ct),Wr.years=x("years accessor is deprecated. Use year instead",dr),Wr.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ae),Wr.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Le);var Yr=Wr,Vr=E.prototype;Vr.calendar=O,Vr.longDateFormat=A,Vr.invalidDate=M,Vr.ordinal=P,Vr.preparse=Bn,Vr.postformat=Bn,Vr.relativeTime=D,Vr.pastFuture=j,Vr.set=T,Vr.months=rt,Vr.monthsShort=ot,Vr.monthsParse=st,Vr.monthsRegex=ht,Vr.monthsShortRegex=dt,Vr.week=kt,Vr.firstDayOfYear=Tt,Vr.firstDayOfWeek=Ct,Vr.weekdays=Mt,Vr.weekdaysMin=Dt,Vr.weekdaysShort=Pt,Vr.weekdaysParse=Nt,Vr.weekdaysRegex=Bt,Vr.weekdaysShortRegex=Ft,Vr.weekdaysMinRegex=$t,Vr.isPM=Vt,Vr.meridiem=Gt,Zt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=x("moment.lang is deprecated. Use moment.locale instead.",Zt),t.langData=x("moment.langData is deprecated. Use moment.localeData instead.",te);var Gr=Math.abs,qr=ii("ms"),Xr=ii("s"),Kr=ii("m"),Zr=ii("h"),Qr=ii("d"),Jr=ii("w"),to=ii("M"),eo=ii("y"),no=oi("milliseconds"),io=oi("seconds"),ro=oi("minutes"),oo=oi("hours"),ao=oi("days"),so=oi("months"),lo=oi("years"),co=Math.round,uo={s:45,m:45,h:22,d:26,M:11},ho=Math.abs,fo=we.prototype;fo.abs=Gn,fo.add=Xn,fo.subtract=Kn,fo.as=ei,fo.asMilliseconds=qr,fo.asSeconds=Xr,fo.asMinutes=Kr,fo.asHours=Zr,fo.asDays=Qr,fo.asWeeks=Jr,fo.asMonths=to,fo.asYears=eo,fo.valueOf=ni,fo._bubble=Qn,fo.get=ri,fo.milliseconds=no,fo.seconds=io,fo.minutes=ro,fo.hours=oo,fo.days=ao,fo.weeks=ai,fo.months=so,fo.years=lo,fo.humanize=di,fo.toISOString=hi,fo.toString=hi,fo.toJSON=hi,fo.locale=un,fo.localeData=dn,fo.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hi),fo.lang=Br,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),K("x",Wi),K("X",Gi),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(b(t))}),t.version="2.15.1",e(ve),t.fn=Yr,t.min=be,t.max=_e,t.now=Dr,t.utc=c,t.unix=In,t.months=Un,t.isDate=o,t.locale=Zt,t.invalid=f,t.duration=Fe,t.isMoment=v,t.weekdays=Wn,t.parseZone=Rn,t.localeData=te,t.isDuration=xe,t.monthsShort=Hn,t.weekdaysMin=Vn,t.defineLocale=Qt,t.updateLocale=Jt,t.locales=ee,t.weekdaysShort=Yn,t.normalizeUnits=L,t.relativeTimeRounding=ci,t.relativeTimeThreshold=ui,t.calendarFormat=Ye,t.prototype=Yr;var po=t;return po}),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(n,i,r){t.daterangepicker=e(t,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("moment");try{n=require("jquery")}catch(t){if(n=window.jQuery,!n)throw new Error("jQuery dependency not found")}e(t,exports,i,n)}else t.daterangepicker=e(t,{},t.moment,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,i){var r=function(t,e,n){this.parentEl="body",this.element=i(t),this.isShowing=!1;var r='<div class="daterangepicker dropdown-menu"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><div class="buttons"><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div></div>';"object"==typeof e&&null!==e||(e={}),this.parentEl=i("object"==typeof e&&e.parentEl&&i(e.parentEl).length?e.parentEl:this.parentEl),this.container=i(r).appendTo(this.parentEl),this.setOptions(e,n);var o=this.container;i.each(this.buttonClasses,function(t,e){o.find("button").addClass(e)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",i.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",i.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",i.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",i.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",i.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",i.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",i.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",i.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",i.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",i.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",i.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",i.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",i.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":i.proxy(this.show,this),"focus.daterangepicker":i.proxy(this.show,this),"keyup.daterangepicker":i.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",i.proxy(this.toggle,this))};r.prototype={constructor:r,setOptions:function(t,e){if(this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.timeZone=n().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.alwaysApply=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData()._week.dow},this.cb=function(){},"string"==typeof t.format&&(this.format=t.format),"string"==typeof t.separator&&(this.separator=t.separator),"string"==typeof t.startDate&&(this.startDate=n(t.startDate,this.format)),"string"==typeof t.endDate&&(this.endDate=n(t.endDate,this.format)),"string"==typeof t.minDate&&(this.minDate=n(t.minDate,this.format)),"string"==typeof t.maxDate&&(this.maxDate=n(t.maxDate,this.format)),"object"==typeof t.startDate&&(this.startDate=n(t.startDate)),"object"==typeof t.endDate&&(this.endDate=n(t.endDate)),"object"==typeof t.minDate&&(this.minDate=n(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=n(t.maxDate)),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"object"==typeof t.locale&&("object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.fromLabel&&(this.locale.fromLabel=t.locale.fromLabel),"string"==typeof t.locale.toLabel&&(this.locale.toLabel=t.locale.toLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.opens&&(this.opens=t.opens),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=[t.buttonClasses]),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.alwaysApply&&(this.alwaysApply=t.alwaysApply),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker12Hour&&(this.timePicker12Hour=t.timePicker12Hour),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var o,a,s;if("undefined"==typeof t.startDate&&"undefined"==typeof t.endDate&&i(this.element).is("input[type=text]")){var l=i(this.element).val(),c=l.split(this.separator);o=a=null,2==c.length?(o=n(c[0],this.format),a=n(c[1],this.format)):this.singleDatePicker&&""!==l&&(o=n(l,this.format),a=n(l,this.format)),null!==o&&null!==a&&(this.startDate=o,this.endDate=a)}if("string"==typeof t.timeZone||"number"==typeof t.timeZone?(this.timeZone=t.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=n(this.startDate).utcOffset(),"object"==typeof t.ranges){for(s in t.ranges)o="string"==typeof t.ranges[s][0]?n(t.ranges[s][0],this.format):n(t.ranges[s][0]),a="string"==typeof t.ranges[s][1]?n(t.ranges[s][1],this.format):n(t.ranges[s][1]),this.minDate&&o.isBefore(this.minDate)&&(o=n(this.minDate)),this.maxDate&&a.isAfter(this.maxDate)&&(a=n(this.maxDate)),this.minDate&&a.isBefore(this.minDate)||this.maxDate&&o.isAfter(this.maxDate)||(this.ranges[s]=[o,a]);var u="<ul>";for(s in this.ranges)u+="<li>"+s+"</li>";u+="<li>"+this.locale.customRangeLabel+"</li>",u+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(u)}if("function"==typeof e&&(this.cb=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:n([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]},this.rightCalendar={month:n([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]},"right"==this.opens||"center"==this.opens){var d=this.container.find(".calendar.first"),h=this.container.find(".calendar.second");h.hasClass("single")&&(h.removeClass("single"),d.addClass("single")),d.removeClass("left").addClass("right"),h.removeClass("right").addClass("left"),this.singleDatePicker&&(d.show(),h.hide())}"undefined"!=typeof t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(t){"string"==typeof t&&(this.startDate=n(t,this.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.startDate=n(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(t){"string"==typeof t&&(this.endDate=n(t,this.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.endDate=n(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),e=null,i=null;2===t.length&&(e=n(t[0],this.format).utcOffset(this.timeZone),i=n(t[1],this.format).utcOffset(this.timeZone)),(this.singleDatePicker||null===e||null===i)&&(e=n(this.element.val(),this.format).utcOffset(this.timeZone),i=e),i.isBefore(e)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=e,this.endDate=i,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var t={top:0,left:0},e=i(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},e=this.parentEl[0].clientWidth+this.parentEl.offset().left),"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,right:e-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>i(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(){this.element.hasClass("active")?this.hide():this.show()},show:function(){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=i.proxy(function(t){this.outsideClick(t)},this),i(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.updateCalendars(),this.element.trigger("show.daterangepicker",this))},outsideClick:function(t){var e=i(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-date").length||this.hide()},hide:function(){this.isShowing&&(i(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1)},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(t){var e=i(t.target),r=n(e.val(),this.format);if(r.isValid()){var o,a;"daterangepicker_start"===e.attr("name")?(o=r,a=this.endDate):(o=this.startDate,a=r),this.setCustomDates(o,a)}},inputsKeydown:function(t){13===t.keyCode&&(this.inputsChanged(t),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(t){var e=t.target.innerHTML;if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(t){var e=i(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){var e=i(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){var e=i(t.target).attr("data-title"),n=e.substr(1,1),r=e.substr(3,1),o=i(t.target).parents(".calendar");o.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][r].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][r].format(this.format))},setCustomDates:function(t,e){if(this.chosenLabel=this.locale.customRangeLabel,t.isAfter(e)){var i=this.endDate.diff(this.startDate);e=n(t).add(i,"ms")}this.startDate=t,this.endDate=e,this.updateView(),this.updateCalendars()},clickDate:function(t){var e,r,o=i(t.target).attr("data-title"),a=o.substr(1,1),s=o.substr(3,1),l=i(t.target).parents(".calendar");if(l.hasClass("left")){if(e=this.leftCalendar.calendar[a][s],r=this.endDate,"object"==typeof this.dateLimit){var c=n(e).add(this.dateLimit).startOf("day");r.isAfter(c)&&(r=c)}}else if(e=this.startDate,r=this.rightCalendar.calendar[a][s],"object"==typeof this.dateLimit){var u=n(r).subtract(this.dateLimit).startOf("day");e.isBefore(u)&&(e=u)}this.singleDatePicker&&l.hasClass("left")?r=e.clone():this.singleDatePicker&&l.hasClass("right")&&(e=r.clone()),l.find("td").removeClass("active"),i(t.target).addClass("active"),this.setCustomDates(e,r),this.timePicker||r.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply(),this.alwaysApply&&this.updateInputText()},clickApply:function(){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(t){var e=i(t.target).closest(".calendar").hasClass("left"),n=e?"left":"right",r=this.container.find(".calendar."+n),o=parseInt(r.find(".monthselect").val(),10),a=r.find(".yearselect").val();this[n+"Calendar"].month.month(o).year(a),this.updateCalendars()},updateTime:function(t){var e=i(t.target).closest(".calendar"),n=e.hasClass("left"),r=parseInt(e.find(".hourselect").val(),10),o=parseInt(e.find(".minuteselect").val(),10),a=0;if(this.timePickerSeconds&&(a=parseInt(e.find(".secondselect").val(),10)),this.timePicker12Hour){var s=e.find(".ampmselect").val();"PM"===s&&r<12&&(r+=12),"AM"===s&&12===r&&(r=0)}if(n){var l=this.startDate.clone();l.hour(r),l.minute(o),l.second(a),this.startDate=l,this.leftCalendar.month.hour(r).minute(o).second(a),this.singleDatePicker&&(this.endDate=l.clone())}else{var c=this.endDate.clone();c.hour(r),c.minute(o),c.second(a),this.endDate=c,this.singleDatePicker&&(this.startDate=c.clone()),this.rightCalendar.month.hour(r).minute(o).second(a)}this.updateView(),this.updateCalendars(),this.alwaysApply&&this.updateInputText()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()),e++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(t,e,i,r,o,a){var s,l=n([e,t]).daysInMonth(),c=n([e,t,1]),u=n([e,t,l]),d=n(c).subtract(1,"month").month(),h=n(c).subtract(1,"month").year(),f=n([h,d]).daysInMonth(),p=c.day(),m=[];for(m.firstDay=c,m.lastDay=u,s=0;s<6;s++)m[s]=[];var g=f-p+this.locale.firstDay+1;g>f&&(g-=7),p==this.locale.firstDay&&(g=f-6);var v,y,b=n([h,d,g,12,r,o]).utcOffset(this.timeZone);for(s=0,v=0,y=0;s<42;s++,v++,b=n(b).add(24,"hour"))s>0&&v%7===0&&(v=0,y++),m[y][v]=b.clone().hour(i),b.hour(12),this.minDate&&m[y][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&m[y][v].isBefore(this.minDate)&&"left"==a&&(m[y][v]=this.minDate.clone()),this.maxDate&&m[y][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&m[y][v].isAfter(this.maxDate)&&"right"==a&&(m[y][v]=this.maxDate.clone());return m},renderDropdowns:function(t,e,n){for(var i=t.month(),r=t.year(),o=n&&n.year()||r+5,a=e&&e.year()||r-50,s='<select class="monthselect">',l=r==a,c=r==o,u=0;u<12;u++)(!l||u>=e.month())&&(!c||u<=n.month())&&(s+="<option value='"+u+"'"+(u===i?" selected='selected'":"")+">"+this.locale.monthNames[u]+"</option>");s+="</select>";for(var d='<select class="yearselect">',h=a;h<=o;h++)d+='<option value="'+h+'"'+(h===r?' selected="selected"':"")+">"+h+"</option>";return d+="</select>",s+d},renderCalendar:function(t,e,n,r,o){var a='<div class="calendar-date">';a+='<table class="table-condensed">',a+="<thead>",a+="<tr>",this.showWeekNumbers&&(a+="<th></th>"),a+=!n||n.isBefore(t.firstDay)?'<th class="prev available"><i class="fa fa-arrow-left icon icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':"<th></th>";var s=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(s=this.renderDropdowns(t[1][1],n,r)),a+='<th colspan="5" class="month">'+s+"</th>",a+=!r||r.isAfter(t.lastDay)?'<th class="next available"><i class="fa fa-arrow-right icon icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':"<th></th>",a+="</tr>",a+="<tr>",this.showWeekNumbers&&(a+='<th class="week">'+this.locale.weekLabel+"</th>"),i.each(this.locale.daysOfWeek,function(t,e){a+="<th>"+e+"</th>"}),a+="</tr>",a+="</thead>",a+="<tbody>";for(var l=0;l<6;l++){a+="<tr>",this.showWeekNumbers&&(a+='<td class="week">'+t[l][0].week()+"</td>");for(var c=0;c<7;c++){var u="available ";u+=t[l][c].month()==t[1][1].month()?"":"off",n&&t[l][c].isBefore(n,"day")||r&&t[l][c].isAfter(r,"day")?u=" off disabled ":t[l][c].format("YYYY-MM-DD")==e.format("YYYY-MM-DD")?(u+=" active ",t[l][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(u+=" start-date "),t[l][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(u+=" end-date ")):t[l][c]>=this.startDate&&t[l][c]<=this.endDate&&(u+=" in-range ",t[l][c].isSame(this.startDate)&&(u+=" start-date "),t[l][c].isSame(this.endDate)&&(u+=" end-date "));var d="r"+l+"c"+c;a+='<td class="'+u.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+d+'">'+t[l][c].date()+"</td>"}a+="</tr>"}a+="</tbody>",a+="</table>",a+="</div>";var h;if(this.timePicker){a+='<div class="calendar-time">',a+='<select class="hourselect">';var f=0,p=23;n&&("left"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&(f=n.hour(),e.hour()<f&&e.hour(f),this.timePicker12Hour&&f>=12&&e.hour()>=12&&(f-=12),this.timePicker12Hour&&12==f&&(f=1)),r&&("right"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&(p=r.hour(),e.hour()>p&&e.hour(p),this.timePicker12Hour&&p>=12&&e.hour()>=12&&(p-=12));var m=0,g=23,v=e.hour();for(this.timePicker12Hour&&(m=1,g=12,v>=12&&(v-=12),0===v&&(v=12)),h=m;h<=g;h++)a+=h==v?'<option value="'+h+'" selected="selected">'+h+"</option>":h<f||h>p?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>";a+="</select> : ",a+='<select class="minuteselect">';
var y=0,b=59;for(n&&("left"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==n.format("YYYY-MM-DD h A")&&(y=n.minute(),e.minute()<y&&e.minute(y)),r&&("right"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==r.format("YYYY-MM-DD h A")&&(b=r.minute(),e.minute()>b&&e.minute(b)),h=0;h<60;h+=this.timePickerIncrement){var _=h;_<10&&(_="0"+_),a+=h==e.minute()?'<option value="'+h+'" selected="selected">'+_+"</option>":h<y||h>b?'<option value="'+h+'" disabled="disabled" class="disabled">'+_+"</option>":'<option value="'+h+'">'+_+"</option>"}if(a+="</select> ",this.timePickerSeconds){for(a+=': <select class="secondselect">',h=0;h<60;h+=this.timePickerIncrement){var _=h;_<10&&(_="0"+_),a+=h==e.second()?'<option value="'+h+'" selected="selected">'+_+"</option>":'<option value="'+h+'">'+_+"</option>"}a+="</select>"}if(this.timePicker12Hour){a+='<select class="ampmselect">';var w="",x="";n&&("left"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&n.hour()>=12&&(w=' disabled="disabled" class="disabled"'),r&&("right"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&r.hour()<12&&(x=' disabled="disabled" class="disabled"'),a+=e.hour()>=12?'<option value="AM"'+w+'>AM</option><option value="PM" selected="selected"'+x+">PM</option>":'<option value="AM" selected="selected"'+w+'>AM</option><option value="PM"'+x+">PM</option>",a+="</select>"}a+="</div>"}return a},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},i.fn.daterangepicker=function(t,e){return this.each(function(){var n=i(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new r(n,t,e))}),this}}),function(t){t.easytabs=function(e,n){var i,r,o,a,s,l,c=this,u=t(e),d={animate:!0,panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",animationSpeed:"normal",tabs:"> ul > li",updateHash:!0,cycle:!1,collapsible:!1,collapsedClass:"collapsed",collapsedByDefault:!0,uiTabs:!1,transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInEasing:"swing",transitionOutEasing:"swing",transitionCollapse:"slideUp",transitionUncollapse:"slideDown",transitionCollapseEasing:"swing",transitionUncollapseEasing:"swing",containerClass:"",tabsClass:"",tabClass:"",panelClass:"",cache:!0,event:"click",touchevent:"touchend",panelContext:u},h={fast:200,normal:400,slow:600},f=!1;c.init=function(){c.settings=l=t.extend({},d,n),l.bind_str=l.event+".easytabs",l.touchbind_str=l.touchevent+".easytabs",l.uiTabs&&(l.tabActiveClass="ui-tabs-selected",l.containerClass="ui-tabs ui-widget ui-widget-content ui-corner-all",l.tabsClass="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all",l.tabClass="ui-state-default ui-corner-top",l.panelClass="ui-tabs-panel ui-widget-content ui-corner-bottom"),l.collapsible&&void 0!==n.defaultTab&&void 0===n.collpasedByDefault&&(l.collapsedByDefault=!1),"string"==typeof l.animationSpeed&&(l.animationSpeed=h[l.animationSpeed]),t("a.anchor").remove().prependTo("body"),u.data("easytabs",{}),c.setTransitions(),c.getTabs(),m(),g(),y(),x(),k(),u.attr("data-easytabs",!0)},c.setTransitions=function(){o=l.animate?{show:l.transitionIn,hide:l.transitionOut,speed:l.animationSpeed,collapse:l.transitionCollapse,uncollapse:l.transitionUncollapse,halfSpeed:l.animationSpeed/2}:{show:"show",hide:"hide",speed:0,collapse:"hide",uncollapse:"show",halfSpeed:0}},c.getTabs=function(){var e;c.tabs=u.find(l.tabs),c.panels=t(),c.tabs.each(function(){var n=t(this),i=n.children("a"),r=n.children("a").data("target");n.data("easytabs",{}),void 0!==r&&null!==r?n.data("easytabs").ajax=i.attr("href"):r=i.attr("href"),r=r.match(/#([^\?]+)/)[1],e=l.panelContext.find("#"+r),e.length?(e.data("easytabs",{position:e.css("position"),visibility:e.css("visibility")}),e.not(l.panelActiveClass).hide(),c.panels=c.panels.add(e),n.data("easytabs").panel=e):(c.tabs=c.tabs.not(n),"console"in window&&console.warn("Warning: tab without matching panel for selector '#"+r+"' removed from set"))})},c.selectTab=function(t,e){var n=window.location,i=(n.hash.match(/^[^\?]*/)[0],t.parent().data("easytabs").panel),r=t.parent().data("easytabs").ajax;l.collapsible&&!s&&(t.hasClass(l.tabActiveClass)||t.hasClass(l.collapsedClass))?c.toggleTabCollapse(t,i,r,e):t.hasClass(l.tabActiveClass)&&i.hasClass(l.panelActiveClass)?l.cache||b(t,i,r,e):b(t,i,r,e)},c.toggleTabCollapse=function(t,e,n,i){c.panels.stop(!0,!0),p(u,"easytabs:before",[t,e,l])&&(c.tabs.filter("."+l.tabActiveClass).removeClass(l.tabActiveClass).children().removeClass(l.tabActiveClass),t.hasClass(l.collapsedClass)?(!n||l.cache&&t.parent().data("easytabs").cached||(u.trigger("easytabs:ajax:beforeSend",[t,e]),e.load(n,function(n,i,r){t.parent().data("easytabs").cached=!0,u.trigger("easytabs:ajax:complete",[t,e,n,i,r])})),t.parent().removeClass(l.collapsedClass).addClass(l.tabActiveClass).children().removeClass(l.collapsedClass).addClass(l.tabActiveClass),e.addClass(l.panelActiveClass)[o.uncollapse](o.speed,l.transitionUncollapseEasing,function(){u.trigger("easytabs:midTransition",[t,e,l]),"function"==typeof i&&i()})):(t.addClass(l.collapsedClass).parent().addClass(l.collapsedClass),e.removeClass(l.panelActiveClass)[o.collapse](o.speed,l.transitionCollapseEasing,function(){u.trigger("easytabs:midTransition",[t,e,l]),"function"==typeof i&&i()})))},c.matchTab=function(t){return c.tabs.find("[href='"+t+"'],[data-target='"+t+"']").first()},c.matchInPanel=function(t){return t&&c.validId(t)?c.panels.filter(":has("+t+")").first():[]},c.validId=function(t){return t.substr(1).match(/^[A-Za-z]+[A-Za-z0-9\-_:\.].$/)},c.selectTabFromHashChange=function(){var t,e=window.location.hash.match(/^[^\?]*/)[0],n=c.matchTab(e);l.updateHash&&(n.length?(s=!0,c.selectTab(n)):(t=c.matchInPanel(e),t.length?(e="#"+t.attr("id"),n=c.matchTab(e),s=!0,c.selectTab(n)):i.hasClass(l.tabActiveClass)||l.cycle||(""===e||c.matchTab(a).length||u.closest(e).length)&&(s=!0,c.selectTab(r))))},c.cycleTabs=function(e){l.cycle&&(e%=c.tabs.length,$tab=t(c.tabs[e]).children("a").first(),s=!0,c.selectTab($tab,function(){setTimeout(function(){c.cycleTabs(e+1)},l.cycle)}))},c.publicMethods={select:function(e){var n;0===(n=c.tabs.filter(e)).length?0===(n=c.tabs.find("a[href='"+e+"']")).length&&0===(n=c.tabs.find("a"+e)).length&&0===(n=c.tabs.find("[data-target='"+e+"']")).length&&0===(n=c.tabs.find("a[href$='"+e+"']")).length&&t.error("Tab '"+e+"' does not exist in tab set"):n=n.children("a").first(),c.selectTab(n)}};var p=function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},m=function(){u.addClass(l.containerClass),c.tabs.parent().addClass(l.tabsClass),c.tabs.addClass(l.tabClass),c.panels.addClass(l.panelClass)},g=function(){var e,n=window.location.hash.match(/^[^\?]*/)[0],o=c.matchTab(n).parent();1===o.length?(i=o,l.cycle=!1):(e=c.matchInPanel(n),e.length?(n="#"+e.attr("id"),i=c.matchTab(n).parent()):(i=c.tabs.parent().find(l.defaultTab),0===i.length&&t.error("The specified default tab ('"+l.defaultTab+"') could not be found in the tab set ('"+l.tabs+"') out of "+c.tabs.length+" tabs."))),r=i.children("a").first(),v(o)},v=function(e){var n,o;l.collapsible&&0===e.length&&l.collapsedByDefault?i.addClass(l.collapsedClass).children().addClass(l.collapsedClass):(n=t(i.data("easytabs").panel),o=i.data("easytabs").ajax,!o||l.cache&&i.data("easytabs").cached||(u.trigger("easytabs:ajax:beforeSend",[r,n]),n.load(o,function(t,e,o){i.data("easytabs").cached=!0,u.trigger("easytabs:ajax:complete",[r,n,t,e,o])})),i.data("easytabs").panel.show().addClass(l.panelActiveClass),i.addClass(l.tabActiveClass).children().addClass(l.tabActiveClass)),u.trigger("easytabs:initialised",[r,n])},y=function(){c.tabs.children("a").bind(l.bind_str+" "+l.touchbind_str,function(e){f||"undefined"==typeof event||"touchend"!==event.type||(f=!0,c.tabs.children("a").unbind(l.bind_str)),l.cycle=!1,s=!1,c.selectTab(t(this)),e.preventDefault?e.preventDefault():e.returnValue=!1})},b=function(t,e,n,i){if(c.panels.stop(!0,!0),p(u,"easytabs:before",[t,e,l])){var r,d,h,f,m=c.panels.filter(":visible"),g=e.parent(),v=window.location.hash.match(/^[^\?]*/)[0];l.animate&&(r=_(e),d=m.length?w(m):0,h=r-d),a=v,f=function(){u.trigger("easytabs:midTransition",[t,e,l]),l.animate&&"fadeIn"==l.transitionIn&&h<0&&g.animate({height:g.height()+h},o.halfSpeed).css({"min-height":""}),l.updateHash&&!s?history&&history.replaceState?""==window.location.hash?history.replaceState(null,null,window.location+"#"+e.attr("id")):history.replaceState(null,null,window.location.href.replace(window.location.hash,"#"+e.attr("id"))):window.location.hash="#"+e.attr("id"):s=!1,e[o.show](o.speed,l.transitionInEasing,function(){g.css({height:"","min-height":""}),u.trigger("easytabs:after",[t,e,l]),"function"==typeof i&&i()})},!n||l.cache&&t.parent().data("easytabs").cached||(u.trigger("easytabs:ajax:beforeSend",[t,e]),e.load(n,function(n,i,r){t.parent().data("easytabs").cached=!0,u.trigger("easytabs:ajax:complete",[t,e,n,i,r])})),l.animate&&"fadeOut"==l.transitionOut&&(h>0?g.animate({height:g.height()+h},o.halfSpeed):g.css({"min-height":g.height()})),l.animate||g.css({"min-height":g.height()}),c.tabs.filter("."+l.tabActiveClass).removeClass(l.tabActiveClass).children().removeClass(l.tabActiveClass),c.tabs.filter("."+l.collapsedClass).removeClass(l.collapsedClass).children().removeClass(l.collapsedClass),t.parent().addClass(l.tabActiveClass).children().addClass(l.tabActiveClass),c.panels.filter("."+l.panelActiveClass).removeClass(l.panelActiveClass),e.addClass(l.panelActiveClass),m.length?m[o.hide](o.speed,l.transitionOutEasing,f):e[o.uncollapse](o.speed,l.transitionUncollapseEasing,f)}},_=function(e){if(e.data("easytabs")&&e.data("easytabs").lastHeight)return e.data("easytabs").lastHeight;var n,i,r=e.css("display");try{n=t("<div></div>",{position:"absolute",visibility:"hidden",overflow:"hidden"})}catch(e){n=t("<div></div>",{visibility:"hidden",overflow:"hidden"})}return i=e.wrap(n).css({position:"relative",visibility:"hidden",display:"block"}).outerHeight(),e.unwrap(),e.css({position:e.data("easytabs").position,visibility:e.data("easytabs").visibility,display:r}),e.data("easytabs").lastHeight=i,i},w=function(t){var e=t.outerHeight();return t.data("easytabs")?t.data("easytabs").lastHeight=e:t.data("easytabs",{lastHeight:e}),e},x=function(){"function"==typeof t(window).hashchange?t(window).hashchange(function(){c.selectTabFromHashChange()}):t.address&&"function"==typeof t.address.change&&t.address.change(function(){c.selectTabFromHashChange()})},k=function(){var t;l.cycle&&(t=c.tabs.index(i),setTimeout(function(){c.cycleTabs(t+1)},l.cycle))};c.init()},t.fn.easytabs=function(e){var n=arguments;return this.each(function(){var i=t(this),r=i.data("easytabs");if(void 0===r&&(r=new t.easytabs(this,e),i.data("easytabs",r)),r.publicMethods[e])return r.publicMethods[e](Array.prototype.slice.call(n,1))})}}(jQuery),function(t){t.fn.shorten=function(e){"use strict";var n={showChars:100,minHideChars:10,ellipsesText:"...",moreText:"more",lessText:"less",onLess:function(){},onMore:function(){},errMsg:null,force:!1};return e&&t.extend(n,e),!(t(this).data("jquery.shorten")&&!n.force)&&(t(this).data("jquery.shorten",!0),t(document).off("click",".morelink"),t(document).on({click:function(){var e=t(this);return e.hasClass("less")?(e.removeClass("less"),e.html(n.moreText),e.parent().prev().prev().show(),e.parent().prev().hide(0,function(){n.onLess()})):(e.addClass("less"),e.html(n.lessText),e.parent().prev().prev().hide(),e.parent().prev().show(0,function(){n.onMore()})),!1}},".morelink"),this.each(function(){var e=t(this),i=e.html(),r=e.text().length;if(r>n.showChars+n.minHideChars){var o=i.substr(0,n.showChars);if(o.indexOf("<")>=0){for(var a=!1,s="",l=0,c=[],u=null,d=0,h=0;h<=n.showChars;d++)if("<"!=i[d]||a||(a=!0,u=i.substring(d+1,i.indexOf(">",d)),"/"==u[0]?u!="/"+c[0]?n.errMsg="ERROR en HTML: the top of the stack should be the tag that closes":c.shift():"br"!=u.toLowerCase()&&c.unshift(u)),a&&">"==i[d]&&(a=!1),a)s+=i.charAt(d);else if(h++,l<=n.showChars)s+=i.charAt(d),l++;else if(c.length>0){for(j=0;j<c.length;j++)s+="</"+c[j]+">";break}o=t("<div/>").html(s+'<span class="ellip">'+n.ellipsesText+"</span>").html()}else o+=n.ellipsesText;var f='<div class="shortcontent">'+o+'</div><div class="allcontent">'+i+'</div><span><a href="javascript://nop/" class="morelink">'+n.moreText+"</a></span>";e.html(f),e.find(".allcontent").hide(),t(".shortcontent p:last",e).css("margin-bottom",0)}}))}}(jQuery),!function(t){var e=function(t){this.$context=t};e.prototype.check=function(){this.$context.find(":checkbox").filter(":not(:disabled)").prop("checked",!0)},e.prototype.uncheck=function(){this.$context.find(":checkbox").filter(":not(:disabled)").prop("checked",!1)},e.prototype.toggle=function(){this.$context.find(":checkbox").filter(":not(:disabled)").each(function(){var e=t(this);e.prop("checked",!e.is(":checked"))})},e.prototype.max=function(t){if(0===t)this.$context.off("click.checkboxes");else if(t>0){var e=this;this.$context.on("click.checkboxes.max",":checkbox",function(){e.$context.find(":checked").length===t?e.$context.find(":checkbox:not(:checked)").prop("disabled",!0):e.$context.find(":checkbox:not(:checked)").prop("disabled",!1)})}},e.prototype.range=function(e){if(e){var n=this;this.$context.on("click.checkboxes.range",":checkbox",function(e){var i=t(e.target);if(e.shiftKey&&n.$last){var r=n.$context.find(":checkbox"),o=r.index(n.$last),a=r.index(i),s=Math.min(o,a),l=Math.max(o,a)+1;r.slice(s,l).filter(":not(:disabled)").prop("checked",i.prop("checked"))}n.$last=i})}else this.$context.off("click.checkboxes.range")};var n=t.fn.checkboxes;t.fn.checkboxes=function(n){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=t(this),o=r.data("checkboxes");o||r.data("checkboxes",o=new e(r,"object"==typeof n&&n)),"string"==typeof n&&o[n]&&o[n].apply(o,i)})},t.fn.checkboxes.Constructor=e,t.fn.checkboxes.noConflict=function(){return t.fn.checkboxes=n,this},t(document).on("click.checkboxes.data-api","[data-toggle^=checkboxes]",function(e){var n=t(e.target),i=n.attr("href"),r=t(n.data("context")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("action");r&&o&&(e.preventDefault(),r.checkboxes(o))}),t(document).on("ready.checkboxes.data-api",function(){t("[data-toggle^=checkboxes]").each(function(){var e=t(this),n=e.data();delete n.toggle;for(var i in n)e.checkboxes(i,n[i])})})}(window.jQuery),function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=c),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var i=t(this),r=i.data(T);r||(r=new n(this,e),i.data(T,r))})}function n(e,n){function S(e){if(!(st()||t(e.target).closest(n.excludedElements,Ut).length>0)){var i,r=e.originalEvent?e.originalEvent:e,o=C?r.touches[0]:r;return Ht=_,C?Wt=r.touches.length:e.preventDefault(),jt=0,Nt=null,$t=null,Lt=0,It=0,Rt=0,Bt=1,Ft=0,Yt=ht(),zt=mt(),ot(),!C||Wt===n.fingers||n.fingers===y||z()?(ct(0,o),Vt=Ct(),2==Wt&&(ct(1,r.touches[1]),It=Rt=yt(Yt[0].start,Yt[1].start)),(n.swipeStatus||n.pinchStatus)&&(i=j(r,Ht))):i=!1,i===!1?(Ht=k,j(r,Ht),i):(lt(!0),null)}}function E(t){var e=t.originalEvent?t.originalEvent:t;if(Ht!==x&&Ht!==k&&!at()){var i,r=C?e.touches[0]:e,o=ut(r);if(Gt=Ct(),C&&(Wt=e.touches.length),Ht=w,2==Wt&&(0==It?(ct(1,e.touches[1]),It=Rt=yt(Yt[0].start,Yt[1].start)):(ut(e.touches[1]),Rt=yt(Yt[0].end,Yt[1].end),$t=_t(Yt[0].end,Yt[1].end)),Bt=bt(It,Rt),Ft=Math.abs(It-Rt)),Wt===n.fingers||n.fingers===y||!C||z()){if(Nt=kt(o.start,o.end),F(t,Nt),jt=wt(o.start,o.end),Lt=vt(),ft(Nt,jt),(n.swipeStatus||n.pinchStatus)&&(i=j(e,Ht)),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var a=!0;if(n.triggerOnTouchLeave){var s=Tt(this);a=St(o.end,s)}!n.triggerOnTouchEnd&&a?Ht=D(w):n.triggerOnTouchLeave&&!a&&(Ht=D(x)),Ht!=k&&Ht!=x||j(e,Ht)}}else Ht=k,j(e,Ht);i===!1&&(Ht=k,j(e,Ht))}}function O(t){var e=t.originalEvent;return C&&e.touches.length>0?(rt(),!0):(at()&&(Wt=Xt),t.preventDefault(),Gt=Ct(),Lt=vt(),I()?(Ht=k,j(e,Ht)):n.triggerOnTouchEnd||0==n.triggerOnTouchEnd&&Ht===w?(Ht=x,j(e,Ht)):!n.triggerOnTouchEnd&&q()?(Ht=x,N(e,Ht,f)):Ht===w&&(Ht=k,j(e,Ht)),lt(!1),null)}function A(){Wt=0,Gt=0,Vt=0,It=0,Rt=0,Bt=1,ot(),lt(!1)}function M(t){var e=t.originalEvent;n.triggerOnTouchLeave&&(Ht=D(x),j(e,Ht))}function P(){Ut.unbind(Ot,S),Ut.unbind(Dt,A),Ut.unbind(At,E),Ut.unbind(Mt,O),Pt&&Ut.unbind(Pt,M),lt(!1)}function D(t){var e=t,i=B(),r=L(),o=I();return!i||o?e=k:!r||t!=w||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!r&&t==x&&n.triggerOnTouchLeave&&(e=k):e=x,e}function j(t,e){var n=void 0;return Y()||W()?n=N(t,e,d):(U()||z())&&n!==!1&&(n=N(t,e,h)),nt()&&n!==!1?n=N(t,e,p):it()&&n!==!1?n=N(t,e,m):et()&&n!==!1&&(n=N(t,e,f)),e===k&&A(t),e===x&&(C?0==t.touches.length&&A(t):A(t)),n}function N(e,c,u){var g=void 0;if(u==d){if(Ut.trigger("swipeStatus",[c,Nt||null,jt||0,Lt||0,Wt]),n.swipeStatus&&(g=n.swipeStatus.call(Ut,e,c,Nt||null,jt||0,Lt||0,Wt),g===!1))return!1;if(c==x&&H()){if(Ut.trigger("swipe",[Nt,jt,Lt,Wt]),n.swipe&&(g=n.swipe.call(Ut,e,Nt,jt,Lt,Wt),g===!1))return!1;switch(Nt){case i:Ut.trigger("swipeLeft",[Nt,jt,Lt,Wt]),n.swipeLeft&&(g=n.swipeLeft.call(Ut,e,Nt,jt,Lt,Wt));break;case r:Ut.trigger("swipeRight",[Nt,jt,Lt,Wt]),n.swipeRight&&(g=n.swipeRight.call(Ut,e,Nt,jt,Lt,Wt));break;case o:Ut.trigger("swipeUp",[Nt,jt,Lt,Wt]),n.swipeUp&&(g=n.swipeUp.call(Ut,e,Nt,jt,Lt,Wt));break;case a:Ut.trigger("swipeDown",[Nt,jt,Lt,Wt]),n.swipeDown&&(g=n.swipeDown.call(Ut,e,Nt,jt,Lt,Wt))}}}if(u==h){if(Ut.trigger("pinchStatus",[c,$t||null,Ft||0,Lt||0,Wt,Bt]),n.pinchStatus&&(g=n.pinchStatus.call(Ut,e,c,$t||null,Ft||0,Lt||0,Wt,Bt),g===!1))return!1;if(c==x&&$())switch($t){case s:Ut.trigger("pinchIn",[$t||null,Ft||0,Lt||0,Wt,Bt]),n.pinchIn&&(g=n.pinchIn.call(Ut,e,$t||null,Ft||0,Lt||0,Wt,Bt));break;case l:Ut.trigger("pinchOut",[$t||null,Ft||0,Lt||0,Wt,Bt]),n.pinchOut&&(g=n.pinchOut.call(Ut,e,$t||null,Ft||0,Lt||0,Wt,Bt))}}return u==f?c!==k&&c!==x||(clearTimeout(Zt),X()&&!Q()?(Kt=Ct(),Zt=setTimeout(t.proxy(function(){Kt=null,Ut.trigger("tap",[e.target]),n.tap&&(g=n.tap.call(Ut,e,e.target))},this),n.doubleTapThreshold)):(Kt=null,Ut.trigger("tap",[e.target]),n.tap&&(g=n.tap.call(Ut,e,e.target)))):u==p?c!==k&&c!==x||(clearTimeout(Zt),Kt=null,Ut.trigger("doubletap",[e.target]),n.doubleTap&&(g=n.doubleTap.call(Ut,e,e.target))):u==m&&(c!==k&&c!==x||(clearTimeout(Zt),Kt=null,Ut.trigger("longtap",[e.target]),n.longTap&&(g=n.longTap.call(Ut,e,e.target)))),g}function L(){var t=!0;return null!==n.threshold&&(t=jt>=n.threshold),t}function I(){var t=!1;return null!==n.cancelThreshold&&null!==Nt&&(t=pt(Nt)-jt>=n.cancelThreshold),t}function R(){return null===n.pinchThreshold||Ft>=n.pinchThreshold}function B(){var t;return t=!n.maxTimeThreshold||!(Lt>=n.maxTimeThreshold)}function F(t,e){if(n.allowPageScroll===c||z())t.preventDefault();else{var s=n.allowPageScroll===u;switch(e){case i:(n.swipeLeft&&s||!s&&n.allowPageScroll!=g)&&t.preventDefault();break;case r:(n.swipeRight&&s||!s&&n.allowPageScroll!=g)&&t.preventDefault();break;case o:(n.swipeUp&&s||!s&&n.allowPageScroll!=v)&&t.preventDefault();break;case a:(n.swipeDown&&s||!s&&n.allowPageScroll!=v)&&t.preventDefault()}}}function $(){var t=V(),e=G(),n=R();return t&&e&&n}function z(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function U(){return!(!$()||!z())}function H(){var t=B(),e=L(),n=V(),i=G(),r=I(),o=!r&&i&&n&&e&&t;return o}function W(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function Y(){return!(!H()||!W())}function V(){return Wt===n.fingers||n.fingers===y||!C}function G(){return 0!==Yt[0].end.x}function q(){return!!n.tap}function X(){return!!n.doubleTap}function K(){return!!n.longTap}function Z(){if(null==Kt)return!1;var t=Ct();return X()&&t-Kt<=n.doubleTapThreshold}function Q(){return Z()}function J(){return(1===Wt||!C)&&(isNaN(jt)||0===jt)}function tt(){return Lt>n.longTapThreshold&&jt<b}function et(){return!(!J()||!q())}function nt(){return!(!Z()||!X())}function it(){return!(!tt()||!K())}function rt(){qt=Ct(),Xt=event.touches.length+1}function ot(){qt=0,Xt=0}function at(){var t=!1;if(qt){var e=Ct()-qt;e<=n.fingerReleaseThreshold&&(t=!0)}return t}function st(){return!(Ut.data(T+"_intouch")!==!0)}function lt(t){t===!0?(Ut.bind(At,E),Ut.bind(Mt,O),Pt&&Ut.bind(Pt,M)):(Ut.unbind(At,E,!1),Ut.unbind(Mt,O,!1),Pt&&Ut.unbind(Pt,M,!1)),Ut.data(T+"_intouch",t===!0)}function ct(t,e){var n=void 0!==e.identifier?e.identifier:0;return Yt[t].identifier=n,Yt[t].start.x=Yt[t].end.x=e.pageX||e.clientX,Yt[t].start.y=Yt[t].end.y=e.pageY||e.clientY,Yt[t]}function ut(t){var e=void 0!==t.identifier?t.identifier:0,n=dt(e);return n.end.x=t.pageX||t.clientX,n.end.y=t.pageY||t.clientY,n}function dt(t){for(var e=0;e<Yt.length;e++)if(Yt[e].identifier==t)return Yt[e]}function ht(){for(var t=[],e=0;e<=5;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}function ft(t,e){e=Math.max(e,pt(t)),zt[t].distance=e}function pt(t){if(zt[t])return zt[t].distance}function mt(){var t={};return t[i]=gt(i),t[r]=gt(r),t[o]=gt(o),t[a]=gt(a),t}function gt(t){return{direction:t,distance:0}}function vt(){return Gt-Vt}function yt(t,e){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return Math.round(Math.sqrt(n*n+i*i))}function bt(t,e){var n=e/t*1;return n.toFixed(2)}function _t(){return Bt<1?l:s}function wt(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function xt(t,e){var n=t.x-e.x,i=e.y-t.y,r=Math.atan2(i,n),o=Math.round(180*r/Math.PI);return o<0&&(o=360-Math.abs(o)),o}function kt(t,e){var n=xt(t,e);return n<=45&&n>=0?i:n<=360&&n>=315?i:n>=135&&n<=225?r:n>45&&n<135?a:o}function Ct(){var t=new Date;return t.getTime()}function Tt(e){e=t(e);var n=e.offset(),i={left:n.left,right:n.left+e.outerWidth(),top:n.top,bottom:n.top+e.outerHeight()};return i}function St(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}var Et=C||!n.fallbackToMouseEvents,Ot=Et?"touchstart":"mousedown",At=Et?"touchmove":"mousemove",Mt=Et?"touchend":"mouseup",Pt=Et?null:"mouseleave",Dt="touchcancel",jt=0,Nt=null,Lt=0,It=0,Rt=0,Bt=1,Ft=0,$t=0,zt=null,Ut=t(e),Ht="start",Wt=0,Yt=null,Vt=0,Gt=0,qt=0,Xt=0,Kt=0,Zt=null;try{Ut.bind(Ot,S),Ut.bind(Dt,A)}catch(e){t.error("events not supported "+Ot+","+Dt+" on jQuery.swipe")}this.enable=function(){return Ut.bind(Ot,S),Ut.bind(Dt,A),Ut},this.disable=function(){return P(),Ut},this.destroy=function(){return P(),Ut.data(T,null),Ut},this.option=function(e,i){if(void 0!==n[e]){if(void 0===i)return n[e];n[e]=i}else t.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}var i="left",r="right",o="up",a="down",s="in",l="out",c="none",u="auto",d="swipe",h="pinch",f="tap",p="doubletap",m="longtap",g="horizontal",v="vertical",y="all",b=10,_="start",w="move",x="end",k="cancel",C="ontouchstart"in window,T="TouchSwipe",S={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};t.fn.swipe=function(n){var i=t(this),r=i.data(T);if(r&&"string"==typeof n){if(r[n])return r[n].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+n+" does not exist on jQuery.swipe")}else if(!(r||"object"!=typeof n&&n))return e.apply(this,arguments);return i},t.fn.swipe.defaults=S,t.fn.swipe.phases={PHASE_START:_,PHASE_MOVE:w,PHASE_END:x,PHASE_CANCEL:k},t.fn.swipe.directions={LEFT:i,RIGHT:r,UP:o,DOWN:a,IN:s,OUT:l},t.fn.swipe.pageScroll={NONE:c,HORIZONTAL:g,VERTICAL:v,AUTO:u},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:y}}),function(t){"use strict";t.fn.fitVids=function(e){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var i=document.createElement("div"),r=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],o="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";i.className="fit-vids-style",i.id="fit-vids-style",i.style.display="none",i.innerHTML=o,r.parentNode.insertBefore(i,r)}return e&&t.extend(n,e),this.each(function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='ustream.tv']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&e.push(n.customSelector);var i=t(this).find(e.join(","));i=i.not("object object, .audio_player object"),i.each(function(){var e=t(this);if(!("embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){var n="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),i=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),r=n/i;if(!e.attr("id")){var o="fitvid"+Math.floor(999999*Math.random());e.attr("id",o)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*r+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),!function(t,e,n,i){function r(t,e){var n=Math.max(0,t[0]-e[0],e[0]-t[1]),i=Math.max(0,t[2]-e[1],e[1]-t[3]);return n+i}function o(e,n,i,r){var o=e.length,a=r?"offset":"position";for(i=i||0;o--;){var s=e[o].el?e[o].el:t(e[o]),l=s[a]();l.left+=parseInt(s.css("margin-left"),10),l.top+=parseInt(s.css("margin-top"),10),n[o]=[l.left-i,l.left+s.outerWidth()+i,l.top-i,l.top+s.outerHeight()+i]}}function a(t,e){var n=e.offset();return{left:t.left-n.left,top:t.top-n.top}}function s(t,e,n){e=[e.left,e.top],n=n&&[n.left,n.top];for(var i,o=t.length,a=[];o--;)i=t[o],a[o]=[o,r(i,e),n&&r(i,n)];return a=a.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]})}function l(e){this.options=t.extend({},d,e),this.containers=[],this.options.rootGroup||(this.scrollProxy=t.proxy(this.scroll,this),this.dragProxy=t.proxy(this.drag,this),this.dropProxy=t.proxy(this.drop,this),this.placeholder=t(this.options.placeholder),e.isValidTarget||(this.options.isValidTarget=i))}function c(e,n){this.el=e,this.options=t.extend({},u,n),this.group=l.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var i=this.rootGroup.options.itemPath;this.target=i?this.el.find(i):this.el,this.target.on(m.start,this.handle,t.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var u={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},d={afterMove:function(){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(){return!0},onCancel:function(){},onDrag:function(t,e){t.css(e)},onDragStart:function(e,n){e.css({height:e.outerHeight(),width:e.outerWidth()}),e.addClass(n.group.options.draggedClass),t("body").addClass(n.group.options.bodyClass)},onDrop:function(e,n){e.removeClass(n.group.options.draggedClass).removeAttr("style"),t("body").removeClass(n.group.options.bodyClass)},onMousedown:function(t,e,n){if(!n.target.nodeName.match(/^(input|select|textarea)$/i))return n.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(e,n,i){var r=t.extend({},e.data());return i?[n]:(n[0]&&(r.children=n),delete r.subContainers,delete r.sortable,r)},tolerance:0},h={},f=0,p={left:0,top:0,bottom:0,right:0},m={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},g="subContainers";l.get=function(t){return h[t.group]||(t.group===i&&(t.group=f++),h[t.group]=new l(t)),h[t.group]},l.prototype={dragInit:function(e,n){this.$document=t(n.el[0].ownerDocument);var i=t(e.target).closest(this.options.itemSelector);if(i.length){if(this.item=i,this.itemContainer=n,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,d.onMousedown,e))return;this.setPointer(e),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(t){if(!this.dragging){if(!this.distanceMet(t)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,d.onDragStart,t),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(t),this.options.onDrag(this.item,a(this.pointer,this.item.offsetParent()),d.onDrag,t);var e=this.getPointer(t),n=this.sameResultBox,r=this.options.tolerance;(!n||n.top-r>e.top||n.bottom+r<e.top||n.left-r>e.left||n.right+r<e.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=i))},drop:function(t){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,d.onCancel,t),this.options.onDrop(this.item,this.getContainer(this.item),d.onDrop,t),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=i,this.dragging=!1)},searchValidTarget:function(t,e){t||(t=this.relativePointer||this.pointer,e=this.lastRelativePointer||this.lastPointer);for(var n=s(this.getContainerDimensions(),t,e),r=n.length;r--;){var o=n[r][0],l=n[r][1];if(!l||this.options.pullPlaceholder){var c=this.containers[o];if(!c.disabled){if(!this.$getOffsetParent()){var u=c.getItemOffsetParent();t=a(t,u),e=a(e,u)}if(c.searchValidTarget(t,e))return!0}}}this.sameResultBox&&(this.sameResultBox=i)},movePlaceholder:function(t,e,n,i){var r=this.lastAppendedItem;!i&&r&&r[0]===e[0]||(e[n](this.placeholder),this.lastAppendedItem=e,this.sameResultBox=i,this.options.afterMove(this.placeholder,t,e))},getContainerDimensions:function(){return this.containerDimensions||o(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(n)},$getOffsetParent:function(){if(this.offsetParent===i){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.rootGroup)for(;t--;)if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=!1;break}this.offsetParent=e}return this.offsetParent},setPointer:function(t){var e=this.getPointer(t);if(this.$getOffsetParent()){var n=a(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=n}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(t){var e=this.getPointer(t);return Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(t){var e=t.originalEvent||t.originalEvent.touches&&t.originalEvent.touches[0];return{left:t.pageX||e.pageX,top:t.pageY||e.pageY}},setupDelayTimer:function(){var t=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){t.delayMet=!0},this.options.delay))},scroll:function(){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(e){var n=this,i=["drag","drop","scroll"];t.each(i,function(t,i){n.$document[e](m[i],n[i+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=i},clearDimensions:function(){this.traverse(function(t){t._clearDimensions()})},traverse:function(t){t(this);for(var e=this.containers.length;e--;)this.containers[e].traverse(t)},_clearDimensions:function(){this.containerDimensions=i},_destroy:function(){h[this.options.group]=i}},c.prototype={dragInit:function(t){var e=this.rootGroup;!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(t)&&e.dragInit(t,this)},isValidDrag:function(t){return 1==t.which||"touchstart"==t.type&&1==t.originalEvent.touches.length},searchValidTarget:function(t,e){var n=s(this.getItemDimensions(),t,e),i=n.length,r=this.rootGroup,o=!r.options.isValidTarget||r.options.isValidTarget(r.item,this);if(!i&&o)return r.movePlaceholder(this,this.target,"append"),!0;for(;i--;){var a=n[i][0],l=n[i][1];if(!l&&this.hasChildGroup(a)){var c=this.getContainerGroup(a).searchValidTarget(t,e);
if(c)return!0}else if(o)return this.movePlaceholder(a,t),!0}},movePlaceholder:function(e,n){var i=t(this.items[e]),r=this.itemDimensions[e],o="after",a=i.outerWidth(),s=i.outerHeight(),l=i.offset(),c={left:l.left,right:l.left+a,top:l.top,bottom:l.top+s};if(this.options.vertical){var u=(r[2]+r[3])/2,d=n.top<=u;d?(o="before",c.bottom-=s/2):c.top+=s/2}else{var h=(r[0]+r[1])/2,f=n.left<=h;f?(o="before",c.right-=a/2):c.left+=a/2}this.hasChildGroup(e)&&(c=p),this.rootGroup.movePlaceholder(this,i,o,c)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),o(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var t,e=this.el;return t="relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent()},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(e){var r=t.data(this.items[e],g);if(r===i){var o=this.$getChildren(this.items[e],"container");if(r=!1,o[0]){var a=t.extend({},this.options,{rootGroup:this.rootGroup,group:f++});r=o[n](a).data(n).group}t.data(this.items[e],g,r)}return r},$getChildren:function(e,n){var i=this.rootGroup.options,r=i[n+"Path"],o=i[n+"Selector"];return e=t(e),r&&(e=e.find(r)),e.children(o)},_serialize:function(e,n){var i=this,r=n?"item":"container",o=this.$getChildren(e,r).not(this.options.exclude).map(function(){return i._serialize(t(this),!n)}).get();return this.rootGroup.options.serialize(e,o,n)},traverse:function(e){t.each(this.items||[],function(){var n=t.data(this,g);n&&n.traverse(e)}),e(this)},_clearDimensions:function(){this.itemDimensions=i},_destroy:function(){var e=this;this.target.off(m.start,this.handle),this.el.removeData(n),this.options.drop&&(this.group.containers=t.grep(this.group.containers,function(t){return t!=e})),t.each(this.items||[],function(){t.removeData(this,g)})}};var v={enable:function(){this.traverse(function(t){t.disabled=!1})},disable:function(){this.traverse(function(t){t.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(t){t._clearDimensions()})},destroy:function(){this.traverse(function(t){t._destroy()})}};t.extend(c.prototype,v),t.fn[n]=function(e){var r=Array.prototype.slice.call(arguments,1);return this.map(function(){var o=t(this),a=o.data(n);return a&&v[e]?v[e].apply(a,r)||this:(a||e!==i&&"object"!=typeof e||o.data(n,new c(o,e)),this)})}}(jQuery,window,"sortable"),function(t){t.jscroll={defaults:{debug:!1,autoTrigger:!0,autoTriggerUntil:!1,loadingHtml:"<small>Loading...</small>",padding:0,nextSelector:"a:last",contentSelector:"",pagingSelector:"",callback:!1}};var e=function(e,n){function i(){var e=t(p.loadingHtml).filter("img").attr("src");if(e){var n=new Image;n.src=e}}function r(){e.find(".jscroll-inner").length||e.contents().wrapAll('<div class="jscroll-inner" />')}function o(t){if(p.pagingSelector)var e=t.closest(p.pagingSelector).hide();else{var e=t.parent().not(".jscroll-inner,.jscroll-added").addClass("jscroll-next-parent").hide();e.length||t.wrap('<div class="jscroll-next-parent" />').parent().hide()}}function a(){return b.unbind(".jscroll").removeData("jscroll").find(".jscroll-inner").children().unwrap().filter(".jscroll-added").children().unwrap()}function s(){r();var t=e.find("div.jscroll-inner").first(),n=e.data("jscroll"),i=parseInt(e.css("borderTopWidth")),o=isNaN(i)?0:i,a=parseInt(e.css("paddingTop"))+o,s=m?b.scrollTop():e.offset().top,l=t.length?t.offset().top:0,c=Math.ceil(s-l+b.height()+a);if(!n.waiting&&c+p.padding>=t.outerHeight())return d("info","jScroll:",t.outerHeight()-c,"from bottom. Loading next request..."),u()}function l(t){return t=t||e.data("jscroll"),t&&t.nextHref?(c(),!0):(d("warn","jScroll: nextSelector not found - destroying"),a(),!1)}function c(){var t=e.find(p.nextSelector).first();p.autoTrigger&&(p.autoTriggerUntil===!1||p.autoTriggerUntil>0)?(o(t),y.height()<=v.height()&&s(),b.unbind(".jscroll").bind("scroll.jscroll",function(){return s()}),p.autoTriggerUntil>0&&p.autoTriggerUntil--):(b.unbind(".jscroll"),t.bind("click.jscroll",function(){return o(t),u(),!1}))}function u(){var n=e.find("div.jscroll-inner").first(),i=e.data("jscroll");return i.waiting=!0,n.append('<div class="jscroll-added" />').children(".jscroll-added").last().html('<div class="jscroll-loading">'+p.loadingHtml+"</div>"),e.animate({scrollTop:n.outerHeight()},0,function(){n.find("div.jscroll-added").last().load(i.nextHref,function(n,r){if("error"===r)return a();var o=t(this).find(p.nextSelector).first();i.waiting=!1,i.nextHref=!!o.attr("href")&&t.trim(o.attr("href")+" "+p.contentSelector),t(".jscroll-next-parent",e).remove(),l(),p.callback&&p.callback.call(this),d("dir",i)})})}function d(t){if(p.debug&&"object"==typeof console&&("object"==typeof t||"function"==typeof console[t]))if("object"==typeof t){var e=[];for(var n in t)"function"==typeof console[n]?(e=t[n].length?t[n]:[t[n]],console[n].apply(console,e)):console.log.apply(console,e)}else console[t].apply(console,Array.prototype.slice.call(arguments,1))}var h=e.data("jscroll"),f="function"==typeof n?{callback:n}:n,p=t.extend({},t.jscroll.defaults,f,h||{}),m="visible"===e.css("overflow-y"),g=e.find(p.nextSelector).first(),v=t(window),y=t("body"),b=m?v:e,_=t.trim(g.attr("href")+" "+p.contentSelector);return e.data("jscroll",t.extend({},h,{initialized:!0,waiting:!1,nextHref:_})),r(),i(),c(),t.extend(e.jscroll,{destroy:a}),e};t.fn.jscroll=function(n){return this.each(function(){var i=t(this),r=i.data("jscroll");if(!r||!r.initialized){new e(i,n)}})}}(jQuery),jQuery.fn.sortElements=function(){var t=[].sort;return function(e,n){n=n||function(){return this};var i=this.map(function(){var t=n.call(this),e=t.parentNode,i=e.insertBefore(document.createTextNode(""),t.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,i),e.removeChild(i)}});return t.call(this,e).each(function(t){i[t].call(n.call(this))})}}(),function(t){function e(){var t=a();t!==s&&(s=t,u.trigger("orientationchange"))}function n(e,n,i,r){var o=i.type;i.type=n,t.event.dispatch.call(e,i,r),i.type=o}t.attrFn=t.attrFn||{};var i="ontouchstart"in window,r={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:i,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:i?"touchstart":"mousedown",endevent:i?"touchend":"mouseup",moveevent:i?"touchmove":"mousemove",tapevent:i?"tap":"click",scrollevent:i?"touchmove":"scroll",hold_timer:null,tap_timer:null};t.isTouchCapable=function(){return r.touch_capable},t.getStartEvent=function(){return r.startevent},t.getEndEvent=function(){return r.endevent},t.getMoveEvent=function(){return r.moveevent},t.getTapEvent=function(){return r.tapevent},t.getScrollEvent=function(){return r.scrollevent},t.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(e,n){t.fn[n]=function(t){return t?this.on(n,t):this.trigger(n)},t.attrFn[n]=!0}),t.event.special.tapstart={setup:function(){var e=this,i=t(e);i.on(r.startevent,function t(o){if(i.data("callee",t),o.which&&1!==o.which)return!1;var a=o.originalEvent,s={position:{x:r.touch_capable?a.touches[0].screenX:o.screenX,y:r.touch_capable?a.touches[0].screenY:o.screenY},offset:{x:r.touch_capable?Math.round(a.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(o.pageX-(i.offset()?i.offset().left:0)),y:r.touch_capable?Math.round(a.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(o.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:o.target};return n(e,"tapstart",o,s),!0})},remove:function(){t(this).off(r.startevent,t(this).data.callee)}},t.event.special.tapmove={setup:function(){var e=this,i=t(e);i.on(r.moveevent,function t(o){i.data("callee",t);var a=o.originalEvent,s={position:{x:r.touch_capable?a.touches[0].screenX:o.screenX,y:r.touch_capable?a.touches[0].screenY:o.screenY},offset:{x:r.touch_capable?Math.round(a.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(o.pageX-(i.offset()?i.offset().left:0)),y:r.touch_capable?Math.round(a.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(o.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:o.target};return n(e,"tapmove",o,s),!0})},remove:function(){t(this).off(r.moveevent,t(this).data.callee)}},t.event.special.tapend={setup:function(){var e=this,i=t(e);i.on(r.endevent,function t(o){i.data("callee",t);var a=o.originalEvent,s={position:{x:r.touch_capable?a.changedTouches[0].screenX:o.screenX,y:r.touch_capable?a.changedTouches[0].screenY:o.screenY},offset:{x:r.touch_capable?Math.round(a.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(o.pageX-(i.offset()?i.offset().left:0)),y:r.touch_capable?Math.round(a.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(o.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:o.target};return n(e,"tapend",o,s),!0})},remove:function(){t(this).off(r.endevent,t(this).data.callee)}},t.event.special.taphold={setup:function(){var e,i=this,o=t(i),a={x:0,y:0},s=0,l=0;o.on(r.startevent,function t(c){if(c.which&&1!==c.which)return!1;o.data("tapheld",!1),e=c.target;var u=c.originalEvent,d=Date.now(),h={x:r.touch_capable?u.touches[0].screenX:c.screenX,y:r.touch_capable?u.touches[0].screenY:c.screenY},f={x:r.touch_capable?u.touches[0].pageX-u.touches[0].target.offsetLeft:c.offsetX,y:r.touch_capable?u.touches[0].pageY-u.touches[0].target.offsetTop:c.offsetY};a.x=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageX:c.pageX,a.y=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageY:c.pageY,s=a.x,l=a.y;var p=o.parent().data("threshold")?o.parent().data("threshold"):o.data("threshold"),m="undefined"!=typeof p&&p!==!1&&parseInt(p)?parseInt(p):r.taphold_threshold;return r.hold_timer=window.setTimeout(function(){var p=a.x-s,m=a.y-l;if(c.target==e&&(a.x==s&&a.y==l||p>=-r.tap_pixel_range&&p<=r.tap_pixel_range&&m>=-r.tap_pixel_range&&m<=r.tap_pixel_range)){o.data("tapheld",!0);var g=Date.now(),v={x:r.touch_capable?u.touches[0].screenX:c.screenX,y:r.touch_capable?u.touches[0].screenY:c.screenY},y={x:r.touch_capable?Math.round(u.changedTouches[0].pageX-(o.offset()?o.offset().left:0)):Math.round(c.pageX-(o.offset()?o.offset().left:0)),y:r.touch_capable?Math.round(u.changedTouches[0].pageY-(o.offset()?o.offset().top:0)):Math.round(c.pageY-(o.offset()?o.offset().top:0))},b=g-d,_={startTime:d,endTime:g,startPosition:h,startOffset:f,endPosition:v,endOffset:y,duration:b,target:c.target};o.data("callee1",t),n(i,"taphold",c,_)}},m),!0}).on(r.endevent,function t(){o.data("callee2",t),o.data("tapheld",!1),window.clearTimeout(r.hold_timer)}).on(r.moveevent,function t(e){o.data("callee3",t),s=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,l=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY})},remove:function(){t(this).off(r.startevent,t(this).data.callee1).off(r.endevent,t(this).data.callee2).off(r.moveevent,t(this).data.callee3)}},t.event.special.doubletap={setup:function(){var e,i,o,a,s=this,l=t(s),c=null,u=!1;l.on(r.startevent,function t(n){return(!n.which||1===n.which)&&(l.data("doubletapped",!1),e=n.target,l.data("callee1",t),o=n.originalEvent,c||(c={position:{x:r.touch_capable?o.touches[0].screenX:n.screenX,y:r.touch_capable?o.touches[0].screenY:n.screenY},offset:{x:r.touch_capable?Math.round(o.changedTouches[0].pageX-(l.offset()?l.offset().left:0)):Math.round(n.pageX-(l.offset()?l.offset().left:0)),y:r.touch_capable?Math.round(o.changedTouches[0].pageY-(l.offset()?l.offset().top:0)):Math.round(n.pageY-(l.offset()?l.offset().top:0))},time:Date.now(),target:n.target}),!0)}).on(r.endevent,function t(d){var h=Date.now(),f=l.data("lastTouch")||h+1,p=h-f;if(window.clearTimeout(i),l.data("callee2",t),p<r.doubletap_int&&d.target==e&&p>100){l.data("doubletapped",!0),window.clearTimeout(r.tap_timer);var m={position:{x:r.touch_capable?d.originalEvent.changedTouches[0].screenX:d.screenX,y:r.touch_capable?d.originalEvent.changedTouches[0].screenY:d.screenY},offset:{x:r.touch_capable?Math.round(o.changedTouches[0].pageX-(l.offset()?l.offset().left:0)):Math.round(d.pageX-(l.offset()?l.offset().left:0)),y:r.touch_capable?Math.round(o.changedTouches[0].pageY-(l.offset()?l.offset().top:0)):Math.round(d.pageY-(l.offset()?l.offset().top:0))},time:Date.now(),target:d.target},g={firstTap:c,secondTap:m,interval:m.time-c.time};u||(n(s,"doubletap",d,g),c=null),u=!0,a=window.setTimeout(function(){u=!1},r.doubletap_int)}else l.data("lastTouch",h),i=window.setTimeout(function(){c=null,window.clearTimeout(i)},r.doubletap_int,[d]);l.data("lastTouch",h)})},remove:function(){t(this).off(r.startevent,t(this).data.callee1).off(r.endevent,t(this).data.callee2)}},t.event.special.singletap={setup:function(){var e=this,i=t(e),o=null,a=null,s={x:0,y:0};i.on(r.startevent,function t(e){return(!e.which||1===e.which)&&(a=Date.now(),o=e.target,i.data("callee1",t),s.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,s.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,!0)}).on(r.endevent,function t(l){if(i.data("callee2",t),l.target==o){var c=l.originalEvent.changedTouches?l.originalEvent.changedTouches[0].pageX:l.pageX,u=l.originalEvent.changedTouches?l.originalEvent.changedTouches[0].pageY:l.pageY;r.tap_timer=window.setTimeout(function(){var t=s.x-c,o=s.y-u;if(!i.data("doubletapped")&&!i.data("tapheld")&&(s.x==c&&s.y==u||t>=-r.tap_pixel_range&&t<=r.tap_pixel_range&&o>=-r.tap_pixel_range&&o<=r.tap_pixel_range)){var d=l.originalEvent,h={position:{x:r.touch_capable?d.changedTouches[0].screenX:l.screenX,y:r.touch_capable?d.changedTouches[0].screenY:l.screenY},offset:{x:r.touch_capable?Math.round(d.changedTouches[0].pageX-(i.offset()?i.offset().left:0)):Math.round(l.pageX-(i.offset()?i.offset().left:0)),y:r.touch_capable?Math.round(d.changedTouches[0].pageY-(i.offset()?i.offset().top:0)):Math.round(l.pageY-(i.offset()?i.offset().top:0))},time:Date.now(),target:l.target};h.time-a<r.taphold_threshold&&n(e,"singletap",l,h)}},r.doubletap_int)}})},remove:function(){t(this).off(r.startevent,t(this).data.callee1).off(r.endevent,t(this).data.callee2)}},t.event.special.tap={setup:function(){var e,i,o=this,a=t(o),s=!1,l=null,c={x:0,y:0};a.on(r.startevent,function t(n){return a.data("callee1",t),(!n.which||1===n.which)&&(s=!0,c.x=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,c.y=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY,e=Date.now(),l=n.target,i=n.originalEvent.targetTouches?n.originalEvent.targetTouches:[n],!0)}).on(r.endevent,function t(u){a.data("callee2",t);var d=u.originalEvent.targetTouches?u.originalEvent.changedTouches[0].pageX:u.pageX,h=u.originalEvent.targetTouches?u.originalEvent.changedTouches[0].pageY:u.pageY,f=c.x-d,p=c.y-h;if(l==u.target&&s&&Date.now()-e<r.taphold_threshold&&(c.x==d&&c.y==h||f>=-r.tap_pixel_range&&f<=r.tap_pixel_range&&p>=-r.tap_pixel_range&&p<=r.tap_pixel_range)){for(var m=u.originalEvent,g=[],v=0;v<i.length;v++){var y={position:{x:r.touch_capable?m.changedTouches[v].screenX:u.screenX,y:r.touch_capable?m.changedTouches[v].screenY:u.screenY},offset:{x:r.touch_capable?Math.round(m.changedTouches[v].pageX-(a.offset()?a.offset().left:0)):Math.round(u.pageX-(a.offset()?a.offset().left:0)),y:r.touch_capable?Math.round(m.changedTouches[v].pageY-(a.offset()?a.offset().top:0)):Math.round(u.pageY-(a.offset()?a.offset().top:0))},time:Date.now(),target:u.target};g.push(y)}n(o,"tap",u,g)}})},remove:function(){t(this).off(r.startevent,t(this).data.callee1).off(r.endevent,t(this).data.callee2)}},t.event.special.swipe={setup:function(){function e(n){s=t(n.currentTarget),s.data("callee1",e),u.x=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,u.y=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY,d.x=u.x,d.y=u.y,l=!0;var i=n.originalEvent;o={position:{x:r.touch_capable?i.touches[0].screenX:n.screenX,y:r.touch_capable?i.touches[0].screenY:n.screenY},offset:{x:r.touch_capable?Math.round(i.changedTouches[0].pageX-(s.offset()?s.offset().left:0)):Math.round(n.pageX-(s.offset()?s.offset().left:0)),y:r.touch_capable?Math.round(i.changedTouches[0].pageY-(s.offset()?s.offset().top:0)):Math.round(n.pageY-(s.offset()?s.offset().top:0))},time:Date.now(),target:n.target}}function n(e){s=t(e.currentTarget),s.data("callee2",n),d.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,d.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY;var i,a=s.parent().data("xthreshold")?s.parent().data("xthreshold"):s.data("xthreshold"),h=s.parent().data("ythreshold")?s.parent().data("ythreshold"):s.data("ythreshold"),f="undefined"!=typeof a&&a!==!1&&parseInt(a)?parseInt(a):r.swipe_h_threshold,p="undefined"!=typeof h&&h!==!1&&parseInt(h)?parseInt(h):r.swipe_v_threshold;if(u.y>d.y&&u.y-d.y>p&&(i="swipeup"),u.x<d.x&&d.x-u.x>f&&(i="swiperight"),u.y<d.y&&d.y-u.y>p&&(i="swipedown"),u.x>d.x&&u.x-d.x>f&&(i="swipeleft"),void 0!=i&&l){u.x=0,u.y=0,d.x=0,d.y=0,l=!1;var m=e.originalEvent,g={position:{x:r.touch_capable?m.touches[0].screenX:e.screenX,y:r.touch_capable?m.touches[0].screenY:e.screenY},offset:{x:r.touch_capable?Math.round(m.changedTouches[0].pageX-(s.offset()?s.offset().left:0)):Math.round(e.pageX-(s.offset()?s.offset().left:0)),y:r.touch_capable?Math.round(m.changedTouches[0].pageY-(s.offset()?s.offset().top:0)):Math.round(e.pageY-(s.offset()?s.offset().top:0))},time:Date.now(),target:e.target},v=Math.abs(o.position.x-g.position.x),y=Math.abs(o.position.y-g.position.y),b={startEvnt:o,endEvnt:g,direction:i.replace("swipe",""),xAmount:v,yAmount:y,duration:g.time-o.time};c=!0,s.trigger("swipe",b).trigger(i,b)}}function i(e){s=t(e.currentTarget);var n="";if(s.data("callee3",i),c){var a=s.data("xthreshold"),u=s.data("ythreshold"),d="undefined"!=typeof a&&a!==!1&&parseInt(a)?parseInt(a):r.swipe_h_threshold,h="undefined"!=typeof u&&u!==!1&&parseInt(u)?parseInt(u):r.swipe_v_threshold,f=e.originalEvent,p={position:{x:r.touch_capable?f.changedTouches[0].screenX:e.screenX,y:r.touch_capable?f.changedTouches[0].screenY:e.screenY},offset:{x:r.touch_capable?Math.round(f.changedTouches[0].pageX-(s.offset()?s.offset().left:0)):Math.round(e.pageX-(s.offset()?s.offset().left:0)),y:r.touch_capable?Math.round(f.changedTouches[0].pageY-(s.offset()?s.offset().top:0)):Math.round(e.pageY-(s.offset()?s.offset().top:0))},time:Date.now(),target:e.target};o.position.y>p.position.y&&o.position.y-p.position.y>h&&(n="swipeup"),o.position.x<p.position.x&&p.position.x-o.position.x>d&&(n="swiperight"),o.position.y<p.position.y&&p.position.y-o.position.y>h&&(n="swipedown"),o.position.x>p.position.x&&o.position.x-p.position.x>d&&(n="swipeleft");var m=Math.abs(o.position.x-p.position.x),g=Math.abs(o.position.y-p.position.y),v={startEvnt:o,endEvnt:p,direction:n.replace("swipe",""),xAmount:m,yAmount:g,duration:p.time-o.time};s.trigger("swipeend",v)}l=!1,c=!1}var o,a=this,s=t(a),l=!1,c=!1,u={x:0,y:0},d={x:0,y:0};s.on(r.startevent,e),s.on(r.moveevent,n),s.on(r.endevent,i)},remove:function(){t(this).off(r.startevent,t(this).data.callee1).off(r.moveevent,t(this).data.callee2).off(r.endevent,t(this).data.callee3)}},t.event.special.scrollstart={setup:function(){function e(t,e){i=e,n(a,i?"scrollstart":"scrollend",t)}var i,o,a=this,s=t(a);s.on(r.scrollevent,function t(n){s.data("callee",t),i||e(n,!0),clearTimeout(o),o=setTimeout(function(){e(n,!1)},50)})},remove:function(){t(this).off(r.scrollevent,t(this).data.callee)}};var o,a,s,l,c,u=t(window),d={0:!0,180:!0};if(r.orientation_support){var h=window.innerWidth||u.width(),f=window.innerHeight||u.height(),p=50;l=h>f&&h-f>p,c=d[window.orientation],(l&&c||!l&&!c)&&(d={"-90":!0,90:!0})}t.event.special.orientationchange=o={setup:function(){return!r.orientation_support&&(s=a(),u.on("throttledresize",e),!0)},teardown:function(){return!r.orientation_support&&(u.off("throttledresize",e),!0)},add:function(t){var e=t.handler;t.handler=function(t){return t.orientation=a(),e.apply(this,arguments)}}},t.event.special.orientationchange.orientation=a=function(){var t=!0,e=document.documentElement;return t=r.orientation_support?d[window.orientation]:e&&e.clientWidth/e.clientHeight<1.1,t?"portrait":"landscape"},t.event.special.throttledresize={setup:function(){t(this).on("resize",b)},teardown:function(){t(this).off("resize",b)}};var m,g,v,y=250,b=function(){g=Date.now(),v=g-_,v>=y?(_=g,t(this).trigger("throttledresize")):(m&&window.clearTimeout(m),m=window.setTimeout(e,y-v))},_=0;t.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(e,n){t.event.special[e]={setup:function(){t(this).on(n,t.noop)}}})}(jQuery),function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof exports){var e=require("jquery");module.exports=t(e)}else t(window.jQuery||window.Zepto||window.$)}(function(t){"use strict";t.fn.serializeJSON=function(e){var n,i,r,o,a,s,l,c,u,d,h,f,p;return n=t.serializeJSON,i=this,r=n.setupOpts(e),o=i.serializeArray(),n.readCheckboxUncheckedValues(o,r,i),a={},t.each(o,function(t,e){s=e.name,l=e.value,u=n.extractTypeAndNameWithNoType(s),d=u.nameWithNoType,h=u.type,h||(h=n.attrFromInputWithName(i,s,"data-value-type")),n.validateType(s,h,r),"skip"!==h&&(f=n.splitInputNameIntoKeysArray(d),c=n.parseValue(l,s,h,r),p=!c&&n.shouldSkipFalsy(i,s,d,h,r),p||n.deepSet(a,f,c,r))}),a},t.serializeJSON={defaultOptions:{checkboxUncheckedValue:void 0,parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,skipFalsyValuesForTypes:[],skipFalsyValuesForFields:[],customTypes:{},defaultTypes:{string:function(t){return String(t)},number:function(t){return Number(t)},"boolean":function(t){var e=["false","null","undefined","","0"];return e.indexOf(t)===-1},"null":function(t){var e=["false","null","undefined","","0"];return e.indexOf(t)===-1?t:null},array:function(t){return JSON.parse(t)},object:function(t){return JSON.parse(t)},auto:function(e){return t.serializeJSON.parseValue(e,null,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0})},skip:null},useIntKeysAsArrayIndex:!1},setupOpts:function(e){var n,i,r,o,a,s;s=t.serializeJSON,null==e&&(e={}),r=s.defaultOptions||{},i=["checkboxUncheckedValue","parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","skipFalsyValuesForTypes","skipFalsyValuesForFields","customTypes","defaultTypes","useIntKeysAsArrayIndex"];for(n in e)if(i.indexOf(n)===-1)throw new Error("serializeJSON ERROR: invalid option '"+n+"'. Please use one of "+i.join(", "));return o=function(t){return e[t]!==!1&&""!==e[t]&&(e[t]||r[t])},a=o("parseAll"),{checkboxUncheckedValue:o("checkboxUncheckedValue"),parseNumbers:a||o("parseNumbers"),parseBooleans:a||o("parseBooleans"),parseNulls:a||o("parseNulls"),parseWithFunction:o("parseWithFunction"),skipFalsyValuesForTypes:o("skipFalsyValuesForTypes"),skipFalsyValuesForFields:o("skipFalsyValuesForFields"),typeFunctions:t.extend({},o("defaultTypes"),o("customTypes")),useIntKeysAsArrayIndex:o("useIntKeysAsArrayIndex")}},parseValue:function(e,n,i,r){var o,a;return o=t.serializeJSON,a=e,r.typeFunctions&&i&&r.typeFunctions[i]?a=r.typeFunctions[i](e):r.parseNumbers&&o.isNumeric(e)?a=Number(e):!r.parseBooleans||"true"!==e&&"false"!==e?r.parseNulls&&"null"==e?a=null:r.typeFunctions&&r.typeFunctions.string&&(a=r.typeFunctions.string(e)):a="true"===e,r.parseWithFunction&&!i&&(a=r.parseWithFunction(a,n)),a},isObject:function(t){return t===Object(t)},isUndefined:function(t){return void 0===t},isValidArrayIndex:function(t){return/^[0-9]+$/.test(String(t))},isNumeric:function(t){return t-parseFloat(t)>=0},optionKeys:function(t){if(Object.keys)return Object.keys(t);var e,n=[];for(e in t)n.push(e);return n},readCheckboxUncheckedValues:function(e,n,i){var r,o,a,s,l;null==n&&(n={}),l=t.serializeJSON,r="input[type=checkbox][name]:not(:checked):not([disabled])",o=i.find(r).add(i.filter(r)),o.each(function(i,r){if(a=t(r),s=a.attr("data-unchecked-value"),null==s&&(s=n.checkboxUncheckedValue),null!=s){if(r.name&&r.name.indexOf("[][")!==-1)throw new Error("serializeJSON ERROR: checkbox unchecked values are not supported on nested arrays of objects like '"+r.name+"'. See https://github.com/marioizquierdo/jquery.serializeJSON/issues/67");e.push({name:r.name,value:s})}})},extractTypeAndNameWithNoType:function(t){var e;return(e=t.match(/(.*):([^:]+)$/))?{nameWithNoType:e[1],type:e[2]}:{nameWithNoType:t,type:null}},shouldSkipFalsy:function(e,n,i,r,o){var a=t.serializeJSON,s=a.attrFromInputWithName(e,n,"data-skip-falsy");if(null!=s)return"false"!==s;var l=o.skipFalsyValuesForFields;if(l&&(l.indexOf(i)!==-1||l.indexOf(n)!==-1))return!0;var c=o.skipFalsyValuesForTypes;return null==r&&(r="string"),!(!c||c.indexOf(r)===-1)},attrFromInputWithName:function(t,e,n){var i,r,o;return i=e.replace(/(:|\.|\[|\]|\s)/g,"\\$1"),r='[name="'+i+'"]',o=t.find(r).add(t.filter(r)),o.attr(n)},validateType:function(e,n,i){var r,o;if(o=t.serializeJSON,r=o.optionKeys(i?i.typeFunctions:o.defaultOptions.defaultTypes),n&&r.indexOf(n)===-1)throw new Error("serializeJSON ERROR: Invalid type "+n+" found in input name '"+e+"', please use one of "+r.join(", "));return!0},splitInputNameIntoKeysArray:function(e){var n,i;return i=t.serializeJSON,n=e.split("["),n=t.map(n,function(t){return t.replace(/\]/g,"")}),""===n[0]&&n.shift(),n},deepSet:function(e,n,i,r){var o,a,s,l,c,u;if(null==r&&(r={}),u=t.serializeJSON,u.isUndefined(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!n||0===n.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");o=n[0],1===n.length?""===o?e.push(i):e[o]=i:(a=n[1],""===o&&(l=e.length-1,c=e[l],o=u.isObject(c)&&(u.isUndefined(c[a])||n.length>2)?l:l+1),""===a?!u.isUndefined(e[o])&&t.isArray(e[o])||(e[o]=[]):r.useIntKeysAsArrayIndex&&u.isValidArrayIndex(a)?!u.isUndefined(e[o])&&t.isArray(e[o])||(e[o]=[]):!u.isUndefined(e[o])&&u.isObject(e[o])||(e[o]={}),s=n.slice(1),u.deepSet(e[o],s,i,r))}}}),function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(n){function i(e,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=t({path:"/"},i.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(t){}r=n.write?n.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var l="";for(var c in o)o[c]&&(l+="; "+c,o[c]!==!0&&(l+="="+o[c]));return document.cookie=e+"="+r+l}e||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,h=0;h<u.length;h++){var f=u[h].split("="),p=f.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var m=f[0].replace(d,decodeURIComponent);if(p=n.read?n.read(p,m):n(p,m)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(t){}if(e===m){a=p;break}e||(a[m]=p)}catch(t){}}return a}}return i.set=i,i.get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}return e(function(){})});var jstz=function(){"use strict";var t="s",e=function(t){var e=-t.getTimezoneOffset();return null!==e?e:0},n=function(){return e(new Date(2010,0,1,0,0,0,0))},i=function(){return e(new Date(2010,5,1,0,0,0,0))},r=function(t){var r=t.getMonth()>5?i():n(),o=e(t);return r-o!==0},o=function(){var e=n(),r=i(),o=n()-i();return o<0?e+",1":o>0?r+",1,"+t:e+",0"},a=function(){var t=o();return new jstz.TimeZone(jstz.olson.timezones[t])};return{determine_timezone:function(){return"undefined"!=typeof console&&console.log("jstz.determine_timezone() is deprecated and will be removed in an upcoming version. Please use jstz.determine() instead."),a()},determine:a,date_is_dst:r}}();jstz.TimeZone=function(t){"use strict";var e=null,n=function(){return e},i=function(){for(var t=jstz.olson.ambiguity_list[e],n=t.length,i=0,r=t[0];i<n;i+=1)if(r=t[i],jstz.date_is_dst(jstz.olson.dst_start_dates[r]))return void(e=r)},r=function(){return"undefined"!=typeof jstz.olson.ambiguity_list[e]};return e=t,r()&&i(),{name:n}},jstz.olson={},jstz.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,1":"Europe/Moscow","180,0":"Asia/Baghdad","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Yerevan","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},jstz.olson.dst_start_dates={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"Atlantic/Stanley":new Date(2011,8,4,7,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Campo_Grande":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2011,2,13,2,0,0,0),"America/New_York":new Date(2011,2,13,7,0,0,0),"Asia/Gaza":new Date(2011,2,26,23,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Minsk":new Date(2011,2,27,2,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Africa/Cairo":new Date(2010,3,30,4,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),"Asia/Baku":new Date(2011,2,27,8,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0)},jstz.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["Atlantic/Stanley","America/Asuncion","America/Santiago","America/Campo_Grande"],
"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Gaza","Asia/Beirut","Europe/Minsk","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Africa/Cairo"],"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"]},function(){window.BrowserTZone||(window.BrowserTZone={}),BrowserTZone.setCookie=function(){return Cookies.set("browser.timezone",jstz.determine().name(),{expires:365,path:"/"})},jQuery(function(){return BrowserTZone.setCookie()})}.call(this),function(t,e,n,i){"use strict";var r=n("html"),o=n(t),a=n(e),s=n.fancybox=function(){s.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,u=e.createTouch!==i,d=function(t){return t&&t.hasOwnProperty&&t instanceof n},h=function(t){return t&&"string"===n.type(t)},f=function(t){return h(t)&&t.indexOf("%")>0},p=function(t){return t&&!(t.style.overflow&&"hidden"===t.style.overflow)&&(t.clientWidth&&t.scrollWidth>t.clientWidth||t.clientHeight&&t.scrollHeight>t.clientHeight)},m=function(t,e){var n=parseInt(t,10)||0;return e&&f(t)&&(n=s.getViewport()[e]/100*n),Math.ceil(n)},g=function(t,e){return m(t,e)+"px"};n.extend(s,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!u,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){if(t&&(n.isPlainObject(e)||(e={}),!1!==s.close(!0)))return n.isArray(t)||(t=d(t)?n(t).get():[t]),n.each(t,function(r,o){var a,l,c,u,f,p,m,g={};"object"===n.type(o)&&(o.nodeType&&(o=n(o)),d(o)?(g={href:o.data("fancybox-href")||o.attr("href"),title:o.data("fancybox-title")||o.attr("title"),isDom:!0,element:o},n.metadata&&n.extend(!0,g,o.metadata())):g=o),a=e.href||g.href||(h(o)?o:null),l=e.title!==i?e.title:g.title||"",c=e.content||g.content,u=c?"html":e.type||g.type,!u&&g.isDom&&(u=o.data("fancybox-type"),u||(f=o.prop("class").match(/fancybox\.(\w+)/),u=f?f[1]:null)),h(a)&&(u||(s.isImage(a)?u="image":s.isSWF(a)?u="swf":"#"===a.charAt(0)?u="inline":h(o)&&(u="html",c=o)),"ajax"===u&&(p=a.split(/\s+/,2),a=p.shift(),m=p.shift())),c||("inline"===u?a?c=n(h(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):g.isDom&&(c=o):"html"===u?c=a:u||a||!g.isDom||(u="inline",c=o)),n.extend(g,{href:a,type:u,content:c,title:l,selector:m}),t[r]=g}),s.opts=n.extend(!0,{},s.defaults,e),e.keys!==i&&(s.opts.keys=!!e.keys&&n.extend({},s.defaults.keys,e.keys)),s.group=t,s._start(s.opts.index)},cancel:function(){var t=s.coming;t&&!1!==s.trigger("onCancel")&&(s.hideLoading(),s.ajaxLoad&&s.ajaxLoad.abort(),s.ajaxLoad=null,s.imgPreload&&(s.imgPreload.onload=s.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),s.coming=null,s.current||s._afterZoomOut(t))},close:function(t){s.cancel(),!1!==s.trigger("beforeClose")&&(s.unbindEvents(),s.isActive&&(s.isOpen&&t!==!0?(s.isOpen=s.isOpened=!1,s.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),s.wrap.stop(!0,!0).removeClass("fancybox-opened"),s.transitions[s.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),s._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(s.player.timer)},n=function(){e(),s.current&&s.player.isActive&&(s.player.timer=setTimeout(s.next,s.current.playSpeed))},i=function(){e(),a.unbind(".player"),s.player.isActive=!1,s.trigger("onPlayEnd")},r=function(){s.current&&(s.current.loop||s.current.index<s.group.length-1)&&(s.player.isActive=!0,a.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":e}),n(),s.trigger("onPlayStart"))};t===!0||!s.player.isActive&&t!==!1?r():i()},next:function(t){var e=s.current;e&&(h(t)||(t=e.direction.next),s.jumpto(e.index+1,t,"next"))},prev:function(t){var e=s.current;e&&(h(t)||(t=e.direction.prev),s.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var r=s.current;r&&(t=m(t),s.direction=e||r.direction[t>=r.index?"next":"prev"],s.router=n||"jumpto",r.loop&&(t<0&&(t=r.group.length+t%r.group.length),t%=r.group.length),r.group[t]!==i&&(s.cancel(),s._start(t)))},reposition:function(t,e){var i,r=s.current,o=r?r.wrap:null;o&&(i=s._getPosition(e),t&&"scroll"===t.type?(delete i.position,o.stop(!0,!0).animate(i,200)):(o.css(i),r.pos=n.extend({},r.dim,i)))},update:function(t){var e=t&&t.type,n=!e||"orientationchange"===e;n&&(clearTimeout(c),c=null),s.isOpen&&!c&&(c=setTimeout(function(){var i=s.current;i&&!s.isClosing&&(s.wrap.removeClass("fancybox-tmp"),(n||"load"===e||"resize"===e&&i.autoResize)&&s._setDimension(),"scroll"===e&&i.canShrink||s.reposition(t),s.trigger("onUpdate"),c=null)},n&&!u?0:300))},toggle:function(t){s.isOpen&&(s.current.fitToView="boolean"===n.type(t)?t:!s.current.fitToView,u&&(s.wrap.removeAttr("style").addClass("fancybox-tmp"),s.trigger("onUpdate")),s.update())},hideLoading:function(){a.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var t,e;s.hideLoading(),t=n('<div id="fancybox-loading"><div></div></div>').click(s.cancel).appendTo("body"),a.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),s.cancel())}),s.defaults.fixed||(e=s.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=s.current&&s.current.locked||!1,n={x:o.scrollLeft(),y:o.scrollTop()};return e?(n.w=e[0].clientWidth,n.h=e[0].clientHeight):(n.w=u&&t.innerWidth?t.innerWidth:o.width(),n.h=u&&t.innerHeight?t.innerHeight:o.height()),n},unbindEvents:function(){s.wrap&&d(s.wrap)&&s.wrap.unbind(".fb"),a.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var t,e=s.current;e&&(o.bind("orientationchange.fb"+(u?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),s.update),t=e.keys,t&&a.bind("keydown.fb",function(r){var o=r.which||r.keyCode,a=r.target||r.srcElement;return(27!==o||!s.coming)&&void(r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||a&&(a.type||n(a).is("[contenteditable]"))||n.each(t,function(t,a){return e.group.length>1&&a[o]!==i?(s[t](a[o]),r.preventDefault(),!1):n.inArray(o,a)>-1?(s[t](),r.preventDefault(),!1):void 0}))}),n.fn.mousewheel&&e.mouseWheel&&s.wrap.bind("mousewheel.fb",function(t,i,r,o){for(var a=t.target||null,l=n(a),c=!1;l.length&&!(c||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)c=p(l[0]),l=n(l).parent();0===i||c||s.group.length>1&&!e.canShrink&&(o>0||r>0?s.prev(o>0?"down":"left"):(o<0||r<0)&&s.next(o<0?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var i,r=e||s.coming||s.current;if(r){if(n.isFunction(r[t])&&(i=r[t].apply(r,Array.prototype.slice.call(arguments,1))),i===!1)return!1;r.helpers&&n.each(r.helpers,function(e,i){i&&s.helpers[e]&&n.isFunction(s.helpers[e][t])&&s.helpers[e][t](n.extend(!0,{},s.helpers[e].defaults,i),r)}),a.trigger(t)}},isImage:function(t){return h(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return h(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,i,r,o,a,l={};if(t=m(t),e=s.group[t]||null,!e)return!1;if(l=n.extend(!0,{},s.opts,e),o=l.margin,a=l.padding,"number"===n.type(o)&&(l.margin=[o,o,o,o]),"number"===n.type(a)&&(l.padding=[a,a,a,a]),l.modal&&n.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=s.group,l.index=t,s.coming=l,!1===s.trigger("beforeLoad"))return void(s.coming=null);if(r=l.type,i=l.href,!r)return s.coming=null,!(!s.current||!s.router||"jumpto"===s.router)&&(s.current.index=t,s[s.router](s.direction));if(s.isActive=!0,"image"!==r&&"swf"!==r||(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===r&&(l.aspectRatio=!0),"iframe"===r&&u&&(l.scrolling="scroll"),l.wrap=n(l.tpl.wrap).addClass("fancybox-"+(u?"mobile":"desktop")+" fancybox-type-"+r+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),n.extend(l,{skin:n(".fancybox-skin",l.wrap),outer:n(".fancybox-outer",l.wrap),inner:n(".fancybox-inner",l.wrap)}),n.each(["Top","Right","Bottom","Left"],function(t,e){l.skin.css("padding"+e,g(l.padding[t]))}),s.trigger("onReady"),"inline"===r||"html"===r){if(!l.content||!l.content.length)return s._error("content")}else if(!i)return s._error("href");"image"===r?s._loadImage():"ajax"===r?s._loadAjax():"iframe"===r?s._loadIframe():s._afterLoad()},_error:function(t){n.extend(s.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:s.coming.tpl.error}),s._afterLoad()},_loadImage:function(){var t=s.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,s.coming.width=this.width/s.opts.pixelRatio,s.coming.height=this.height/s.opts.pixelRatio,s._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,s._error("image")},t.src=s.coming.href,t.complete!==!0&&s.showLoading()},_loadAjax:function(){var t=s.coming;s.showLoading(),s.ajaxLoad=n.ajax(n.extend({},t.ajax,{url:t.href,error:function(t,e){s.coming&&"abort"!==e?s._error("ajax",t):s.hideLoading()},success:function(e,n){"success"===n&&(t.content=e,s._afterLoad())}}))},_loadIframe:function(){var t=s.coming,e=n(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",u?"auto":t.iframe.scrolling).attr("src",t.href);n(t.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(s.showLoading(),e.one("load",function(){n(this).data("ready",1),u||n(this).bind("load.fb",s.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),s._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||s._afterLoad()},_preloadImages:function(){var t,e,n=s.group,i=s.current,r=n.length,o=i.preload?Math.min(i.preload,r-1):0;for(e=1;e<=o;e+=1)t=n[(i.index+e)%r],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,i,r,o,a,l=s.coming,c=s.current,u="fancybox-placeholder";if(s.hideLoading(),l&&s.isActive!==!1){if(!1===s.trigger("afterLoad",l,c))return l.wrap.stop(!0).trigger("onReset").remove(),void(s.coming=null);switch(c&&(s.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),s.unbindEvents(),t=l,e=l.content,i=l.type,r=l.scrolling,n.extend(s,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:c}),o=t.href,i){case"inline":case"ajax":case"html":t.selector?e=n("<div>").html(e).find(t.selector):d(e)&&(e.data(u)||e.data(u,n('<div class="'+u+'"></div>').insertAfter(e).hide()),e=e.show().detach(),t.wrap.bind("onReset",function(){n(this).find(e).length&&e.hide().replaceAll(e.data(u)).data(u,!1)}));break;case"image":e=t.tpl.image.replace("{href}",o);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',a="",n.each(t.swf,function(t,n){e+='<param name="'+t+'" value="'+n+'"></param>',a+=" "+t+'="'+n+'"'}),e+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}d(e)&&e.parent().is(t.inner)||t.inner.append(e),s.trigger("beforeShow"),t.inner.css("overflow","yes"===r?"scroll":"no"===r?"hidden":r),s._setDimension(),s.reposition(),s.isOpen=!1,s.coming=null,s.bindEvents(),s.isOpened?c.prevMethod&&s.transitions[c.prevMethod]():n(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),s.transitions[s.isOpened?t.nextMethod:t.openMethod](),s._preloadImages()}},_setDimension:function(){var t,e,i,r,o,a,l,c,u,d,h,p,v,y,b,_=s.getViewport(),w=0,x=!1,k=!1,C=s.wrap,T=s.skin,S=s.inner,E=s.current,O=E.width,A=E.height,M=E.minWidth,P=E.minHeight,D=E.maxWidth,j=E.maxHeight,N=E.scrolling,L=E.scrollOutside?E.scrollbarWidth:0,I=E.margin,R=m(I[1]+I[3]),B=m(I[0]+I[2]);if(C.add(T).add(S).width("auto").height("auto").removeClass("fancybox-tmp"),t=m(T.outerWidth(!0)-T.width()),e=m(T.outerHeight(!0)-T.height()),i=R+t,r=B+e,o=f(O)?(_.w-i)*m(O)/100:O,a=f(A)?(_.h-r)*m(A)/100:A,"iframe"===E.type){if(y=E.content,E.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(S.width(o).height(9999),b=y.contents().find("body"),L&&b.css("overflow-x","hidden"),a=b.outerHeight(!0))}catch(t){}}else(E.autoWidth||E.autoHeight)&&(S.addClass("fancybox-tmp"),E.autoWidth||S.width(o),E.autoHeight||S.height(a),E.autoWidth&&(o=S.width()),E.autoHeight&&(a=S.height()),S.removeClass("fancybox-tmp"));if(O=m(o),A=m(a),u=o/a,M=m(f(M)?m(M,"w")-i:M),D=m(f(D)?m(D,"w")-i:D),P=m(f(P)?m(P,"h")-r:P),j=m(f(j)?m(j,"h")-r:j),l=D,c=j,E.fitToView&&(D=Math.min(_.w-i,D),j=Math.min(_.h-r,j)),p=_.w-R,v=_.h-B,E.aspectRatio?(O>D&&(O=D,A=m(O/u)),A>j&&(A=j,O=m(A*u)),O<M&&(O=M,A=m(O/u)),A<P&&(A=P,O=m(A*u))):(O=Math.max(M,Math.min(O,D)),E.autoHeight&&"iframe"!==E.type&&(S.width(O),A=S.height()),A=Math.max(P,Math.min(A,j))),E.fitToView)if(S.width(O).height(A),C.width(O+t),d=C.width(),h=C.height(),E.aspectRatio)for(;(d>p||h>v)&&O>M&&A>P&&!(w++>19);)A=Math.max(P,Math.min(j,A-10)),O=m(A*u),O<M&&(O=M,A=m(O/u)),O>D&&(O=D,A=m(O/u)),S.width(O).height(A),C.width(O+t),d=C.width(),h=C.height();else O=Math.max(M,Math.min(O,O-(d-p))),A=Math.max(P,Math.min(A,A-(h-v)));L&&"auto"===N&&A<a&&O+t+L<p&&(O+=L),S.width(O).height(A),C.width(O+t),d=C.width(),h=C.height(),x=(d>p||h>v)&&O>M&&A>P,k=E.aspectRatio?O<l&&A<c&&O<o&&A<a:(O<l||A<c)&&(O<o||A<a),n.extend(E,{dim:{width:g(d),height:g(h)},origWidth:o,origHeight:a,canShrink:x,canExpand:k,wPadding:t,hPadding:e,wrapSpace:h-T.outerHeight(!0),skinSpace:T.height()-A}),!y&&E.autoHeight&&A>P&&A<j&&!k&&S.height("auto")},_getPosition:function(t){var e=s.current,n=s.getViewport(),i=e.margin,r=s.wrap.width()+i[1]+i[3],o=s.wrap.height()+i[0]+i[2],a={position:"absolute",top:i[0],left:i[3]};return e.autoCenter&&e.fixed&&!t&&o<=n.h&&r<=n.w?a.position="fixed":e.locked||(a.top+=n.y,a.left+=n.x),a.top=g(Math.max(a.top,a.top+(n.h-o)*e.topRatio)),a.left=g(Math.max(a.left,a.left+(n.w-r)*e.leftRatio)),a},_afterZoomIn:function(){var t=s.current;t&&(s.isOpen=s.isOpened=!0,s.wrap.css("overflow","visible").addClass("fancybox-opened"),s.update(),(t.closeClick||t.nextClick&&s.group.length>1)&&s.inner.css("cursor","pointer").bind("click.fb",function(e){n(e.target).is("a")||n(e.target).parent().is("a")||(e.preventDefault(),s[t.closeClick?"close":"next"]())}),t.closeBtn&&n(t.tpl.closeBtn).appendTo(s.skin).bind("click.fb",function(t){t.preventDefault(),s.close()}),t.arrows&&s.group.length>1&&((t.loop||t.index>0)&&n(t.tpl.prev).appendTo(s.outer).bind("click.fb",s.prev),(t.loop||t.index<s.group.length-1)&&n(t.tpl.next).appendTo(s.outer).bind("click.fb",s.next)),s.trigger("afterShow"),t.loop||t.index!==t.group.length-1?s.opts.autoPlay&&!s.player.isActive&&(s.opts.autoPlay=!1,s.play()):s.play(!1))},_afterZoomOut:function(t){t=t||s.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(s,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),s.trigger("afterClose",t)}}),s.transitions={getOrigPosition:function(){var t=s.current,e=t.element,n=t.orig,i={},r=50,o=50,a=t.hPadding,l=t.wPadding,c=s.getViewport();return!n&&t.isDom&&e.is(":visible")&&(n=e.find("img:first"),n.length||(n=e)),d(n)?(i=n.offset(),n.is("img")&&(r=n.outerWidth(),o=n.outerHeight())):(i.top=c.y+(c.h-o)*t.topRatio,i.left=c.x+(c.w-r)*t.leftRatio),("fixed"===s.wrap.css("position")||t.locked)&&(i.top-=c.y,i.left-=c.x),i={top:g(i.top-a*t.topRatio),left:g(i.left-l*t.leftRatio),width:g(r+l),height:g(o+a)}},step:function(t,e){var n,i,r,o=e.prop,a=s.current,l=a.wrapSpace,c=a.skinSpace;"width"!==o&&"height"!==o||(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),s.isClosing&&(n=1-n),i="width"===o?a.wPadding:a.hPadding,r=t-i,s.skin[o](m("width"===o?r:r-l*n)),s.inner[o](m("width"===o?r:r-l*n-c*n)))},zoomIn:function(){var t=s.current,e=t.pos,i=t.openEffect,r="elastic"===i,o=n.extend({opacity:1},e);delete o.position,r?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===i&&(e.opacity=.1),s.wrap.css(e).animate(o,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:r?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var t=s.current,e=t.closeEffect,n="elastic"===e,i={opacity:.1};n&&(i=this.getOrigPosition(),t.closeOpacity&&(i.opacity=.1)),s.wrap.animate(i,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var t,e=s.current,n=e.nextEffect,i=e.pos,r={opacity:1},o=s.direction,a=200;i.opacity=.1,"elastic"===n&&(t="down"===o||"up"===o?"top":"left","down"===o||"right"===o?(i[t]=g(m(i[t])-a),r[t]="+="+a+"px"):(i[t]=g(m(i[t])+a),r[t]="-="+a+"px")),"none"===n?s._afterZoomIn():s.wrap.css(i).animate(r,{duration:e.nextSpeed,easing:e.nextEasing,complete:s._afterZoomIn})},changeOut:function(){var t=s.previous,e=t.prevEffect,i={opacity:.1},r=s.direction,o=200;"elastic"===e&&(i["down"===r||"up"===r?"top":"left"]=("up"===r||"left"===r?"-":"+")+"="+o+"px"),t.wrap.animate(i,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},s.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!u,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(t){t=n.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo(s.coming?s.coming.parent:t.parent),this.fixed=!1,t.fixed&&s.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=n.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(o.bind("resize.overlay",n.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(n(t.target).hasClass("fancybox-overlay"))return s.isActive?s.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){var t,e;o.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),t=o.scrollTop(),e=o.scrollLeft(),this.el.removeClass("fancybox-lock"),o.scrollTop(t).scrollLeft(e)),n(".fancybox-overlay").remove().hide(),n.extend(this,{overlay:null,fixed:!1})},update:function(){var t,n="100%";this.overlay.width(n).height("100%"),l?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),a.width()>t&&(n=a.width())):a.width()>o.width()&&(n=a.width()),this.overlay.width(n).height(a.height())},onReady:function(t,e){var i=this.overlay;n(".fancybox-overlay").stop(!0,!0),i||this.create(t),t.locked&&this.fixed&&e.fixed&&(i||(this.margin=a.height()>o.height()&&n("html").css("margin-right").replace("px","")),e.locked=this.overlay.append(e.wrap),e.fixed=!1),t.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var i,r;e.locked&&(this.margin!==!1&&(n("*").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),i=o.scrollTop(),r=o.scrollLeft(),this.el.addClass("fancybox-lock"),o.scrollTop(i).scrollLeft(r)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!s.coming&&this.overlay.fadeOut(t.speedOut,n.proxy(this.close,this))}},s.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,i,r=s.current,o=r.title,a=t.type;if(n.isFunction(o)&&(o=o.call(r.element,r)),h(o)&&""!==n.trim(o)){switch(e=n('<div class="fancybox-title fancybox-title-'+a+'-wrap">'+o+"</div>"),a){case"inside":i=s.skin;break;case"outside":i=s.wrap;break;case"over":i=s.inner;break;default:i=s.skin,e.appendTo("body"),l&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),s.current.margin[2]+=Math.abs(m(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](i)}}},n.fn.fancybox=function(t){var e,i=n(this),r=this.selector||"",o=function(o){var a,l,c=n(this).blur(),u=e;o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||c.is(".fancybox-wrap")||(a=t.groupAttr||"data-fancybox-group",l=c.attr(a),l||(a="rel",l=c.get(0)[a]),l&&""!==l&&"nofollow"!==l&&(c=r.length?n(r):i,c=c.filter("["+a+'="'+l+'"]'),u=c.index(this)),t.index=u,s.open(c,t)!==!1&&o.preventDefault())};return t=t||{},e=t.index||0,r&&t.live!==!1?a.undelegate(r,"click.fb-start").delegate(r+":not('.fancybox-item, .fancybox-nav')","click.fb-start",o):i.unbind("click.fb-start").bind("click.fb-start",o),this.filter("[data-fancybox-start=1]").trigger("click"),this},a.ready(function(){var e,o;n.scrollbarWidth===i&&(n.scrollbarWidth=function(){var t=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),i=e.innerWidth()-e.height(99).innerWidth();return t.remove(),i}),n.support.fixedPosition===i&&(n.support.fixedPosition=function(){var t=n('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===t[0].offsetTop||15===t[0].offsetTop;return t.remove(),e}()),n.extend(s.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),e=n(t).width(),r.addClass("fancybox-lock-test"),o=n(t).width(),r.removeClass("fancybox-lock-test"),n("<style type='text/css'>.fancybox-margin{margin-right:"+(o-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function(t){var e=t.fancybox;e.helpers.buttons={defaults:{skipSingle:!1,position:"top",tpl:'<div id="fancybox-buttons"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle" title="Toggle size" href="javascript:;"></a></li><li><a class="btnClose" title="Close" href="javascript:;"></a></li></ul></div>'},list:null,buttons:null,beforeLoad:function(t,e){return t.skipSingle&&e.group.length<2?(e.helpers.buttons=!1,void(e.closeBtn=!0)):void(e.margin["bottom"===t.position?2:0]+=30)},onPlayStart:function(){this.buttons&&this.buttons.play.attr("title","Pause slideshow").addClass("btnPlayOn")},onPlayEnd:function(){this.buttons&&this.buttons.play.attr("title","Start slideshow").removeClass("btnPlayOn")},afterShow:function(n,i){var r=this.buttons;r||(this.list=t(n.tpl).addClass(n.position).appendTo("body"),r={prev:this.list.find(".btnPrev").click(e.prev),next:this.list.find(".btnNext").click(e.next),play:this.list.find(".btnPlay").click(e.play),toggle:this.list.find(".btnToggle").click(e.toggle),close:this.list.find(".btnClose").click(e.close)}),i.index>0||i.loop?r.prev.removeClass("btnDisabled"):r.prev.addClass("btnDisabled"),i.loop||i.index<i.group.length-1?(r.next.removeClass("btnDisabled"),r.play.removeClass("btnDisabled")):(r.next.addClass("btnDisabled"),r.play.addClass("btnDisabled")),this.buttons=r,this.onUpdate(n,i)},onUpdate:function(t,e){var n;this.buttons&&(n=this.buttons.toggle.removeClass("btnDisabled btnToggleOn"),e.canShrink?n.addClass("btnToggleOn"):e.canExpand||n.addClass("btnDisabled"))},beforeClose:function(){this.list&&this.list.remove(),this.list=null,this.buttons=null}}}(jQuery),function(t){var e=t.fancybox;e.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(e){var n;return e.element&&(n=t(e.element).find("img").attr("src")),!n&&"image"===e.type&&e.href&&(n=e.href),n}},wrap:null,list:null,width:0,init:function(e,n){var i,r=this,o=e.width,a=e.height,s=e.source;i="";for(var l=0;l<n.group.length;l++)i+='<li><a style="width:'+o+"px;height:"+a+'px;" href="javascript:jQuery.fancybox.jumpto('+l+');"></a></li>';this.wrap=t('<div id="fancybox-thumbs"></div>').addClass(e.position).appendTo("body"),this.list=t("<ul>"+i+"</ul>").appendTo(this.wrap),t.each(n.group,function(e){var i=s(n.group[e]);i&&t("<img />").load(function(){var n,i,s,l=this.width,c=this.height;r.list&&l&&c&&(n=l/o,i=c/a,s=r.list.children().eq(e).find("a"),n>=1&&i>=1&&(n>i?(l=Math.floor(l/i),c=a):(l=o,c=Math.floor(c/n))),t(this).css({width:l,height:c,top:Math.floor(a/2-c/2),left:Math.floor(o/2-l/2)}),s.width(o).height(a),t(this).hide().appendTo(s).fadeIn(300))}).attr("src",i)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(n.group.length+1)).css("left",Math.floor(.5*t(window).width()-(n.index*this.width+.5*this.width)))},beforeLoad:function(t,e){return e.group.length<2?void(e.helpers.thumbs=!1):void(e.margin["top"===t.position?0:2]+=t.height+15)},afterShow:function(t,e){this.list?this.onUpdate(t,e):this.init(t,e),this.list.children().removeClass("active").eq(e.index).addClass("active")},onUpdate:function(e,n){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*t(window).width()-(n.index*this.width+.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery),function(t){"use strict";var e=t.fancybox,n=function(e,n,i){return i=i||"","object"===t.type(i)&&(i=t.param(i,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),i.length&&(e+=(e.indexOf("?")>0?"&":"?")+i),e};e.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(e,n,i){return i.swf.flashVars="playerVars="+t.param(n,!0),"//www.metacafe.com/fplayer/"+e[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[1]+"/"+t[3]+t[4]+"&output="+(t[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(e,i){var r,o,a,s,l=i.href||"",c=!1;for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],a=l.match(o.matcher))){c=o.type,s=t.extend(!0,{},o.params,i[r]||(t.isPlainObject(e[r])?e[r].params:null)),l="function"===t.type(o.url)?o.url.call(this,a,s,i):n(o.url,a,s);break}c&&(i.href=l,i.type=c,i.autoHeight=!1)}}}(jQuery),function(t){"use strict";function e(t,e,n,i){t.beginPath(),t.arc(e,n,i,0,y,!1),t.fill()}function n(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke()}function i(t,n,i,r,o,a,s,l){var c=Math.cos(n*y),u=Math.sin(n*y);l-=s,e(t,i-u*o,r+c*a+.5*l,s+(1-.5*c)*l)}function r(t,e,n,r,o,a,s,l){var c;for(c=5;c--;)i(t,e+c/5,n,r,o,a,s,l)}function o(t,e,n,i,o,a,s){e/=3e4;var l=.21*o,c=.12*o,u=.24*o,d=.28*o;t.fillStyle=s,r(t,e,n,i,l,c,u,d),t.globalCompositeOperation="destination-out",r(t,e,n,i,l,c,u-a,d-a),t.globalCompositeOperation="source-over"}function a(t,e,i,r,o,a,s){e/=12e4;var l,c,u,d,h=.25*o-.5*a,f=.32*o+.5*a,p=.5*o-.5*a;for(t.strokeStyle=s,t.lineWidth=a,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(i,r,h,0,y,!1),t.stroke(),l=8;l--;)c=(e+l/8)*y,u=Math.cos(c),d=Math.sin(c),n(t,i+u*f,r+d*f,i+u*p,r+d*p)}function s(t,e,n,i,r,o,a){e/=15e3;var s=.29*r-.5*o,l=.05*r,c=Math.cos(e*y),u=c*y/-16;t.strokeStyle=a,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",n+=c*l,t.beginPath(),t.arc(n,i,s,u+y/8,u+7*y/8,!1),t.arc(n+Math.cos(u)*s*b,i+Math.sin(u)*s*b,s,u+5*y/8,u+3*y/8,!0),t.closePath(),t.stroke()}function l(t,e,n,i,r,o,a){e/=1350;var s,l,c,u,d=.16*r,h=11*y/12,f=7*y/12;for(t.fillStyle=a,s=4;s--;)l=(e+s/4)%1,c=n+(s-1.5)/1.5*(1===s||2===s?-1:1)*d,u=i+l*l*r,t.beginPath(),t.moveTo(c,u-1.5*o),t.arc(c,u,.75*o,h,f,!1),t.fill()}function c(t,e,i,r,o,a,s){e/=750;var l,c,u,d,h=.1875*o;for(t.strokeStyle=s,t.lineWidth=.5*a,t.lineCap="round",t.lineJoin="round",l=4;l--;)c=(e+l/4)%1,u=Math.floor(i+(l-1.5)/1.5*(1===l||2===l?-1:1)*h)+.5,d=r+c*o,n(t,u,d-1.5*a,u,d+1.5*a)}function u(t,e,i,r,o,a,s){e/=3e3;var l,c,u,d,h=.16*o,f=.75*a,p=e*y*.7,m=Math.cos(p)*f,g=Math.sin(p)*f,v=p+y/3,b=Math.cos(v)*f,_=Math.sin(v)*f,w=p+2*y/3,x=Math.cos(w)*f,k=Math.sin(w)*f;for(t.strokeStyle=s,t.lineWidth=.5*a,t.lineCap="round",t.lineJoin="round",l=4;l--;)c=(e+l/4)%1,u=i+Math.sin((c+l/4)*y)*h,d=r+c*o,n(t,u-m,d-g,u+m,d+g),n(t,u-b,d-_,u+b,d+_),n(t,u-x,d-k,u+x,d+k)}function d(t,e,n,i,o,a,s){e/=3e4;var l=.21*o,c=.06*o,u=.21*o,d=.28*o;t.fillStyle=s,r(t,e,n,i,l,c,u,d),t.globalCompositeOperation="destination-out",r(t,e,n,i,l,c,u-a,d-a),t.globalCompositeOperation="source-over"}function h(t,e,n,i,r,o,a){var s=r/8,l=s/3,c=2*l,u=e%1*y,d=Math.cos(u),h=Math.sin(u);t.fillStyle=a,t.strokeStyle=a,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.arc(n,i,s,u,u+Math.PI,!1),t.arc(n-l*d,i-l*h,c,u+Math.PI,u,!1),t.arc(n+c*d,i+c*h,l,u+Math.PI,u,!0),t.globalCompositeOperation="destination-out",t.fill(),t.globalCompositeOperation="source-over",t.stroke()}function f(t,e,n,i,r,o,a,s,l){e/=2500;var c,u,d,f,p=_[a],m=(e+a-w[a].start)%s,g=(e+a-w[a].end)%s,v=(e+a)%s;if(t.strokeStyle=l,t.lineWidth=o,t.lineCap="round",t.lineJoin="round",m<1){if(t.beginPath(),m*=p.length/2-1,c=Math.floor(m),m-=c,c*=2,c+=2,t.moveTo(n+(p[c-2]*(1-m)+p[c]*m)*r,i+(p[c-1]*(1-m)+p[c+1]*m)*r),g<1){for(g*=p.length/2-1,u=Math.floor(g),g-=u,u*=2,u+=2,f=c;f!==u;f+=2)t.lineTo(n+p[f]*r,i+p[f+1]*r);t.lineTo(n+(p[u-2]*(1-g)+p[u]*g)*r,i+(p[u-1]*(1-g)+p[u+1]*g)*r)}else for(f=c;f!==p.length;f+=2)t.lineTo(n+p[f]*r,i+p[f+1]*r);t.stroke()}else if(g<1){for(t.beginPath(),g*=p.length/2-1,u=Math.floor(g),g-=u,u*=2,u+=2,t.moveTo(n+p[0]*r,i+p[1]*r),f=2;f!==u;f+=2)t.lineTo(n+p[f]*r,i+p[f+1]*r);t.lineTo(n+(p[u-2]*(1-g)+p[u]*g)*r,i+(p[u-1]*(1-g)+p[u+1]*g)*r),t.stroke()}v<1&&(v*=p.length/2-1,d=Math.floor(v),v-=d,d*=2,d+=2,h(t,e,n+(p[d-2]*(1-v)+p[d]*v)*r,i+(p[d-1]*(1-v)+p[d+1]*v)*r,r,o,l))}var p,m;!function(){var e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame;
e&&n?(p=function(t){function n(){i.value=e(n),t()}var i={value:null};return n(),i},m=function(t){n(t.value)}):(p=setInterval,m=clearInterval)}();var g=500,v=.08,y=2*Math.PI,b=2/Math.sqrt(2),_=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],w=[{start:.36,end:.11},{start:.56,end:.16}],x=function(t){this.list=[],this.interval=null,this.color=t&&t.color?t.color:"black",this.resizeClear=!(!t||!t.resizeClear)};x.CLEAR_DAY=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,o=Math.min(i,r);a(t,e,.5*i,.5*r,o,o*v,n)},x.CLEAR_NIGHT=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,o=Math.min(i,r);s(t,e,.5*i,.5*r,o,o*v,n)},x.PARTLY_CLOUDY_DAY=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,s=Math.min(i,r);a(t,e,.625*i,.375*r,.75*s,s*v,n),o(t,e,.375*i,.625*r,.75*s,s*v,n)},x.PARTLY_CLOUDY_NIGHT=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,a=Math.min(i,r);s(t,e,.667*i,.375*r,.75*a,a*v,n),o(t,e,.375*i,.625*r,.75*a,a*v,n)},x.CLOUDY=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,a=Math.min(i,r);o(t,e,.5*i,.5*r,a,a*v,n)},x.RAIN=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,a=Math.min(i,r);l(t,e,.5*i,.37*r,.9*a,a*v,n),o(t,e,.5*i,.37*r,.9*a,a*v,n)},x.SLEET=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,a=Math.min(i,r);c(t,e,.5*i,.37*r,.9*a,a*v,n),o(t,e,.5*i,.37*r,.9*a,a*v,n)},x.SNOW=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,a=Math.min(i,r);u(t,e,.5*i,.37*r,.9*a,a*v,n),o(t,e,.5*i,.37*r,.9*a,a*v,n)},x.WIND=function(t,e,n){var i=t.canvas.width,r=t.canvas.height,o=Math.min(i,r);f(t,e,.5*i,.5*r,o,o*v,0,2,n),f(t,e,.5*i,.5*r,o,o*v,1,2,n)},x.FOG=function(t,e,i){var r=t.canvas.width,o=t.canvas.height,a=Math.min(r,o),s=a*v;d(t,e,.5*r,.32*o,.75*a,s,i),e/=5e3;var l=Math.cos(e*y)*a*.02,c=Math.cos((e+.25)*y)*a*.02,u=Math.cos((e+.5)*y)*a*.02,h=Math.cos((e+.75)*y)*a*.02,f=.936*o,p=Math.floor(f-.5*s)+.5,m=Math.floor(f-2.5*s)+.5;t.strokeStyle=i,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",n(t,l+.2*r+.5*s,p,c+.8*r-.5*s,p),n(t,u+.2*r+.5*s,m,h+.8*r-.5*s,m)},x.prototype={_determineDrawingFunction:function(t){return"string"==typeof t&&(t=x[t.toUpperCase().replace(/-/g,"_")]||null),t},add:function(t,e){var n;"string"==typeof t&&(t=document.getElementById(t)),null!==t&&(e=this._determineDrawingFunction(e),"function"==typeof e&&(n={element:t,context:t.getContext("2d"),drawing:e},this.list.push(n),this.draw(n,g)))},set:function(t,e){var n;for("string"==typeof t&&(t=document.getElementById(t)),n=this.list.length;n--;)if(this.list[n].element===t)return this.list[n].drawing=this._determineDrawingFunction(e),void this.draw(this.list[n],g);this.add(t,e)},remove:function(t){var e;for("string"==typeof t&&(t=document.getElementById(t)),e=this.list.length;e--;)if(this.list[e].element===t)return void this.list.splice(e,1)},draw:function(t,e){var n=t.context.canvas;this.resizeClear?n.width=n.width:t.context.clearRect(0,0,n.width,n.height),t.drawing(t.context,e,this.color)},play:function(){var t=this;this.pause(),this.interval=p(function(){var e,n=Date.now();for(e=t.list.length;e--;)t.draw(t.list[e],n)},1e3/60)},pause:function(){this.interval&&(m(this.interval),this.interval=null)}},t.Skycons=x}(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.videojs=t()}}(function(){var t;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e){(function(n){var i="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},r=t("min-document");if("undefined"!=typeof document)e.exports=document;else{var o=i["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=i["__GLOBAL_DOCUMENT_CACHE@4"]=r),e.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],2:[function(t,e){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(){},{}],4:[function(t,e){var n=t("../internal/getNative"),i=n(Date,"now"),r=i||function(){return(new Date).getTime()};e.exports=r},{"../internal/getNative":20}],5:[function(t,e){function n(t,e,n){function s(){v&&clearTimeout(v),f&&clearTimeout(f),b=0,f=v=y=void 0}function l(e,n){n&&clearTimeout(n),f=v=y=void 0,e&&(b=r(),p=t.apply(g,h),v||f||(h=g=void 0))}function c(){var t=e-(r()-m);t<=0||t>e?l(y,f):v=setTimeout(c,t)}function u(){l(w,v)}function d(){if(h=arguments,m=r(),g=this,y=w&&(v||!x),_===!1)var n=x&&!v;else{f||x||(b=m);var i=_-(m-b),o=i<=0||i>_;o?(f&&(f=clearTimeout(f)),b=m,p=t.apply(g,h)):f||(f=setTimeout(u,i))}return o&&v?v=clearTimeout(v):v||e===_||(v=setTimeout(c,e)),n&&(o=!0,p=t.apply(g,h)),!o||v||f||(h=g=void 0),p}var h,f,p,m,g,v,y,b=0,_=!1,w=!0;if("function"!=typeof t)throw new TypeError(o);if(e=e<0?0:+e||0,n===!0){var x=!0;w=!1}else i(n)&&(x=!!n.leading,_="maxWait"in n&&a(+n.maxWait||0,e),w="trailing"in n?!!n.trailing:w);return d.cancel=s,d}var i=t("../lang/isObject"),r=t("../date/now"),o="Expected a function",a=Math.max;e.exports=n},{"../date/now":4,"../lang/isObject":33}],6:[function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(i);return e=r(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,o=r(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=a,t.apply(this,s)}}var i="Expected a function",r=Math.max;e.exports=n},{}],7:[function(t,e){function n(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return n===!1?a=!1:r(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:a,maxWait:+e,trailing:s})}var i=t("./debounce"),r=t("../lang/isObject"),o="Expected a function";e.exports=n},{"../lang/isObject":33,"./debounce":5}],8:[function(t,e){function n(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}e.exports=n},{}],9:[function(t,e){function n(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}e.exports=n},{}],10:[function(t,e){function n(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}e.exports=n},{}],11:[function(t,e){var n=t("./createBaseFor"),i=n();e.exports=i},{"./createBaseFor":18}],12:[function(t,e){function n(t,e){return i(t,e,r)}var i=t("./baseFor"),r=t("../object/keysIn");e.exports=n},{"../object/keysIn":39,"./baseFor":11}],13:[function(t,e){function n(t,e,d,h,f){if(!s(t))return t;var p=a(e)&&(o(e)||c(e)),m=p?void 0:u(e);return i(m||e,function(i,o){if(m&&(o=i,i=e[o]),l(i))h||(h=[]),f||(f=[]),r(t,e,o,n,d,h,f);else{var a=t[o],s=d?d(a,i,o,t,e):void 0,c=void 0===s;c&&(s=i),void 0===s&&(!p||o in t)||!c&&(s===s?s===a:a!==a)||(t[o]=s)}}),t}var i=t("./arrayEach"),r=t("./baseMergeDeep"),o=t("../lang/isArray"),a=t("./isArrayLike"),s=t("../lang/isObject"),l=t("./isObjectLike"),c=t("../lang/isTypedArray"),u=t("../object/keys");e.exports=n},{"../lang/isArray":30,"../lang/isObject":33,"../lang/isTypedArray":36,"../object/keys":38,"./arrayEach":9,"./baseMergeDeep":14,"./isArrayLike":21,"./isObjectLike":26}],14:[function(t,e){function n(t,e,n,u,d,h,f){for(var p=h.length,m=e[n];p--;)if(h[p]==m)return void(t[n]=f[p]);var g=t[n],v=d?d(g,m,n,t,e):void 0,y=void 0===v;y&&(v=m,a(m)&&(o(m)||l(m))?v=o(g)?g:a(g)?i(g):[]:s(m)||r(m)?v=r(g)?c(g):s(g)?g:{}:y=!1),h.push(m),f.push(v),y?t[n]=u(v,m,d,h,f):(v===v?v!==g:g===g)&&(t[n]=v)}var i=t("./arrayCopy"),r=t("../lang/isArguments"),o=t("../lang/isArray"),a=t("./isArrayLike"),s=t("../lang/isPlainObject"),l=t("../lang/isTypedArray"),c=t("../lang/toPlainObject");e.exports=n},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isPlainObject":34,"../lang/isTypedArray":36,"../lang/toPlainObject":37,"./arrayCopy":8,"./isArrayLike":21}],15:[function(t,e){function n(t){return function(e){return null==e?void 0:i(e)[t]}}var i=t("./toObject");e.exports=n},{"./toObject":28}],16:[function(t,e){function n(t,e,n){if("function"!=typeof t)return i;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,a){return t.call(e,n,i,r,o,a)}}return function(){return t.apply(e,arguments)}}var i=t("../utility/identity");e.exports=n},{"../utility/identity":42}],17:[function(t,e){function n(t){return o(function(e,n){var o=-1,a=null==e?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,c,5),a-=2):(s="function"==typeof c?c:void 0,a-=s?1:0),l&&r(n[0],n[1],l)&&(s=a<3?void 0:s,a=1);++o<a;){var u=n[o];u&&t(e,u,s)}return e})}var i=t("./bindCallback"),r=t("./isIterateeCall"),o=t("../function/restParam");e.exports=n},{"../function/restParam":6,"./bindCallback":16,"./isIterateeCall":24}],18:[function(t,e){function n(t){return function(e,n,r){for(var o=i(e),a=r(e),s=a.length,l=t?s:-1;t?l--:++l<s;){var c=a[l];if(n(o[c],c,o)===!1)break}return e}}var i=t("./toObject");e.exports=n},{"./toObject":28}],19:[function(t,e){var n=t("./baseProperty"),i=n("length");e.exports=i},{"./baseProperty":15}],20:[function(t,e){function n(t,e){var n=null==t?void 0:t[e];return i(n)?n:void 0}var i=t("../lang/isNative");e.exports=n},{"../lang/isNative":32}],21:[function(t,e){function n(t){return null!=t&&r(i(t))}var i=t("./getLength"),r=t("./isLength");e.exports=n},{"./getLength":19,"./isLength":25}],22:[function(t,e){var n=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}();e.exports=n},{}],23:[function(t,e){function n(t,e){return t="number"==typeof t||i.test(t)?+t:-1,e=null==e?r:e,t>-1&&t%1==0&&t<e}var i=/^\d+$/,r=9007199254740991;e.exports=n},{}],24:[function(t,e){function n(t,e,n){if(!o(n))return!1;var a=typeof e;if("number"==a?i(n)&&r(e,n.length):"string"==a&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}var i=t("./isArrayLike"),r=t("./isIndex"),o=t("../lang/isObject");e.exports=n},{"../lang/isObject":33,"./isArrayLike":21,"./isIndex":23}],25:[function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;e.exports=n},{}],26:[function(t,e){function n(t){return!!t&&"object"==typeof t}e.exports=n},{}],27:[function(t,e){function n(t){for(var e=l(t),n=e.length,c=n&&t.length,d=!!c&&a(c)&&(r(t)||i(t)||s(t)),h=-1,f=[];++h<n;){var p=e[h];(d&&o(p,c)||u.call(t,p))&&f.push(p)}return f}var i=t("../lang/isArguments"),r=t("../lang/isArray"),o=t("./isIndex"),a=t("./isLength"),s=t("../lang/isString"),l=t("../object/keysIn"),c=Object.prototype,u=c.hasOwnProperty;e.exports=n},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isString":35,"../object/keysIn":39,"./isIndex":23,"./isLength":25}],28:[function(t,e){function n(t){if(o.unindexedChars&&r(t)){for(var e=-1,n=t.length,a=Object(t);++e<n;)a[e]=t.charAt(e);return a}return i(t)?t:Object(t)}var i=t("../lang/isObject"),r=t("../lang/isString"),o=t("../support");e.exports=n},{"../lang/isObject":33,"../lang/isString":35,"../support":41}],29:[function(t,e){function n(t){return r(t)&&i(t)&&a.call(t,"callee")&&!s.call(t,"callee")}var i=t("../internal/isArrayLike"),r=t("../internal/isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable;e.exports=n},{"../internal/isArrayLike":21,"../internal/isObjectLike":26}],30:[function(t,e){var n=t("../internal/getNative"),i=t("../internal/isLength"),r=t("../internal/isObjectLike"),o="[object Array]",a=Object.prototype,s=a.toString,l=n(Array,"isArray"),c=l||function(t){return r(t)&&i(t.length)&&s.call(t)==o};e.exports=c},{"../internal/getNative":20,"../internal/isLength":25,"../internal/isObjectLike":26}],31:[function(t,e){function n(t){return i(t)&&a.call(t)==r}var i=t("./isObject"),r="[object Function]",o=Object.prototype,a=o.toString;e.exports=n},{"./isObject":33}],32:[function(t,e){function n(t){return null!=t&&(i(t)?u.test(l.call(t)):o(t)&&(r(t)?u:a).test(t))}var i=t("./isFunction"),r=t("../internal/isHostObject"),o=t("../internal/isObjectLike"),a=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},{"../internal/isHostObject":22,"../internal/isObjectLike":26,"./isFunction":31}],33:[function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=n},{}],34:[function(t,e){function n(t){var e;if(!a(t)||d.call(t)!=l||o(t)||r(t)||!u.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return s.ownLast?(i(t,function(t,e,i){return n=u.call(i,e),!1}),n!==!1):(i(t,function(t,e){n=e}),void 0===n||u.call(t,n))}var i=t("../internal/baseForIn"),r=t("./isArguments"),o=t("../internal/isHostObject"),a=t("../internal/isObjectLike"),s=t("../support"),l="[object Object]",c=Object.prototype,u=c.hasOwnProperty,d=c.toString;e.exports=n},{"../internal/baseForIn":12,"../internal/isHostObject":22,"../internal/isObjectLike":26,"../support":41,"./isArguments":29}],35:[function(t,e){function n(t){return"string"==typeof t||i(t)&&a.call(t)==r}var i=t("../internal/isObjectLike"),r="[object String]",o=Object.prototype,a=o.toString;e.exports=n},{"../internal/isObjectLike":26}],36:[function(t,e){function n(t){return r(t)&&i(t.length)&&!!O[M.call(t)]}var i=t("../internal/isLength"),r=t("../internal/isObjectLike"),o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",g="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",k="[object Int32Array]",C="[object Uint8Array]",T="[object Uint8ClampedArray]",S="[object Uint16Array]",E="[object Uint32Array]",O={};O[b]=O[_]=O[w]=O[x]=O[k]=O[C]=O[T]=O[S]=O[E]=!0,O[o]=O[a]=O[y]=O[s]=O[l]=O[c]=O[u]=O[d]=O[h]=O[f]=O[p]=O[m]=O[g]=O[v]=!1;var A=Object.prototype,M=A.toString;e.exports=n},{"../internal/isLength":25,"../internal/isObjectLike":26}],37:[function(t,e){function n(t){return i(t,r(t))}var i=t("../internal/baseCopy"),r=t("../object/keysIn");e.exports=n},{"../internal/baseCopy":10,"../object/keysIn":39}],38:[function(t,e){var n=t("../internal/getNative"),i=t("../internal/isArrayLike"),r=t("../lang/isObject"),o=t("../internal/shimKeys"),a=t("../support"),s=n(Object,"keys"),l=s?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?a.enumPrototypes:i(t))?o(t):r(t)?s(t):[]}:o;e.exports=l},{"../internal/getNative":20,"../internal/isArrayLike":21,"../internal/shimKeys":27,"../lang/isObject":33,"../support":41}],39:[function(t,e){function n(t){if(null==t)return[];c(t)||(t=Object(t));var e=t.length;e=e&&l(e)&&(o(t)||r(t)||u(t))&&e||0;for(var n=t.constructor,i=-1,h=a(n)&&n.prototype||k,f=h===t,p=Array(e),g=e>0,v=d.enumErrorProps&&(t===x||t instanceof Error),b=d.enumPrototypes&&a(t);++i<e;)p[i]=i+"";for(var O in t)b&&"prototype"==O||v&&("message"==O||"name"==O)||g&&s(O,e)||"constructor"==O&&(f||!T.call(t,O))||p.push(O);if(d.nonEnumShadows&&t!==k){var A=t===C?_:t===x?m:S.call(t),M=E[A]||E[y];for(A==y&&(h=k),e=w.length;e--;){O=w[e];var P=M[O];f&&P||(P?!T.call(t,O):t[O]===h[O])||p.push(O)}}return p}var i=t("../internal/arrayEach"),r=t("../lang/isArguments"),o=t("../lang/isArray"),a=t("../lang/isFunction"),s=t("../internal/isIndex"),l=t("../internal/isLength"),c=t("../lang/isObject"),u=t("../lang/isString"),d=t("../support"),h="[object Array]",f="[object Boolean]",p="[object Date]",m="[object Error]",g="[object Function]",v="[object Number]",y="[object Object]",b="[object RegExp]",_="[object String]",w=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],x=Error.prototype,k=Object.prototype,C=String.prototype,T=k.hasOwnProperty,S=k.toString,E={};E[h]=E[p]=E[v]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},E[f]=E[_]={constructor:!0,toString:!0,valueOf:!0},E[m]=E[g]=E[b]={constructor:!0,toString:!0},E[y]={constructor:!0},i(w,function(t){for(var e in E)if(T.call(E,e)){var n=E[e];n[t]=T.call(n,t)}}),e.exports=n},{"../internal/arrayEach":9,"../internal/isIndex":23,"../internal/isLength":25,"../lang/isArguments":29,"../lang/isArray":30,"../lang/isFunction":31,"../lang/isObject":33,"../lang/isString":35,"../support":41}],40:[function(t,e){var n=t("../internal/baseMerge"),i=t("../internal/createAssigner"),r=i(n);e.exports=r},{"../internal/baseMerge":13,"../internal/createAssigner":17}],41:[function(t,e){var n=Array.prototype,i=Error.prototype,r=Object.prototype,o=r.propertyIsEnumerable,a=n.splice,s={};!function(t){var e=function(){this.x=t},n={0:t,length:t},r=[];e.prototype={valueOf:t,y:t};for(var l in new e)r.push(l);s.enumErrorProps=o.call(i,"message")||o.call(i,"name"),s.enumPrototypes=o.call(e,"prototype"),s.nonEnumShadows=!/valueOf/.test(r),s.ownLast="x"!=r[0],s.spliceObjects=(a.call(n,0,1),!n[0]),s.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),e.exports=s},{}],42:[function(t,e){function n(t){return t}e.exports=n},{}],43:[function(t,e){"use strict";var n=t("object-keys");e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test");if("string"==typeof e)return!1;var i=42;t[e]=i;for(e in t)return!1;if(0!==n(t).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==i||o.enumerable!==!0)return!1}return!0}},{"object-keys":50}],44:[function(t,e){"use strict";var n=t("object-keys"),i=t("function-bind"),r=function(t){return"undefined"!=typeof t&&null!==t},o=t("./hasSymbols")(),a=Object,s=i.call(Function.call,Array.prototype.push),l=i.call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(t){if(!r(t))throw new TypeError("target must be an object");var e,i,c,u,d,h,f,p=a(t);for(e=1;e<arguments.length;++e){if(i=a(arguments[e]),u=n(i),o&&Object.getOwnPropertySymbols)for(d=Object.getOwnPropertySymbols(i),c=0;c<d.length;++c)f=d[c],l(i,f)&&s(u,f);for(c=0;c<u.length;++c)f=u[c],h=i[f],l(i,f)&&(p[f]=h)}return p}},{"./hasSymbols":43,"function-bind":49,"object-keys":50}],45:[function(t,e){"use strict";var n=t("define-properties"),i=t("./implementation"),r=t("./polyfill"),o=t("./shim");n(i,{implementation:i,getPolyfill:r,shim:o}),e.exports=i},{"./implementation":44,"./polyfill":52,"./shim":53,"define-properties":46}],46:[function(t,e){"use strict";var n=t("object-keys"),i=t("foreach"),r="function"==typeof Symbol&&"symbol"==typeof Symbol(),o=Object.prototype.toString,a=function(t){return"function"==typeof t&&"[object Function]"===o.call(t)},s=function(){var t={};try{Object.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}},l=Object.defineProperty&&s(),c=function(t,e,n,i){(!(e in t)||a(i)&&i())&&(l?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},u=function(t,e){var o=arguments.length>2?arguments[2]:{},a=n(e);r&&(a=a.concat(Object.getOwnPropertySymbols(e))),i(a,function(n){c(t,n,e[n],o[n])})};u.supportsDescriptors=!!l,e.exports=u},{foreach:47,"object-keys":50}],47:[function(t,e){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString;e.exports=function(t,e,r){if("[object Function]"!==i.call(e))throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var a=0;a<o;a++)e.call(r,t[a],a,t);else for(var s in t)n.call(t,s)&&e.call(r,t[s],s,t)}},{}],48:[function(t,e){var n="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(t){var e=this;if("function"!=typeof e||r.call(e)!==o)throw new TypeError(n+e);for(var a,s=i.call(arguments,1),l=function(){if(this instanceof a){var n=e.apply(this,s.concat(i.call(arguments)));return Object(n)===n?n:this}return e.apply(t,s.concat(i.call(arguments)))},c=Math.max(0,e.length-s.length),u=[],d=0;d<c;d++)u.push("$"+d);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),e.prototype){var h=function(){};h.prototype=e.prototype,a.prototype=new h,h.prototype=null}return a}},{}],49:[function(t,e){var n=t("./implementation");e.exports=Function.prototype.bind||n},{"./implementation":48}],50:[function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Array.prototype.slice,o=t("./isArguments"),a=Object.prototype.propertyIsEnumerable,s=!a.call({toString:null},"toString"),l=a.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(t){var e=t.constructor;return e&&e.prototype===t},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&n.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{u(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),f=function(t){if("undefined"==typeof window||!h)return u(t);try{return u(t)}catch(t){return!1}},p=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===i.call(t),a=o(t),u=e&&"[object String]"===i.call(t),d=[];if(!e&&!r&&!a)throw new TypeError("Object.keys called on a non-object");var h=l&&r;if(u&&t.length>0&&!n.call(t,0))for(var p=0;p<t.length;++p)d.push(String(p));if(a&&t.length>0)for(var m=0;m<t.length;++m)d.push(String(m));else for(var g in t)h&&"prototype"===g||!n.call(t,g)||d.push(String(g));if(s)for(var v=f(t),y=0;y<c.length;++y)v&&"constructor"===c[y]||!n.call(t,c[y])||d.push(c[y]);return d};p.shim=function(){if(Object.keys){var t=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!t){var e=Object.keys;Object.keys=function(t){return e(o(t)?r.call(t):t)}}}else Object.keys=p;return Object.keys||p},e.exports=p},{"./isArguments":51}],51:[function(t,e){"use strict";var n=Object.prototype.toString;e.exports=function(t){var e=n.call(t),i="[object Arguments]"===e;return i||(i="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===n.call(t.callee)),i}},{}],52:[function(t,e){"use strict";var n=t("./implementation"),i=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},i=0;i<e.length;++i)n[e[i]]=e[i];var r=Object.assign({},n),o="";for(var a in r)o+=a;return t!==o},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}};e.exports=function(){return Object.assign?i()?n:r()?n:Object.assign:n}},{"./implementation":44}],53:[function(t,e){"use strict";var n=t("define-properties"),i=t("./polyfill");e.exports=function(){var t=i();return n(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},{"./polyfill":52,"define-properties":46}],54:[function(t,e){function n(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]}e.exports=n},{}],55:[function(t,e){function n(t){return t.replace(/\n\r?\s*/g,"")}e.exports=function(t){for(var e="",i=0;i<arguments.length;i++)e+=n(t[i])+(arguments[i+1]||"");return e}},{}],56:[function(t,e){"use strict";function n(t,e){for(var n=0;n<t.length;n++)e(t[n])}function i(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function r(t,e,n){var i=t;return u(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=h(e,{uri:t}),i.callback=n,i}function o(t,e,n){return e=r(t,e,n),a(e)}function a(t){function e(){4===u.readyState&&a()}function n(){var t=void 0;if(u.response?t=u.response:"text"!==u.responseType&&u.responseType||(t=u.responseText||u.responseXML),_)try{t=JSON.parse(t)}catch(t){}return t}function r(t){clearTimeout(p),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,s(t,l)}function a(){if(!f){var e;clearTimeout(p),e=t.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=l,r=null;0!==e?(i={body:n(),statusCode:e,method:g,headers:{},url:m,rawRequest:u},u.getAllResponseHeaders&&(i.headers=d(u.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),s(r,i,i.body)}}var s=t.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=c(s);var l={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:u},u=t.xhr||null;u||(u=t.cors||t.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var h,f,p,m=u.url=t.uri||t.url,g=u.method=t.method||"GET",v=t.body||t.data||null,y=u.headers=t.headers||{},b=!!t.sync,_=!1;if("json"in t&&(_=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(t.json))),u.onreadystatechange=e,u.onload=a,u.onerror=r,u.onprogress=function(){},u.ontimeout=r,u.open(g,m,!b,t.username,t.password),b||(u.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(p=setTimeout(function(){f=!0,u.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)},t.timeout)),u.setRequestHeader)for(h in y)y.hasOwnProperty(h)&&u.setRequestHeader(h,y[h]);else if(t.headers&&!i(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(u),u.send(v),u}function s(){}var l=t("global/window"),c=t("once"),u=t("is-function"),d=t("parse-headers"),h=t("xtend");e.exports=o,o.XMLHttpRequest=l.XMLHttpRequest||s,o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:l.XDomainRequest,n(["get","put","post","patch","head","delete"],function(t){o["delete"===t?"del":t]=function(e,n,i){return n=r(e,n,i),n.method=t.toUpperCase(),a(n)}})},{"global/window":2,"is-function":57,once:58,"parse-headers":61,xtend:62}],57:[function(t,e){function n(t){var e=i.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=n;var i=Object.prototype.toString},{}],58:[function(t,e){function n(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}e.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],59:[function(t,e){function n(t,e,n){if(!a(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(t)?i(t,e,n):"string"==typeof t?r(t,e,n):o(t,e,n)}function i(t,e,n){for(var i=0,r=t.length;i<r;i++)l.call(t,i)&&e.call(n,t[i],i,t)}function r(t,e,n){for(var i=0,r=t.length;i<r;i++)e.call(n,t.charAt(i),i,t)}function o(t,e,n){for(var i in t)l.call(t,i)&&e.call(n,t[i],i,t)}var a=t("is-function");e.exports=n;var s=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{"is-function":57}],60:[function(t,e,n){function i(t){return t.replace(/^\s*|\s*$/g,"")}n=e.exports=i,n.left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],61:[function(t,e){var n=t("trim"),i=t("for-each"),r=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return i(n(t).split("\n"),function(t){var i=t.indexOf(":"),o=n(t.slice(0,i)).toLowerCase(),a=n(t.slice(i+1));"undefined"==typeof e[o]?e[o]=a:r(e[o])?e[o].push(a):e[o]=[e[o],a]}),e}},{"for-each":59,trim:60}],62:[function(t,e){function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)i.call(n,r)&&(t[r]=n[r])}return t}e.exports=n;var i=Object.prototype.hasOwnProperty},{}],63:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./button.js"),s=i(a),l=t("./component.js"),c=i(l),u=function(t){function e(n,i){r(this,e),t.call(this,n,i)}return o(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(){this.player_.play()},e}(s["default"]);u.prototype.controlText_="Play Video",c["default"].registerComponent("BigPlayButton",u),n["default"]=u,e.exports=n["default"]},{"./button.js":64,"./component.js":67}],64:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./clickable-component.js"),l=r(s),c=t("./component"),u=r(c),d=t("./utils/events.js"),h=(i(d),t("./utils/fn.js")),f=(i(h),t("./utils/log.js")),p=r(f),m=t("global/document"),g=(r(m),t("object.assign")),v=r(g),y=function(t){function e(n,i){o(this,e),t.call(this,n,i)}return a(e,t),e.prototype.createEl=function(){var t=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];e=v["default"]({className:this.buildCSSClass()},e),"button"!==t&&(p["default"].warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),e=v["default"]({tabIndex:0},e),n=v["default"]({role:"button"},n)),n=v["default"]({type:"button","aria-live":"polite"},n);var i=u["default"].prototype.createEl.call(this,t,e,n);return this.createControlTextEl(i),
i},e.prototype.addChild=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.constructor.name;return p["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),u["default"].prototype.addChild.call(this,t,e)},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which||t.prototype.handleKeyPress.call(this,e)},e}(l["default"]);u["default"].registerComponent("Button",y),n["default"]=y,e.exports=n["default"]},{"./clickable-component.js":65,"./component":67,"./utils/events.js":143,"./utils/fn.js":144,"./utils/log.js":147,"global/document":1,"object.assign":45}],65:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./component"),l=r(s),c=t("./utils/dom.js"),u=i(c),d=t("./utils/events.js"),h=i(d),f=t("./utils/fn.js"),p=i(f),m=t("./utils/log.js"),g=r(m),v=t("global/document"),y=r(v),b=t("object.assign"),_=r(b),w=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.emitTapEvents(),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)}return a(e,t),e.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n=_["default"]({className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&g["default"].error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=_["default"]({role:"button","aria-live":"polite"},i);var r=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(r),r},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=u.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length<=1||void 0===arguments[1]?this.el():arguments[1];if(!t)return this.controlText_||"Need Text";var n=this.localize(t);return this.controlText_=t,this.controlTextEl_.innerHTML=n,e.setAttribute("title",n),this},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.addChild=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.prototype.addChild.call(this,e,n)},e.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),this},e.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),this},e.prototype.handleClick=function(){},e.prototype.handleFocus=function(){h.on(y["default"],"keydown",p.bind(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleClick(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(){h.off(y["default"],"keydown",p.bind(this,this.handleKeyPress))},e}(l["default"]);l["default"].registerComponent("ClickableComponent",w),n["default"]=w,e.exports=n["default"]},{"./component":67,"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/log.js":147,"global/document":1,"object.assign":45}],66:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./button"),s=i(a),l=t("./component"),c=i(l),u=function(t){function e(n,i){r(this,e),t.call(this,n,i),this.controlText(i&&i.controlText||this.localize("Close"))}return o(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},e}(s["default"]);c["default"].registerComponent("CloseButton",u),n["default"]=u,e.exports=n["default"]},{"./button":64,"./component":67}],67:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=t("global/window"),s=r(a),l=t("./utils/dom.js"),c=i(l),u=t("./utils/fn.js"),d=i(u),h=t("./utils/guid.js"),f=i(h),p=t("./utils/events.js"),m=i(p),g=t("./utils/log.js"),v=r(g),y=t("./utils/to-title-case.js"),b=r(y),_=t("./utils/merge-options.js"),w=r(_),x=function(){function t(e,n,i){if(o(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=w["default"]({},this.options_),n=this.options_=w["default"](this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+f.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),c.removeElData(this.el_),this.el_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return v["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=w["default"](this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,n){return c.createEl(t,e,n)},t.prototype.localize=function(t){var e=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!e||!n)return t;var i=n[e];if(i&&i[t])return i[t];var r=e.split("-")[0],o=n[r];return o&&o[t]?o[t]:t},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){return this.childNameIndex_[t]},t.prototype.addChild=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?this.children_.length:arguments[2],r=void 0,o=void 0;if("string"==typeof e){o=e,n||(n={}),n===!0&&(v["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var a=n.componentClass||b["default"](o);n.name=o;var s=t.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=e;if(this.children_.splice(i,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),o=o||r.name&&r.name(),o&&(this.childNameIndex_[o]=r),"function"==typeof r.el&&r.el()){var l=this.contentEl().children,c=l[i]||null;this.contentEl().insertBefore(r.el(),c)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,n=this.options_.children;n&&!function(){var i=e.options_,r=function(t){var n=t.name,r=t.opts;if(void 0!==i[n]&&(r=i[n]),r!==!1){r===!0&&(r={}),r.playerOptions=e.options_.playerOptions;var o=e.addChild(n,r);o&&(e[n]=o)}},o=void 0,a=t.getComponent("Tech");o=Array.isArray(n)?n:Object.keys(n),o.concat(Object.keys(e.options_).filter(function(t){return!o.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var i=void 0,r=void 0;return"string"==typeof t?(i=t,r=n[i]||e.options_[i]||{}):(i=t.name,r=t),{name:i,opts:r}}).filter(function(e){var n=t.getComponent(e.opts.componentClass||b["default"](e.name));return n&&!a.isTech(n)}).forEach(r)}()},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,e,n){var i=this;return"string"==typeof t||Array.isArray(t)?m.on(this.el_,t,d.bind(this,e)):!function(){var r=t,o=e,a=d.bind(i,n),s=function(){return i.off(r,o,a)};s.guid=a.guid,i.on("dispose",s);var l=function(){return i.off("dispose",s)};l.guid=a.guid,t.nodeName?(m.on(r,o,a),m.on(r,"dispose",l)):"function"==typeof t.on&&(r.on(o,a),r.on("dispose",l))}(),this},t.prototype.off=function(t,e,n){if(!t||"string"==typeof t||Array.isArray(t))m.off(this.el_,t,e);else{var i=t,r=e,o=d.bind(this,n);this.off("dispose",o),t.nodeName?(m.off(i,r,o),m.off(i,"dispose",o)):(i.off(r,o),i.off("dispose",o))}return this},t.prototype.one=function(t,e,n){var i=this,r=arguments;return"string"==typeof t||Array.isArray(t)?m.one(this.el_,t,d.bind(this,e)):!function(){var o=t,a=e,s=d.bind(i,n),l=function t(){i.off(o,a,t),s.apply(null,r)};l.guid=s.guid,i.on(o,a,l)}(),this},t.prototype.trigger=function(t,e){return m.trigger(this.el_,t,e),this},t.prototype.ready=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return t&&(this.isReady_?e?t.call(this):this.setTimeout(t,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t))),this},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,e){return c.$(t,e||this.contentEl())},t.prototype.$$=function(t,e){return c.$$(t,e||this.contentEl())},t.prototype.hasClass=function(t){return c.hasElClass(this.el_,t)},t.prototype.addClass=function(t){return c.addElClass(this.el_,t),this},t.prototype.removeClass=function(t){return c.removeElClass(this.el_,t),this},t.prototype.toggleClass=function(t,e){return c.toggleElClass(this.el_,t,e),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},t.prototype.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e===e||(e=0),(""+e).indexOf("%")!==-1||(""+e).indexOf("px")!==-1?this.el_.style[t]=e:"auto"===e?this.el_.style[t]="":this.el_.style[t]=e+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return r!==-1?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+b["default"](t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s["default"].getComputedStyle){var n=s["default"].getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}else if(this.el_.currentStyle){var i="offset"+b["default"](t);e=this.el_[i]}return e=parseFloat(e)},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.emitTapEvents=function(){var t=0,e=null,n=10,i=200,r=void 0;this.on("touchstart",function(n){1===n.touches.length&&(e={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},t=(new Date).getTime(),r=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)r=!1;else if(e){var i=t.touches[0].pageX-e.pageX,o=t.touches[0].pageY-e.pageY,a=Math.sqrt(i*i+o*o);a>n&&(r=!1)}});var o=function(){r=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(n){if(e=null,r===!0){var o=(new Date).getTime()-t;o<i&&(n.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=d.bind(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.prototype.setTimeout=function(t,e){t=d.bind(this,t);var n=s["default"].setTimeout(t,e),i=function(){this.clearTimeout(n)};return i.guid="vjs-timeout-"+n,this.on("dispose",i),n},t.prototype.clearTimeout=function(t){s["default"].clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){t=d.bind(this,t);var n=s["default"].setInterval(t,e),i=function(){this.clearInterval(n)};return i.guid="vjs-interval-"+n,this.on("dispose",i),n},t.prototype.clearInterval=function(t){s["default"].clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.registerComponent=function(e,n){return t.components_||(t.components_={}),t.components_[e]=n,n},t.getComponent=function(e){return t.components_&&t.components_[e]?t.components_[e]:s["default"]&&s["default"].videojs&&s["default"].videojs[e]?(v["default"].warn("The "+e+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),s["default"].videojs[e]):void 0},t.extend=function(e){e=e||{},v["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var n=e.init||e.init||this.prototype.init||this.prototype.init||function(){},i=function(){n.apply(this,arguments)};i.prototype=Object.create(this.prototype),i.prototype.constructor=i,i.extend=t.extend;for(var r in e)e.hasOwnProperty(r)&&(i.prototype[r]=e[r]);return i},t}();x.registerComponent("Component",x),n["default"]=x,e.exports=n["default"]},{"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/guid.js":146,"./utils/log.js":147,"./utils/merge-options.js":148,"./utils/to-title-case.js":151,"global/window":2}],68:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../track-button.js"),l=r(s),c=t("../../component.js"),u=r(c),d=t("../../utils/fn.js"),h=(i(d),t("./audio-track-menu-item.js")),f=r(h),p=function(t){function e(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,e),i.tracks=n.audioTracks&&n.audioTracks(),t.call(this,n,i),this.el_.setAttribute("aria-label","Audio Menu")}return a(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=this.player_.audioTracks&&this.player_.audioTracks();if(!e)return t;for(var n=0;n<e.length;n++){var i=e[n];t.push(new f["default"](this.player_,{selectable:!0,track:i}))}return t},e}(l["default"]);p.prototype.controlText_="Audio Track",u["default"].registerComponent("AudioTrackButton",p),n["default"]=p,e.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":144,"../track-button.js":98,"./audio-track-menu-item.js":69}],69:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../menu/menu-item.js"),l=r(s),c=t("../../component.js"),u=r(c),d=t("../../utils/fn.js"),h=i(d),f=function(t){function e(n,i){var r=this;o(this,e);var a=i.track,s=n.audioTracks();i.label=a.label||a.language||"Unknown",i.selected=a.enabled,t.call(this,n,i),this.track=a,s&&!function(){var t=h.bind(r,r.handleTracksChange);s.addEventListener("change",t),r.on("dispose",function(){s.removeEventListener("change",t)})}()}return a(e,t),e.prototype.handleClick=function(e){var n=this.player_.audioTracks();if(t.prototype.handleClick.call(this,e),n)for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},e.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},e}(l["default"]);u["default"].registerComponent("AudioTrackMenuItem",f),n["default"]=f,e.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":144}],70:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../component.js"),s=i(a),l=t("./play-toggle.js"),c=(i(l),t("./time-controls/current-time-display.js")),u=(i(c),t("./time-controls/duration-display.js")),d=(i(u),t("./time-controls/time-divider.js")),h=(i(d),t("./time-controls/remaining-time-display.js")),f=(i(h),t("./live-display.js")),p=(i(f),t("./progress-control/progress-control.js")),m=(i(p),t("./fullscreen-toggle.js")),g=(i(m),t("./volume-control/volume-control.js")),v=(i(g),t("./volume-menu-button.js")),y=(i(v),t("./mute-toggle.js")),b=(i(y),t("./text-track-controls/chapters-button.js")),_=(i(b),t("./text-track-controls/descriptions-button.js")),w=(i(_),t("./text-track-controls/subtitles-button.js")),x=(i(w),t("./text-track-controls/captions-button.js")),k=(i(x),t("./audio-track-controls/audio-track-button.js")),C=(i(k),t("./playback-rate-menu/playback-rate-menu-button.js")),T=(i(C),t("./spacer-controls/custom-control-spacer.js")),S=(i(T),function(t){function e(){r(this,e),t.apply(this,arguments)}return o(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},e}(s["default"]));S.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s["default"].registerComponent("ControlBar",S),n["default"]=S,e.exports=n["default"]},{"../component.js":67,"./audio-track-controls/audio-track-button.js":68,"./fullscreen-toggle.js":71,"./live-display.js":72,"./mute-toggle.js":73,"./play-toggle.js":74,"./playback-rate-menu/playback-rate-menu-button.js":75,"./progress-control/progress-control.js":80,"./spacer-controls/custom-control-spacer.js":83,"./text-track-controls/captions-button.js":86,"./text-track-controls/chapters-button.js":87,"./text-track-controls/descriptions-button.js":89,"./text-track-controls/subtitles-button.js":91,"./time-controls/current-time-display.js":94,"./time-controls/duration-display.js":95,"./time-controls/remaining-time-display.js":96,"./time-controls/time-divider.js":97,"./volume-control/volume-control.js":100,"./volume-menu-button.js":102}],71:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../button.js"),s=i(a),l=t("../component.js"),c=i(l),u=function(t){function e(n,i){r(this,e),t.call(this,n,i),this.on(n,"fullscreenchange",this.handleFullscreenChange)}return o(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(s["default"]);u.prototype.controlText_="Fullscreen",c["default"].registerComponent("FullscreenToggle",u),n["default"]=u,e.exports=n["default"]},{"../button.js":64,"../component.js":67}],72:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../component"),l=r(s),c=t("../utils/dom.js"),u=i(c),d=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.updateShowing(),this.on(this.player(),"durationchange",this.updateShowing)}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},e}(l["default"]);l["default"].registerComponent("LiveDisplay",d),n["default"]=d,e.exports=n["default"]},{"../component":67,"../utils/dom.js":142}],73:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../button"),l=r(s),c=t("../component"),u=r(c),d=t("../utils/dom.js"),h=i(d),f=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.on(n,"volumechange",this.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return a(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(){this.player_.muted(!this.player_.muted())},e.prototype.update=function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);var n=this.player_.muted()?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n);for(var i=0;i<4;i++)h.removeElClass(this.el_,"vjs-vol-"+i);h.addElClass(this.el_,"vjs-vol-"+e)},e}(l["default"]);f.prototype.controlText_="Mute",u["default"].registerComponent("MuteToggle",f),n["default"]=f,e.exports=n["default"]},{"../button":64,"../component":67,"../utils/dom.js":142}],74:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../button.js"),s=i(a),l=t("../component.js"),c=i(l),u=function(t){function e(n,i){r(this,e),t.call(this,n,i),this.on(n,"play",this.handlePlay),this.on(n,"pause",this.handlePause)}return o(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handlePlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e}(s["default"]);u.prototype.controlText_="Play",c["default"].registerComponent("PlayToggle",u),n["default"]=u,e.exports=n["default"]},{"../button.js":64,"../component.js":67}],75:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../menu/menu-button.js"),l=r(s),c=t("../../menu/menu.js"),u=r(c),d=t("./playback-rate-menu-item.js"),h=r(d),f=t("../../component.js"),p=r(f),m=t("../../utils/dom.js"),g=i(m),v=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.updateVisibility(),this.updateLabel(),this.on(n,"loadstart",this.updateVisibility),this.on(n,"ratechange",this.updateLabel)}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=g.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.labelEl_),e},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.createMenu=function(){var t=new u["default"](this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new h["default"](this.player(),{rate:e[n]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(){for(var t=this.player().playbackRate(),e=this.playbackRates(),n=e[0],i=0;i<e.length;i++)if(e[i]>t){n=e[i];break}this.player().playbackRate(n)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(l["default"]);v.prototype.controlText_="Playback Rate",p["default"].registerComponent("PlaybackRateMenuButton",v),n["default"]=v,e.exports=n["default"]},{"../../component.js":67,"../../menu/menu-button.js":109,"../../menu/menu.js":111,"../../utils/dom.js":142,"./playback-rate-menu-item.js":76}],76:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../menu/menu-item.js"),s=i(a),l=t("../../component.js"),c=i(l),u=function(t){function e(n,i){r(this,e);var o=i.rate,a=parseFloat(o,10);i.label=o,i.selected=1===a,t.call(this,n,i),this.label=o,this.rate=a,this.on(n,"ratechange",this.update)}return o(e,t),e.prototype.handleClick=function(){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},e}(s["default"]);u.prototype.contentElType="button",c["default"].registerComponent("PlaybackRateMenuItem",u),n["default"]=u,e.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110}],77:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),l=r(s),c=t("../../utils/dom.js"),u=i(c),d=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.on(n,"progress",this.update)}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.update=function(){var t=this.player_.buffered(),e=this.player_.duration(),n=this.player_.bufferedEnd(),i=this.el_.children,r=function(t,e){var n=t/e||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=r(n,e);for(var o=0;o<t.length;o++){var a=t.start(o),s=t.end(o),l=i[o];l||(l=this.el_.appendChild(u.createEl())),l.style.left=r(a,n),l.style.width=r(s-a,n)}for(var o=i.length;o>t.length;o--)this.el_.removeChild(i[o-1]);
},e}(l["default"]);l["default"].registerComponent("LoadProgressBar",d),n["default"]=d,e.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142}],78:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("global/window"),l=r(s),c=t("../../component.js"),u=r(c),d=t("../../utils/dom.js"),h=i(d),f=t("../../utils/fn.js"),p=i(f),m=t("../../utils/format-time.js"),g=r(m),v=t("lodash-compat/function/throttle"),y=r(v),b=function(t){function e(n,i){var r=this;o(this,e),t.call(this,n,i),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltip=h.createEl("div",{className:"vjs-time-tooltip"}),this.el().appendChild(this.tooltip),this.addClass("vjs-keep-tooltips-inside")),this.update(0,0),n.on("ready",function(){r.on(n.controlBar.progressControl.el(),"mousemove",y["default"](p.bind(r,r.handleMouseMove),25))})}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.handleMouseMove=function(t){var e=this.player_.duration(),n=this.calculateDistance(t)*e,i=t.pageX-h.findElPosition(this.el().parentNode).left;this.update(n,i)},e.prototype.update=function(t,e){var n=g["default"](t,this.player_.duration());if(this.el().style.left=e+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var i=this.clampPosition_(e),r=e-i+1,o=parseFloat(l["default"].getComputedStyle(this.tooltip).width),a=o/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(a-r)+"px"}},e.prototype.calculateDistance=function(t){return h.getPointerPosition(this.el().parentNode,t).x},e.prototype.clampPosition_=function(t){if(!this.keepTooltipsInside)return t;var e=parseFloat(l["default"].getComputedStyle(this.player().el()).width),n=parseFloat(l["default"].getComputedStyle(this.tooltip).width),i=n/2,r=t;return t<i?r=Math.ceil(i):t>e-i&&(r=Math.floor(e-i)),r},e}(u["default"]);u["default"].registerComponent("MouseTimeDisplay",b),n["default"]=b,e.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/format-time.js":145,"global/window":2,"lodash-compat/function/throttle":7}],79:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),l=r(s),c=t("../../utils/fn.js"),u=i(c),d=t("../../utils/dom.js"),h=(i(d),t("../../utils/format-time.js")),f=r(h),p=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(u.bind(this,this.updateDataAttr)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&this.addClass("vjs-keep-tooltips-inside")}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.updateDataAttr=function(){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",f["default"](t,this.player_.duration()))},e}(l["default"]);l["default"].registerComponent("PlayProgressBar",p),n["default"]=p,e.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/format-time.js":145}],80:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),s=i(a),l=t("./seek-bar.js"),c=(i(l),t("./mouse-time-display.js")),u=(i(c),function(t){function e(){r(this,e),t.apply(this,arguments)}return o(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e}(s["default"]));u.prototype.options_={children:["seekBar"]},s["default"].registerComponent("ProgressControl",u),n["default"]=u,e.exports=n["default"]},{"../../component.js":67,"./mouse-time-display.js":78,"./seek-bar.js":81}],81:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("global/window"),l=r(s),c=t("../../slider/slider.js"),u=r(c),d=t("../../component.js"),h=r(d),f=t("./load-progress-bar.js"),p=(r(f),t("./play-progress-bar.js")),m=(r(p),t("./tooltip-progress-bar.js")),g=(r(m),t("../../utils/fn.js")),v=i(g),y=t("../../utils/format-time.js"),b=r(y),_=t("object.assign"),w=(r(_),function(t){function e(n,i){o(this,e),t.call(this,n,i),this.on(n,"timeupdate",this.updateProgress),this.on(n,"ended",this.updateProgress),n.ready(v.bind(this,this.updateProgress)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltipProgressBar=this.addChild("TooltipProgressBar"))}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},e.prototype.updateProgress=function(){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat(l["default"].getComputedStyle(this.player().el()).width),e=parseFloat(l["default"].getComputedStyle(this.tooltipProgressBar.tooltip).width),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(t-e/2)+"px",n.minWidth=Math.ceil(e/2)+"px",n.right="-"+e/2+"px"}},e.prototype.updateAriaAttributes=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",b["default"](e,this.player_.duration()))},e.prototype.getPercent=function(){var t=this.player_.currentTime()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){t.prototype.handleMouseDown.call(this,e),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},e.prototype.handleMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e}(u["default"]));w.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},w.prototype.playerEvent="timeupdate",h["default"].registerComponent("SeekBar",w),n["default"]=w,e.exports=n["default"]},{"../../component.js":67,"../../slider/slider.js":119,"../../utils/fn.js":144,"../../utils/format-time.js":145,"./load-progress-bar.js":77,"./play-progress-bar.js":79,"./tooltip-progress-bar.js":82,"global/window":2,"object.assign":45}],82:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),l=r(s),c=t("../../utils/fn.js"),u=i(c),d=t("../../utils/dom.js"),h=(i(d),t("../../utils/format-time.js")),f=r(h),p=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(u.bind(this,this.updateDataAttr))}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=e.querySelector(".vjs-time-tooltip"),e},e.prototype.updateDataAttr=function(){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),e=f["default"](t,this.player_.duration());this.el_.setAttribute("data-current-time",e),this.tooltip.innerHTML=e},e}(l["default"]);l["default"].registerComponent("TooltipProgressBar",p),n["default"]=p,e.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/format-time.js":145}],83:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./spacer.js"),s=i(a),l=t("../../component.js"),c=i(l),u=function(t){function e(){r(this,e),t.apply(this,arguments)}return o(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="&nbsp;",e},e}(s["default"]);c["default"].registerComponent("CustomControlSpacer",u),n["default"]=u,e.exports=n["default"]},{"../../component.js":67,"./spacer.js":84}],84:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),s=i(a),l=function(t){function e(){r(this,e),t.apply(this,arguments)}return o(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(s["default"]);s["default"].registerComponent("Spacer",l),n["default"]=l,e.exports=n["default"]},{"../../component.js":67}],85:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-menu-item.js"),s=i(a),l=t("../../component.js"),c=i(l),u=function(t){function e(n,i){r(this,e),i.track={kind:i.kind,player:n,label:i.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},i.selectable=!1,t.call(this,n,i),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+i.kind+" settings dialog")}return o(e,t),e.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},e}(s["default"]);c["default"].registerComponent("CaptionSettingsMenuItem",u),n["default"]=u,e.exports=n["default"]},{"../../component.js":67,"./text-track-menu-item.js":93}],86:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-button.js"),s=i(a),l=t("../../component.js"),c=i(l),u=t("./caption-settings-menu-item.js"),d=i(u),h=function(t){function e(n,i,o){r(this,e),t.call(this,n,i,o),this.el_.setAttribute("aria-label","Captions Menu")}return o(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.update=function(){var e=2;t.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(e=1),this.items&&this.items.length>e?this.show():this.hide()},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||e.push(new d["default"](this.player_,{kind:this.kind_})),t.prototype.createItems.call(this,e)},e}(s["default"]);h.prototype.kind_="captions",h.prototype.controlText_="Captions",c["default"].registerComponent("CaptionsButton",h),n["default"]=h,e.exports=n["default"]},{"../../component.js":67,"./caption-settings-menu-item.js":85,"./text-track-button.js":92}],87:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./text-track-button.js"),l=r(s),c=t("../../component.js"),u=r(c),d=t("./text-track-menu-item.js"),h=r(d),f=t("./chapters-track-menu-item.js"),p=r(f),m=t("../../menu/menu.js"),g=r(m),v=t("../../utils/dom.js"),y=i(v),b=t("../../utils/fn.js"),_=(i(b),t("../../utils/to-title-case.js")),w=r(_),x=t("global/window"),k=(r(x),function(t){function e(n,i,r){o(this,e),t.call(this,n,i,r),this.el_.setAttribute("aria-label","Chapters Menu")}return a(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.createItems=function(){var t=[],e=this.player_.textTracks();if(!e)return t;for(var n=0;n<e.length;n++){var i=e[n];i.kind===this.kind_&&t.push(new h["default"](this.player_,{track:i}))}return t},e.prototype.createMenu=function(){for(var t=this,e=this.player_.textTracks()||[],n=void 0,i=this.items||[],r=e.length-1;r>=0;r--){var o=e[r];if(o.kind===this.kind_){n=o;break}}var a=this.menu;if(void 0===a){a=new g["default"](this.player_);var s=y.createEl("li",{className:"vjs-menu-title",innerHTML:w["default"](this.kind_),tabIndex:-1});a.children_.unshift(s),y.insertElFirst(s,a.contentEl())}else i.forEach(function(t){return a.removeChild(t)}),i=[];if(n&&null==n.cues){n.mode="hidden";var l=this.player_.remoteTextTrackEls().getTrackElementByTrack_(n);l&&l.addEventListener("load",function(){return t.update()})}if(n&&n.cues&&n.cues.length>0)for(var c=n.cues,u=void 0,r=0,d=c.length;r<d;r++){u=c[r];var h=new p["default"](this.player_,{track:n,cue:u});i.push(h),a.addChild(h)}return i.length>0&&this.show(),this.items=i,a},e}(l["default"]));k.prototype.kind_="chapters",k.prototype.controlText_="Chapters",u["default"].registerComponent("ChaptersButton",k),n["default"]=k,e.exports=n["default"]},{"../../component.js":67,"../../menu/menu.js":111,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/to-title-case.js":151,"./chapters-track-menu-item.js":88,"./text-track-button.js":92,"./text-track-menu-item.js":93,"global/window":2}],88:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../menu/menu-item.js"),l=r(s),c=t("../../component.js"),u=r(c),d=t("../../utils/fn.js"),h=i(d),f=function(t){function e(n,i){o(this,e);var r=i.track,a=i.cue,s=n.currentTime();i.label=a.text,i.selected=a.startTime<=s&&s<a.endTime,t.call(this,n,i),this.track=r,this.cue=a,r.addEventListener("cuechange",h.bind(this,this.update))}return a(e,t),e.prototype.handleClick=function(){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(){var t=this.cue,e=this.player_.currentTime();this.selected(t.startTime<=e&&e<t.endTime)},e}(l["default"]);u["default"].registerComponent("ChaptersTrackMenuItem",f),n["default"]=f,e.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":144}],89:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./text-track-button.js"),l=r(s),c=t("../../component.js"),u=r(c),d=t("../../utils/fn.js"),h=i(d),f=function(t){function e(n,i,r){var a=this;o(this,e),t.call(this,n,i,r),this.el_.setAttribute("aria-label","Descriptions Menu");var s=n.textTracks();s&&!function(){var t=h.bind(a,a.handleTracksChange);s.addEventListener("change",t),a.on("dispose",function(){s.removeEventListener("change",t)})}()}return a(e,t),e.prototype.handleTracksChange=function(){for(var t=this.player().textTracks(),e=!1,n=0,i=t.length;n<i;n++){var r=t[n];if(r.kind!==this.kind_&&"showing"===r.mode){e=!0;break}}e?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e}(l["default"]);f.prototype.kind_="descriptions",f.prototype.controlText_="Descriptions",u["default"].registerComponent("DescriptionsButton",f),n["default"]=f,e.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":144,"./text-track-button.js":92}],90:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-menu-item.js"),s=i(a),l=t("../../component.js"),c=i(l),u=function(t){function e(n,i){r(this,e),i.track={kind:i.kind,player:n,label:i.kind+" off","default":!1,mode:"disabled"},i.selectable=!0,t.call(this,n,i),this.selected(!0)}return o(e,t),e.prototype.handleTracksChange=function(){for(var t=this.player().textTracks(),e=!0,n=0,i=t.length;n<i;n++){var r=t[n];if(r.kind===this.track.kind&&"showing"===r.mode){e=!1;break}}this.selected(e)},e}(s["default"]);c["default"].registerComponent("OffTextTrackMenuItem",u),n["default"]=u,e.exports=n["default"]},{"../../component.js":67,"./text-track-menu-item.js":93}],91:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-button.js"),s=i(a),l=t("../../component.js"),c=i(l),u=function(t){function e(n,i,o){r(this,e),t.call(this,n,i,o),this.el_.setAttribute("aria-label","Subtitles Menu")}return o(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e}(s["default"]);u.prototype.kind_="subtitles",u.prototype.controlText_="Subtitles",c["default"].registerComponent("SubtitlesButton",u),n["default"]=u,e.exports=n["default"]},{"../../component.js":67,"./text-track-button.js":92}],92:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../track-button.js"),l=r(s),c=t("../../component.js"),u=r(c),d=t("../../utils/fn.js"),h=(i(d),t("./text-track-menu-item.js")),f=r(h),p=t("./off-text-track-menu-item.js"),m=r(p),g=function(t){function e(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,e),i.tracks=n.textTracks(),t.call(this,n,i)}return a(e,t),e.prototype.createItems=function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];t.push(new m["default"](this.player_,{kind:this.kind_}));var e=this.player_.textTracks();if(!e)return t;for(var n=0;n<e.length;n++){var i=e[n];i.kind===this.kind_&&t.push(new f["default"](this.player_,{selectable:!0,track:i}))}return t},e}(l["default"]);u["default"].registerComponent("TextTrackButton",g),n["default"]=g,e.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":144,"../track-button.js":98,"./off-text-track-menu-item.js":90,"./text-track-menu-item.js":93}],93:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../menu/menu-item.js"),l=r(s),c=t("../../component.js"),u=r(c),d=t("../../utils/fn.js"),h=i(d),f=t("global/window"),p=r(f),m=t("global/document"),g=r(m),v=function(t){function e(n,i){var r=this;o(this,e);var a=i.track,s=n.textTracks();i.label=a.label||a.language||"Unknown",i.selected=a["default"]||"showing"===a.mode,t.call(this,n,i),this.track=a,s&&!function(){var t=h.bind(r,r.handleTracksChange);s.addEventListener("change",t),r.on("dispose",function(){s.removeEventListener("change",t)})}(),s&&void 0===s.onchange&&!function(){var t=void 0;r.on(["tap","click"],function(){if("object"!=typeof p["default"].Event)try{t=new p["default"].Event("change")}catch(t){}t||(t=g["default"].createEvent("Event"),t.initEvent("change",!0,!0)),s.dispatchEvent(t)})}()}return a(e,t),e.prototype.handleClick=function(e){var n=this.track.kind,i=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),i)for(var r=0;r<i.length;r++){var o=i[r];o.kind===n&&(o===this.track?o.mode="showing":o.mode="disabled")}},e.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},e}(l["default"]);u["default"].registerComponent("TextTrackMenuItem",v),n["default"]=v,e.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":144,"global/document":1,"global/window":2}],94:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),l=r(s),c=t("../../utils/dom.js"),u=i(c),d=t("../../utils/format-time.js"),h=r(d),f=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.on(n,"timeupdate",this.updateContent)}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),e=this.localize("Current Time"),n=h["default"](t,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> "+n)},e}(l["default"]);l["default"].registerComponent("CurrentTimeDisplay",f),n["default"]=f,e.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/format-time.js":145}],95:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),l=r(s),c=t("../../utils/dom.js"),u=i(c),d=t("../../utils/format-time.js"),h=r(d),f=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.on(n,"durationchange",this.updateContent),this.on(n,"timeupdate",this.updateContent),this.on(n,"loadedmetadata",this.updateContent)}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var e=this.localize("Duration Time"),n=h["default"](t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> "+n}},e}(l["default"]);l["default"].registerComponent("DurationDisplay",f),n["default"]=f,e.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/format-time.js":145}],96:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),l=r(s),c=t("../../utils/dom.js"),u=i(c),d=t("../../utils/format-time.js"),h=r(d),f=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.on(n,"timeupdate",this.updateContent),this.on(n,"durationchange",this.updateContent)}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(){if(this.player_.duration()){var t=this.localize("Remaining Time"),e=h["default"](this.player_.remainingTime());e!==this.formattedTime_&&(this.formattedTime_=e,
this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+e)}},e}(l["default"]);l["default"].registerComponent("RemainingTimeDisplay",f),n["default"]=f,e.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/format-time.js":145}],97:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),s=i(a),l=function(t){function e(){r(this,e),t.apply(this,arguments)}return o(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(s["default"]);s["default"].registerComponent("TimeDivider",l),n["default"]=l,e.exports=n["default"]},{"../../component.js":67}],98:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../menu/menu-button.js"),l=r(s),c=t("../component.js"),u=r(c),d=t("../utils/fn.js"),h=i(d),f=function(t){function e(n,i){o(this,e);var r=i.tracks;if(t.call(this,n,i),this.items.length<=1&&this.hide(),r){var a=h.bind(this,this.update);r.addEventListener("removetrack",a),r.addEventListener("addtrack",a),this.player_.on("dispose",function(){r.removeEventListener("removetrack",a),r.removeEventListener("addtrack",a)})}}return a(e,t),e}(l["default"]);u["default"].registerComponent("TrackButton",f),n["default"]=f,e.exports=n["default"]},{"../component.js":67,"../menu/menu-button.js":109,"../utils/fn.js":144}],99:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../slider/slider.js"),l=r(s),c=t("../../component.js"),u=r(c),d=t("../../utils/fn.js"),h=i(d),f=t("./volume-level.js"),p=(r(f),function(t){function e(n,i){o(this,e),t.call(this,n,i),this.on(n,"volumechange",this.updateARIAAttributes),n.ready(h.bind(this,this.updateARIAAttributes))}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},e.prototype.handleMouseMove=function(t){this.checkMuted(),this.player_.volume(this.calculateDistance(t))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},e}(l["default"]));p.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},p.prototype.playerEvent="volumechange",u["default"].registerComponent("VolumeBar",p),n["default"]=p,e.exports=n["default"]},{"../../component.js":67,"../../slider/slider.js":119,"../../utils/fn.js":144,"./volume-level.js":101}],100:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),s=i(a),l=t("./volume-bar.js"),c=(i(l),function(t){function e(n,i){r(this,e),t.call(this,n,i),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return o(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},e}(s["default"]));c.prototype.options_={children:["volumeBar"]},s["default"].registerComponent("VolumeControl",c),n["default"]=c,e.exports=n["default"]},{"../../component.js":67,"./volume-bar.js":99}],101:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),s=i(a),l=function(t){function e(){r(this,e),t.apply(this,arguments)}return o(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(s["default"]);s["default"].registerComponent("VolumeLevel",l),n["default"]=l,e.exports=n["default"]},{"../../component.js":67}],102:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../utils/fn.js"),l=r(s),c=t("../component.js"),u=i(c),d=t("../popup/popup.js"),h=i(d),f=t("../popup/popup-button.js"),p=i(f),m=t("./mute-toggle.js"),g=i(m),v=t("./volume-control/volume-bar.js"),y=i(v),b=function(t){function e(n){function i(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,e),void 0===r.inline&&(r.inline=!0),void 0===r.vertical&&(r.inline?r.vertical=!1:r.vertical=!0),r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=!!r.vertical,t.call(this,n,r),this.on(n,"volumechange",this.volumeUpdate),this.on(n,"loadstart",this.volumeUpdate),i.call(this),this.on(n,"loadstart",i),this.on(this.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),this.on(this.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),this.on(this.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),this.on(this.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")})}return a(e,t),e.prototype.buildCSSClass=function(){var e="";return e=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+e},e.prototype.createPopup=function(){var t=new h["default"](this.player_,{contentElType:"div"}),e=new y["default"](this.player_,this.options_.volumeBar);return t.addChild(e),this.menuContent=t,this.volumeBar=e,this.attachVolumeBarEvents(),t},e.prototype.handleClick=function(){g["default"].prototype.handleClick.call(this),t.prototype.handleClick.call(this)},e.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],l.bind(this,this.handleMouseDown))},e.prototype.handleMouseDown=function(){this.on(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},e.prototype.handleMouseUp=function(){this.off(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))},e}(p["default"]);b.prototype.volumeUpdate=g["default"].prototype.update,b.prototype.controlText_="Mute",u["default"].registerComponent("VolumeMenuButton",b),n["default"]=b,e.exports=n["default"]},{"../component.js":67,"../popup/popup-button.js":115,"../popup/popup.js":116,"../utils/fn.js":144,"./mute-toggle.js":73,"./volume-control/volume-bar.js":99}],103:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./component"),l=r(s),c=t("./modal-dialog"),u=r(c),d=t("./utils/dom"),h=(i(d),t("./utils/merge-options")),f=r(h),p=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.on(n,"error",this.open)}return a(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(u["default"]);p.prototype.options_=f["default"](u["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),l["default"].registerComponent("ErrorDisplay",p),n["default"]=p,e.exports=n["default"]},{"./component":67,"./modal-dialog":112,"./utils/dom":142,"./utils/merge-options":148}],104:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}n.__esModule=!0;var r=t("./utils/events.js"),o=i(r),a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},o.on(this,t,e),this.addEventListener=n},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(t,e){o.off(this,t,e)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},o.one(this,t,e),this.addEventListener=n},a.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=o.fixEvent(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),o.trigger(this,t)},a.prototype.dispatchEvent=a.prototype.trigger,n["default"]=a,e.exports=n["default"]},{"./utils/events.js":143}],105:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var r=t("./utils/log"),o=i(r),a=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},s=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(){t.apply(this,arguments)},i={};"object"==typeof e?("function"==typeof e.init&&(o["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),e.constructor=e.init),e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),a(n,t);for(var r in i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n};n["default"]=s,e.exports=n["default"]},{"./utils/log":147}],106:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;for(var r=t("global/document"),o=i(r),a={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=s[0],c=void 0,u=0;u<s.length;u++)if(s[u][1]in o["default"]){c=s[u];break}if(c)for(var u=0;u<c.length;u++)a[l[u]]=c[u];n["default"]=a,e.exports=n["default"]},{"global/document":1}],107:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./component"),s=i(a),l=function(t){function e(){r(this,e),t.apply(this,arguments)}return o(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},e}(s["default"]);s["default"].registerComponent("LoadingSpinner",l),n["default"]=l,e.exports=n["default"]},{"./component":67}],108:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t instanceof r?t:("number"==typeof t?this.code=t:"string"==typeof t?this.message=t:"object"==typeof t&&("number"==typeof t.code&&(this.code=t.code),a["default"](this,t)),void(this.message||(this.message=r.defaultMessages[this.code]||"")))}n.__esModule=!0;var o=t("object.assign"),a=i(o);r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;n["default"]=r,e.exports=n["default"]},{"object.assign":45}],109:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../clickable-component.js"),l=r(s),c=t("../component.js"),u=r(c),d=t("./menu.js"),h=r(d),f=t("../utils/dom.js"),p=i(f),m=t("../utils/fn.js"),g=i(m),v=t("../utils/to-title-case.js"),y=r(v),b=function(t){function e(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,e),t.call(this,n,i),this.update(),this.enabled_=!0,this.el_.setAttribute("aria-haspopup","true"),this.el_.setAttribute("role","menuitem"),this.on("keydown",this.handleSubmenuKeyPress)}return a(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},e.prototype.createMenu=function(){var t=new h["default"](this.player_);if(this.options_.title){var e=p.createEl("li",{className:"vjs-menu-title",innerHTML:y["default"](this.options_.title),tabIndex:-1});t.children_.unshift(e),p.insertElFirst(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return e+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",g.bind(this,function(){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault()):38===e.which||40===e.which?this.buttonPressed_||(this.pressButton(),e.preventDefault()):t.prototype.handleKeyPress.call(this,e)},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault())},e.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},e.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,t.prototype.disable.call(this)},e.prototype.enable=function(){return this.enabled_=!0,t.prototype.enable.call(this)},e}(l["default"]);u["default"].registerComponent("MenuButton",b),n["default"]=b,e.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":142,"../utils/fn.js":144,"../utils/to-title-case.js":151,"./menu.js":111}],110:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../clickable-component.js"),s=i(a),l=t("../component.js"),c=i(l),u=t("object.assign"),d=i(u),h=function(t){function e(n,i){r(this,e),t.call(this,n,i),this.selectable=i.selectable,this.selected(i.selected),this.selectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitem")}return o(e,t),e.prototype.createEl=function(e,n,i){return t.prototype.createEl.call(this,"li",d["default"]({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),i)},e.prototype.handleClick=function(){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},e}(s["default"]);c["default"].registerComponent("MenuItem",h),n["default"]=h,e.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"object.assign":45}],111:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../component.js"),l=r(s),c=t("../utils/dom.js"),u=i(c),d=t("../utils/fn.js"),h=i(d),f=t("../utils/events.js"),p=i(f),m=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.focusedChild_=-1,this.on("keydown",this.handleKeyPress)}return a(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(){this.unlockShowing()}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=u.createEl(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),p.on(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=this.children().slice(),n=e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className);n&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(l["default"]);l["default"].registerComponent("Menu",m),n["default"]=m,e.exports=n["default"]},{"../component.js":67,"../utils/dom.js":142,"../utils/events.js":143,"../utils/fn.js":144}],112:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./utils/dom"),l=r(s),c=t("./utils/fn"),u=r(c),d=t("./utils/log"),h=(i(d),t("./component")),f=i(h),p=t("./close-button"),m=(i(p),"vjs-modal-dialog"),g=27,v=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=l.createEl("div",{className:m+"-content"},{role:"document"}),this.descEl_=l.createEl("p",{className:m+"-description vjs-offscreen",id:this.el().getAttribute("aria-describedby")}),l.textContent(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.buildCSSClass=function(){return m+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){t.which===g&&this.closeable()&&this.close()},e.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",u.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},e.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",u.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},e.prototype.closeable=function t(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},e.prototype.fill=function(){return this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),l.insertContent(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e),this},e.prototype.empty=function(){return this.trigger("beforemodalempty"),l.emptyEl(this.contentEl()),this.trigger("modalempty"),this},e.prototype.content=function(t){return"undefined"!=typeof t&&(this.content_=t),this.content_},e}(f["default"]);v.prototype.options_={temporary:!0},f["default"].registerComponent("ModalDialog",v),n["default"]=v,e.exports=n["default"]},{"./close-button":66,"./component":67,"./utils/dom":142,"./utils/fn":144,"./utils/log":147}],113:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./component.js"),l=r(s),c=t("global/document"),u=r(c),d=t("global/window"),h=r(d),f=t("./utils/events.js"),p=i(f),m=t("./utils/dom.js"),g=i(m),v=t("./utils/fn.js"),y=i(v),b=t("./utils/guid.js"),_=i(b),w=t("./utils/browser.js"),x=i(w),k=t("./utils/log.js"),C=r(k),T=t("./utils/to-title-case.js"),S=r(T),E=t("./utils/time-ranges.js"),O=t("./utils/buffer.js"),A=t("./utils/stylesheet.js"),M=i(A),P=t("./fullscreen-api.js"),D=r(P),j=t("./media-error.js"),N=r(j),L=t("safe-json-parse/tuple"),I=r(L),R=t("object.assign"),B=r(R),F=t("./utils/merge-options.js"),$=r(F),z=t("./tracks/text-track-list-converter.js"),U=r(z),H=t("./tracks/audio-track-list.js"),W=r(H),Y=t("./tracks/video-track-list.js"),V=r(Y),G=t("./tech/loader.js"),q=(r(G),t("./poster-image.js")),X=(r(q),t("./tracks/text-track-display.js")),K=(r(X),t("./loading-spinner.js")),Z=(r(K),t("./big-play-button.js")),Q=(r(Z),t("./control-bar/control-bar.js")),J=(r(Q),t("./error-display.js")),tt=(r(J),t("./tracks/text-track-settings.js")),et=(r(tt),t("./modal-dialog")),nt=r(et),it=t("./tech/tech.js"),rt=r(it),ot=t("./tech/html5.js"),at=(r(ot),function(t){function e(n,i,r){var a=this;if(o(this,e),n.id=n.id||"vjs_video_"+_.newGUID(),i=B["default"](e.getTagSettings(n),i),i.initChildren=!1,i.createEl=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&(i.language=s.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(g.getElAttributes(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if(t.call(this,null,i,r),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tag=n,this.tagAttributes=n&&g.getElAttributes(n),this.language(this.options_.language),i.languages?!function(){var t={};Object.getOwnPropertyNames(i.languages).forEach(function(e){t[e.toLowerCase()]=i.languages[e]}),a.languages_=t}():this.languages_=e.prototype.options_.languages,this.cache_={},this.poster_=i.poster||"",this.controls_=!!i.controls,n.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var c=$["default"](this.options_);i.plugins&&!function(){var t=i.plugins;Object.getOwnPropertyNames(t).forEach(function(e){"function"==typeof this[e]?this[e](t[e]):C["default"].error("Unable to find plugin:",e)},a)}(),this.options_.playerOptions=c,this.initChildren(),this.isAudio("audio"===n.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label","audio player"):this.el_.setAttribute("aria-label","video player"),this.isAudio()&&this.addClass("vjs-audio"),this.flexNotSupported_()&&this.addClass("vjs-no-flex"),x.IS_IOS||this.addClass("vjs-workinghover"),e.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on("fullscreenchange",this.handleFullscreenChange_),this.on("stageclick",this.handleStageClick_)}return a(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.el_=t.prototype.createEl.call(this,"div"),n=this.tag;n.removeAttribute("width"),n.removeAttribute("height");var i=g.getElAttributes(n);if(Object.getOwnPropertyNames(i).forEach(function(t){"class"===t?e.className=i[t]:e.setAttribute(t,i[t])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.addClass("vjs-paused"),h["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=M.createStyleElement("vjs-styles-dimensions");var r=g.$(".vjs-styles-defaults"),o=g.$("head");o.insertBefore(this.styleEl_,r?r.nextSibling:o.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);
for(var a=n.getElementsByTagName("a"),s=0;s<a.length;s++){var l=a.item(s);g.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&n.parentNode.insertBefore(e,n),g.insertElFirst(n,e),this.children_.unshift(n),this.el_=e,e},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)this[n]=void 0;else{var i=parseFloat(e);if(isNaN(i))return C["default"].error('Improper value "'+e+'" supplied for for '+t),this;this[n]=i}return this.updateStyleEl_(),this},e.prototype.fluid=function(t){return void 0===t?!!this.fluid_:(this.fluid_=!!t,void(t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid")))},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(h["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var t="number"==typeof this.width_?this.width_:this.options_.width,e="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(t>=0&&(n.width=t),e>=0&&(n.height=e)))}var i=void 0,r=void 0,o=void 0,a=void 0;o=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9";var s=o.split(":"),l=s[1]/s[0];i=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,r=void 0!==this.height_?this.height_:i*l,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),M.setTextContent(this.styleEl_,"\n      ."+a+" {\n        width: "+i+"px;\n        height: "+r+"px;\n      }\n\n      ."+a+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},e.prototype.loadTech_=function(t,e){this.tech_&&this.unloadTech_(),"Html5"!==t&&this.tag&&(rt["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=t,this.isReady_=!1;var n=B["default"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:e,playerId:this.id(),techId:this.id()+"_"+t+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[t.toLowerCase()]);this.tag&&(n.tag=this.tag),e&&(this.currentType_=e.type,e.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.src=e.src);var i=rt["default"].getTech(t);i||(i=l["default"].getComponent(t)),this.tech_=new i(n),this.tech_.ready(y.bind(this,this.handleTechReady_),!0),U["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===t&&this.tag||g.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=U["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},e.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.tech_;var e="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw h["default"].alert(e),new Error(e)},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){C["default"]("deleting tag.poster throws in some browsers",t)}this.play()}},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},e.prototype.hasStarted=function(t){return void 0!==t?(this.hasStarted_!==t&&(this.hasStarted_=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechProgress_=function(){this.trigger("progress")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){0===t.button&&this.controls()&&(this.paused()?this.play():this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechSuspend_=function(){this.trigger("suspend")},e.prototype.handleTechAbort_=function(){this.trigger("abort")},e.prototype.handleTechEmptied_=function(){this.trigger("emptied")},e.prototype.handleTechStalled_=function(){this.trigger("stalled")},e.prototype.handleTechLoadedMetaData_=function(){this.trigger("loadedmetadata")},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")},e.prototype.handleTechTimeUpdate_=function(){this.trigger("timeupdate")},e.prototype.handleTechRateChange_=function(){this.trigger("ratechange")},e.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")},e.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[t](e)},!0);else try{this.tech_&&this.tech_[t](e)}catch(t){throw C["default"](t),t}},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?C["default"]("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?(C["default"]("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):C["default"](e),e}},e.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},e.prototype.pause=function(){return this.techCall_("pause"),this},e.prototype.paused=function(){return this.techGet_("paused")!==!1},e.prototype.scrubbing=function(t){return void 0!==t?(this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},e.prototype.currentTime=function(t){return void 0!==t?(this.techCall_("setCurrentTime",t),this):this.cache_.currentTime=this.techGet_("currentTime")||0},e.prototype.duration=function(t){return void 0===t?this.cache_.duration||0:(t=parseFloat(t)||0,t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.buffered=function t(){var t=this.techGet_("buffered");return t&&t.length||(t=E.createTimeRange(0,0)),t},e.prototype.bufferedPercent=function(){return O.bufferedPercent(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),this):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){return void 0!==t?(this.techCall_("setMuted",t),this):this.techGet_("muted")||!1},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){return void 0!==t?(this.isFullscreen_=!!t,this):!!this.isFullscreen_},e.prototype.requestFullscreen=function(){var t=D["default"];return this.isFullscreen(!0),t.requestFullscreen?(p.on(u["default"],t.fullscreenchange,y.bind(this,function e(){this.isFullscreen(u["default"][t.fullscreenElement]),this.isFullscreen()===!1&&p.off(u["default"],t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.exitFullscreen=function(){var t=D["default"];return this.isFullscreen(!1),t.requestFullscreen?u["default"][t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=u["default"].documentElement.style.overflow,p.on(u["default"],"keydown",y.bind(this,this.fullWindowOnEscKey)),u["default"].documentElement.style.overflow="hidden",g.addElClass(u["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,p.off(u["default"],"keydown",this.fullWindowOnEscKey),u["default"].documentElement.style.overflow=this.docOrigOverflow,g.removeElClass(u["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var r=S["default"](i[n]),o=rt["default"].getTech(r);if(o||(o=l["default"].getComponent(r)),o){if(o.isSupported()&&(e=o.canPlayType(t)))return e}else C["default"].error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e=this,n=this.options_.techOrder.map(S["default"]).map(function(t){return[t,rt["default"].getTech(t)||l["default"].getComponent(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(C["default"].error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(t,e,n){var i=void 0;return t.some(function(t){return e.some(function(e){if(i=n(t,e))return!0})}),i},r=void 0,o=function(t){return function(e,n){return t(n,e)}},a=function(t,n){var i=t[0],r=t[1];if(r.canPlaySource(n,e.options_[i.toLowerCase()]))return{source:n,tech:i}};return r=this.options_.sourceOrder?i(t,n,o(a)):i(n,t,a),r||!1},e.prototype.src=function(t){if(void 0===t)return this.techGet_("src");var e=rt["default"].getTech(this.techName_);return e||(e=l["default"].getComponent(this.techName_)),Array.isArray(t)?this.sourceList_(t):"string"==typeof t?this.src({src:t}):t instanceof Object&&(t.type&&!e.canPlaySource(t,this.options_[this.techName_.toLowerCase()])?this.sourceList_([t]):(this.cache_.src=t.src,this.currentType_=t.type||"",this.ready(function(){e.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},e.prototype.sourceList_=function(t){var e=this.selectSource(t);e?e.tech===this.techName_?this.src(e.source):this.loadTech_(e.tech,e.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},e.prototype.load=function(){return this.techCall_("load"),this},e.prototype.reset=function(){return this.loadTech_(S["default"](this.options_.techOrder[0]),null),this.techCall_("reset"),this},e.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},e.prototype.currentType=function(){return this.currentType_||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),this.options_.preload=t,this):this.techGet_("preload")},e.prototype.autoplay=function(t){return void 0!==t?(this.techCall_("setAutoplay",t),this.options_.autoplay=t,this):this.techGet_("autoplay",t)},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),this.options_.loop=t,this):this.techGet_("loop")},e.prototype.poster=function(t){return void 0===t?this.poster_:(t||(t=""),this.poster_=t,this.techCall_("setPoster",t),this.trigger("posterchange"),this)},e.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},e.prototype.controls=function(t){return void 0!==t?(t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},e.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new N["default"](t),this.addClass("vjs-error"),C["default"].error("(CODE:"+this.error_.code+" "+N["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},e.prototype.ended=function(){return this.techGet_("ended")},e.prototype.seeking=function(){return this.techGet_("seeking")},e.prototype.seekable=function(){return this.techGet_("seekable")},e.prototype.reportUserActivity=function(){this.userActivity_=!0},e.prototype.userActive=function(t){return void 0!==t?(t=!!t,t!==this.userActive_&&(this.userActive_=t,t?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,n=void 0,i=y.bind(this,this.reportUserActivity),r=function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())},o=function(){i(),this.clearInterval(t),t=this.setInterval(i,250)},a=function(){i(),this.clearInterval(t)};this.on("mousedown",o),this.on("mousemove",r),this.on("mouseup",a),this.on("keydown",i),this.on("keyup",i);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var t=this.options_.inactivityTimeout;t>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},e.prototype.playbackRate=function(t){return void 0!==t?(this.techCall_("setPlaybackRate",t),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},e.prototype.isAudio=function(t){return void 0!==t?(this.isAudio_=!!t,this):!!this.isAudio_},e.prototype.networkState=function(){return this.techGet_("networkState")},e.prototype.readyState=function(){return this.techGet_("readyState")},e.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new V["default"],this.videoTracks_)},e.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new W["default"],this.audioTracks_)},e.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},e.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},e.prototype.remoteTextTrackEls=function(){return this.tech_&&this.tech_.remoteTextTrackEls()},e.prototype.addTextTrack=function(t,e,n){return this.tech_&&this.tech_.addTextTrack(t,e,n)},e.prototype.addRemoteTextTrack=function(t){return this.tech_&&this.tech_.addRemoteTextTrack(t)},e.prototype.removeRemoteTextTrack=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.track,n=void 0===e?arguments[0]:e;this.tech_&&this.tech_.removeRemoteTextTrack(n)},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){return void 0===t?this.language_:(this.language_=(""+t).toLowerCase(),this)},e.prototype.languages=function(){return $["default"](e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=$["default"](this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];i=$["default"](i),i.player=void 0,t.tracks[n]=i}return t},e.prototype.createModal=function(t,e){var n=this;e=e||{},e.content=t||"";var i=new nt["default"](n,e);return n.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open()},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=g.getElAttributes(t),i=n["data-setup"];if(null!==i){var r=I["default"](i||"{}"),o=r[0],a=r[1];o&&C["default"].error(o),B["default"](n,a)}if(B["default"](e,n),t.hasChildNodes())for(var s=t.childNodes,l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();"source"===d?e.sources.push(g.getElAttributes(u)):"track"===d&&e.tracks.push(g.getElAttributes(u))}return e},e}(l["default"]));at.players={};var st=h["default"].navigator;at.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:st.languages&&st.languages[0]||st.userLanguage||st.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},at.prototype.handleTechLoadStart_,at.prototype.handleLoadedMetaData_,at.prototype.handleTextData_,at.prototype.handleLoadedData_,at.prototype.handleUserActive_,at.prototype.handleUserInactive_,at.prototype.handleTimeUpdate_,at.prototype.handleTechEnded_,at.prototype.handleVolumeChange_,at.prototype.handleError_,at.prototype.flexNotSupported_=function(){var t=u["default"].createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},l["default"].registerComponent("Player",at),n["default"]=at,e.exports=n["default"]},{"./big-play-button.js":63,"./component.js":67,"./control-bar/control-bar.js":70,"./error-display.js":103,"./fullscreen-api.js":106,"./loading-spinner.js":107,"./media-error.js":108,"./modal-dialog":112,"./poster-image.js":117,"./tech/html5.js":122,"./tech/loader.js":123,"./tech/tech.js":124,"./tracks/audio-track-list.js":125,"./tracks/text-track-display.js":130,"./tracks/text-track-list-converter.js":131,"./tracks/text-track-settings.js":133,"./tracks/video-track-list.js":138,"./utils/browser.js":140,"./utils/buffer.js":141,"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/guid.js":146,"./utils/log.js":147,"./utils/merge-options.js":148,"./utils/stylesheet.js":149,"./utils/time-ranges.js":150,"./utils/to-title-case.js":151,"global/document":1,"global/window":2,"object.assign":45,"safe-json-parse/tuple":54}],114:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var r=t("./player.js"),o=i(r),a=function(t,e){o["default"].prototype[t]=e};n["default"]=a,e.exports=n["default"]},{"./player.js":113}],115:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../clickable-component.js"),l=r(s),c=t("../component.js"),u=r(c),d=t("./popup.js"),h=(r(d),t("../utils/dom.js")),f=(i(h),t("../utils/fn.js")),p=(i(f),t("../utils/to-title-case.js")),m=(r(p),function(t){function e(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,e),t.call(this,n,i),this.update()}return a(e,t),e.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},e.prototype.createPopup=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return e+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e}(l["default"]));u["default"].registerComponent("PopupButton",m),n["default"]=m,e.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":142,"../utils/fn.js":144,"../utils/to-title-case.js":151,"./popup.js":116}],116:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../component.js"),l=r(s),c=t("../utils/dom.js"),u=i(c),d=t("../utils/fn.js"),h=i(d),f=t("../utils/events.js"),p=i(f),m=function(t){function e(){o(this,e),t.apply(this,arguments)}return a(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(){this.unlockShowing()}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=u.createEl(e,{className:"vjs-menu-content"});var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),p.on(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e}(l["default"]);l["default"].registerComponent("Popup",m),n["default"]=m,e.exports=n["default"]},{"../component.js":67,"../utils/dom.js":142,"../utils/events.js":143,"../utils/fn.js":144}],117:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./clickable-component.js"),l=r(s),c=t("./component.js"),u=r(c),d=t("./utils/fn.js"),h=i(d),f=t("./utils/dom.js"),p=i(f),m=t("./utils/browser.js"),g=i(m),v=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.update(),n.on("posterchange",h.bind(this,this.update))}return a(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=p.createEl("div",{className:"vjs-poster",tabIndex:-1});return g.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=p.createEl("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},e}(l["default"]);u["default"].registerComponent("PosterImage",v),n["default"]=v,e.exports=n["default"]},{"./clickable-component.js":65,"./component.js":67,"./utils/browser.js":140,"./utils/dom.js":142,"./utils/fn.js":144}],118:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}n.__esModule=!0;var o=t("./utils/events.js"),a=r(o),s=t("global/document"),l=i(s),c=t("global/window"),u=i(c),d=!1,h=void 0,f=function(){var t=l["default"].getElementsByTagName("video"),e=l["default"].getElementsByTagName("audio"),n=[];if(t&&t.length>0)for(var i=0,r=t.length;i<r;i++)n.push(t[i]);if(e&&e.length>0)for(var i=0,r=e.length;i<r;i++)n.push(e[i]);if(n&&n.length>0)for(var i=0,r=n.length;i<r;i++){var o=n[i];if(!o||!o.getAttribute){p(1);break}if(void 0===o.player){var a=o.getAttribute("data-setup");if(null!==a){h(o)}}}else d||p(1)},p=function(t,e){e&&(h=e),setTimeout(f,t)};"complete"===l["default"].readyState?d=!0:a.one(u["default"],"load",function(){d=!0});var m=function(){return d};n.autoSetup=f,n.autoSetupTimeout=p,n.hasLoaded=m},{"./utils/events.js":143,"global/document":1,"global/window":2}],119:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../component.js"),l=r(s),c=t("../utils/dom.js"),u=i(c),d=t("object.assign"),h=r(d),f=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(n,"controlsvisible",this.update),this.on(n,this.playerEvent,this.update)}return a(e,t),e.prototype.createEl=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return n.className=n.className+" vjs-slider",n=h["default"]({tabIndex:0},n),i=h["default"]({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;t.preventDefault(),u.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t);
},e.prototype.handleMouseMove=function(){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;u.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!==t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%";this.vertical()?e.el().style.height=n:e.el().style.width=n}}},e.prototype.calculateDistance=function(t){var e=u.getPointerPosition(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){return void 0===t?this.vertical_||!1:(this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},e}(l["default"]);l["default"].registerComponent("Slider",f),n["default"]=f,e.exports=n["default"]},{"../component.js":67,"../utils/dom.js":142,"object.assign":45}],120:[function(t,e,n){"use strict";function i(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,e){return t+"&"+e},t.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var n=t.search(/&(?!\w+=)/),i=void 0;return n!==-1?i=n+1:(n=i=t.lastIndexOf("/")+1,0===n&&(n=i=t.length)),e.connection=t.substring(0,n),e.stream=t.substring(i,t.length),e},t.isStreamingType=function(e){return e in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(e){return t.RTMP_RE.test(e)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(e){return t.isStreamingType(e)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(e){var n=t.rtmpSourceHandler.canPlayType(e.type);return n?n:t.isStreamingSrc(e.src)?"maybe":""},t.rtmpSourceHandler.handleSource=function(e,n){var i=t.streamToParts(e.src);n.setRtmpConnection(i.connection),n.setRtmpStream(i.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}n.__esModule=!0,n["default"]=i,e.exports=n["default"]},{}],121:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=t.charAt(0).toUpperCase()+t.slice(1);S["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}function l(t){S[t]=function(){return this.el_.vjs_getProperty(t)}}n.__esModule=!0;for(var c=t("./tech"),u=r(c),d=t("../utils/dom.js"),h=i(d),f=t("../utils/url.js"),p=i(f),m=t("../utils/time-ranges.js"),g=t("./flash-rtmp"),v=r(g),y=t("../component"),b=r(y),_=t("global/window"),w=r(_),x=t("object.assign"),k=r(x),C=w["default"].navigator,T=function(t){function e(n,i){o(this,e),t.call(this,n,i),n.source&&this.ready(function(){this.setSource(n.source)},!0),n.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),w["default"].videojs=w["default"].videojs||{},w["default"].videojs.Flash=w["default"].videojs.Flash||{},w["default"].videojs.Flash.onReady=e.onReady,w["default"].videojs.Flash.onEvent=e.onEvent,w["default"].videojs.Flash.onError=e.onError,this.on("seeked",function(){this.lastSeekTarget_=void 0})}return a(e,t),e.prototype.createEl=function(){var t=this.options_;t.swf||(t.swf="//vjs.zencdn.net/swf/5.1.0/video-js.swf");var n=t.techId,i=k["default"]({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),r=k["default"]({wmode:"opaque",bgcolor:"#000000"},t.params),o=k["default"]({id:n,name:n,"class":"vjs-tech"},t.attributes);return this.el_=e.embed(t.swf,i,r,o),this.el_.tech=this,this.el_},e.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},e.prototype.pause=function(){this.el_.vjs_pause()},e.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},e.prototype.setSrc=function(t){if(t=p.getAbsoluteURL(t),this.el_.vjs_src(t),this.autoplay()){var e=this;this.setTimeout(function(){e.play()},0)}},e.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},e.prototype.setCurrentTime=function(e){var n=this.seekable();n.length&&(e=e>n.start(0)?e:n.start(0),e=e<n.end(n.length-1)?e:n.end(n.length-1),this.lastSeekTarget_=e,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",e),t.prototype.setCurrentTime.call(this))},e.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},e.prototype.duration=function t(){if(0===this.readyState())return NaN;var t=this.el_.vjs_getProperty("duration");return t>=0?t:1/0},e.prototype.load=function(){this.el_.vjs_load()},e.prototype.poster=function(){this.el_.vjs_getProperty("poster")},e.prototype.setPoster=function(){},e.prototype.seekable=function(){var t=this.duration();return 0===t?m.createTimeRange():m.createTimeRange(0,t)},e.prototype.buffered=function(){var t=this.el_.vjs_getProperty("buffered");return 0===t.length?m.createTimeRange():m.createTimeRange(t[0][0],t[0][1])},e.prototype.supportsFullScreen=function(){return!1},e.prototype.enterFullScreen=function(){return!1},e}(u["default"]),S=T.prototype,E="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),O="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),A=0;A<E.length;A++)l(E[A]),s(E[A]);for(var A=0;A<O.length;A++)l(O[A]);T.isSupported=function(){return T.version()[0]>=10},u["default"].withSourceHandlers(T),T.nativeSourceHandler={},T.nativeSourceHandler.canPlayType=function(t){return t in T.formats?"maybe":""},T.nativeSourceHandler.canHandleSource=function(t){function e(t){var e=p.getFileExtension(t);return e?"video/"+e:""}var n;return n=t.type?t.type.replace(/;.*/,"").toLowerCase():e(t.src),T.nativeSourceHandler.canPlayType(n)},T.nativeSourceHandler.handleSource=function(t,e){e.setSrc(t.src)},T.nativeSourceHandler.dispose=function(){},T.registerSourceHandler(T.nativeSourceHandler),T.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},T.onReady=function(t){var e=h.getEl(t),n=e&&e.tech;n&&n.el()&&T.checkReady(n)},T.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){T.checkReady(t)},50))},T.onEvent=function(t,e){var n=h.getEl(t).tech;n.trigger(e,Array.prototype.slice.call(arguments,2))},T.onError=function(t,e){var n=h.getEl(t).tech;return"srcnotfound"===e?n.error(4):void n.error("FLASH: "+e)},T.version=function(){var t="0,0,0";try{t=new w["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{C.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(C.plugins["Shockwave Flash 2.0"]||C.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},T.embed=function(t,e,n,i){var r=T.getEmbedCode(t,e,n,i),o=h.createEl("div",{innerHTML:r}).childNodes[0];return o},T.getEmbedCode=function(t,e,n,i){var r='<object type="application/x-shockwave-flash" ',o="",a="",s="";return e&&Object.getOwnPropertyNames(e).forEach(function(t){o+=t+"="+e[t]+"&amp;"}),n=k["default"]({movie:t,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(t){a+='<param name="'+t+'" value="'+n[t]+'" />'}),i=k["default"]({data:t,width:"100%",height:"100%"},i),Object.getOwnPropertyNames(i).forEach(function(t){s+=t+'="'+i[t]+'" '}),""+r+s+">"+a+"</object>"},v["default"](T),b["default"].registerComponent("Flash",T),u["default"].registerTech("Flash",T),n["default"]=T,e.exports=n["default"]},{"../component":67,"../utils/dom.js":142,"../utils/time-ranges.js":150,"../utils/url.js":152,"./flash-rtmp":120,"./tech":124,"global/window":2,"object.assign":45}],122:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return t.raw=e,t}n.__esModule=!0;var l=s(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."]),c=t("./tech.js"),u=r(c),d=t("../component"),h=r(d),f=t("../utils/dom.js"),p=i(f),m=t("../utils/url.js"),g=i(m),v=t("../utils/fn.js"),y=i(v),b=t("../utils/log.js"),_=r(b),w=t("tsml"),x=r(w),k=t("../../../src/js/tracks/text-track.js"),C=(r(k),t("../utils/browser.js")),T=i(C),S=t("global/document"),E=r(S),O=t("global/window"),A=r(O),M=t("object.assign"),P=r(M),D=t("../utils/merge-options.js"),j=r(D),N=t("../utils/to-title-case.js"),L=r(N),I=function(t){function e(n,i){var r=this;o(this,e),t.call(this,n,i);var a=n.source,s=!1;if(a&&(this.el_.currentSrc!==a.src||n.tag&&3===n.tag.initNetworkState_)?this.setSource(a):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var c=this.el_.childNodes,u=c.length,d=[];u--;){var h=c[u],f=h.nodeName.toLowerCase();"track"===f&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(h),this.remoteTextTracks().addTrack_(h.track),s||this.el_.hasAttribute("crossorigin")||!g.isCrossOrigin(h.src)||(s=!0)):d.push(h))}for(var p=0;p<d.length;p++)this.el_.removeChild(d[p])}var m=["audio","video"];m.forEach(function(t){var e=L["default"](t);if(r["featuresNative"+e+"Tracks"]){var n=r.el()[t+"Tracks"];n&&n.addEventListener&&(n.addEventListener("change",y.bind(r,r["handle"+e+"TrackChange_"])),n.addEventListener("addtrack",y.bind(r,r["handle"+e+"TrackAdd_"])),n.addEventListener("removetrack",y.bind(r,r["handle"+e+"TrackRemove_"])),r.on("loadstart",r["removeOld"+e+"Tracks_"]))}}),this.featuresNativeTextTracks&&(s&&_["default"].warn(x["default"](l)),this.handleTextTrackChange_=y.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=y.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=y.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(T.TOUCH_ENABLED||T.IS_IPHONE||T.IS_NATIVE_ANDROID)&&n.nativeControlsForTouch===!0&&this.setControls(!0),this.triggerReady()}return a(e,t),e.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(t){var e=L["default"](t),i=n.el_[t+"Tracks"];i&&i.removeEventListener&&(i.removeEventListener("change",n["handle"+e+"TrackChange_"]),i.removeEventListener("addtrack",n["handle"+e+"TrackAdd_"]),i.removeEventListener("removetrack",n["handle"+e+"TrackRemove_"])),i&&n.off("loadstart",n["removeOld"+e+"Tracks_"])}),e.disposeMediaElement(this.el_),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||this.movingMediaElementInDOM===!1){if(t){var n=t.cloneNode(!0);t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=E["default"].createElement("video");var i=this.options_.tag&&p.getElAttributes(this.options_.tag),r=j["default"]({},i);T.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete r.controls,p.setElAttributes(t,P["default"](r,{id:this.options_.techId,"class":"vjs-tech"}))}t.playerId=this.options_.playerId}for(var o=["autoplay","preload","loop","muted"],a=o.length-1;a>=0;a--){var s=o[a],l={};"undefined"!=typeof this.options_[s]&&(l[s]=this.options_[s]),p.setElAttributes(t,l)}return t},e.prototype.handleLateInit_=function(t){var e=this;if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=function(){var t=!1,n=function(){t=!0};e.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return e.on("loadedmetadata",i),e.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")}),{v:void 0}}();if("object"==typeof n)return n.v}var i=["loadstart"];i.push("loadedmetadata"),t.readyState>=2&&i.push("loadeddata"),t.readyState>=3&&i.push("canplay"),t.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(t){this.trigger(t)},this)})}},e.prototype.proxyNativeTextTracks_=function(){var t=this.el().textTracks;if(t){for(var e=0;e<t.length;e++)this.textTracks().addTrack_(t[e]);t.addEventListener&&(t.addEventListener("change",this.handleTextTrackChange_),t.addEventListener("addtrack",this.handleTextTrackAdd_),t.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},e.prototype.handleTextTrackChange=function(){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.prototype.handleTextTrackAdd=function(t){this.textTracks().addTrack_(t.track)},e.prototype.handleTextTrackRemove=function(t){this.textTracks().removeTrack_(t.track)},e.prototype.handleVideoTrackChange_=function(){var t=this.videoTracks();this.videoTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.prototype.handleVideoTrackAdd_=function(t){this.videoTracks().addTrack_(t.track)},e.prototype.handleVideoTrackRemove_=function(t){this.videoTracks().removeTrack_(t.track)},e.prototype.handleAudioTrackChange_=function(){var t=this.audioTracks();this.audioTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.prototype.handleAudioTrackAdd_=function(t){this.audioTracks().addTrack_(t.track)},e.prototype.handleAudioTrackRemove_=function(t){this.audioTracks().removeTrack_(t.track)},e.prototype.removeOldTracks_=function(t,e){var n=[];if(e){for(var i=0;i<t.length;i++){for(var r=t[i],o=!1,a=0;a<e.length;a++)if(e[a]===r){o=!0;break}o||n.push(r)}for(var i=0;i<n.length;i++){var s=n[i];t.removeTrack_(s)}}},e.prototype.removeOldTextTracks_=function(){var t=this.textTracks(),e=this.el().textTracks;this.removeOldTracks_(t,e)},e.prototype.removeOldAudioTracks_=function(){var t=this.audioTracks(),e=this.el().audioTracks;this.removeOldTracks_(t,e)},e.prototype.removeOldVideoTracks_=function(){var t=this.videoTracks(),e=this.el().videoTracks;this.removeOldTracks_(t,e)},e.prototype.play=function(){var t=this.el_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(){})},e.prototype.pause=function(){this.el_.pause()},e.prototype.paused=function(){return this.el_.paused},e.prototype.currentTime=function(){return this.el_.currentTime},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){_["default"](t,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){return this.el_.duration||0},e.prototype.buffered=function(){return this.el_.buffered},e.prototype.volume=function(){return this.el_.volume},e.prototype.setVolume=function(t){this.el_.volume=t},e.prototype.muted=function(){return this.el_.muted},e.prototype.setMuted=function(t){this.el_.muted=t},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=A["default"].navigator.userAgent;if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;"webkitDisplayingFullscreen"in t&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){return void 0===t?this.el_.src:void this.setSrc(t)},e.prototype.setSrc=function(t){this.el_.src=t},e.prototype.load=function(){this.el_.load()},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.poster=function(){return this.el_.poster},e.prototype.setPoster=function(t){this.el_.poster=t},e.prototype.preload=function(){return this.el_.preload},e.prototype.setPreload=function(t){this.el_.preload=t},e.prototype.autoplay=function(){return this.el_.autoplay},e.prototype.setAutoplay=function(t){this.el_.autoplay=t},e.prototype.controls=function(){return this.el_.controls},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.loop=function(){return this.el_.loop},e.prototype.setLoop=function(t){this.el_.loop=t},e.prototype.error=function(){return this.el_.error},e.prototype.seeking=function(){return this.el_.seeking},e.prototype.seekable=function(){return this.el_.seekable},e.prototype.ended=function(){return this.el_.ended},e.prototype.defaultMuted=function(){return this.el_.defaultMuted},e.prototype.playbackRate=function(){return this.el_.playbackRate},e.prototype.played=function(){return this.el_.played},e.prototype.setPlaybackRate=function(t){this.el_.playbackRate=t},e.prototype.networkState=function(){return this.el_.networkState},e.prototype.readyState=function(){return this.el_.readyState},e.prototype.videoWidth=function(){return this.el_.videoWidth},e.prototype.videoHeight=function(){return this.el_.videoHeight},e.prototype.textTracks=function(){return t.prototype.textTracks.call(this)},e.prototype.addTextTrack=function(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):t.prototype.addTextTrack.call(this,e,n,i)},e.prototype.addRemoteTextTrack=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return t.prototype.addRemoteTextTrack.call(this,e);var n=E["default"].createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e["default"]&&(n["default"]=e["default"]),e.id&&(n.id=e.id),e.src&&(n.src=e.src),this.el().appendChild(n),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),n},e.prototype.removeRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.removeRemoteTextTrack.call(this,e);var n=void 0,i=void 0,r=this.remoteTextTrackEls().getTrackElementByTrack_(e);for(this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack_(e),n=this.$$("track"),i=n.length;i--;)e!==n[i]&&e!==n[i].track||this.el().removeChild(n[i])},e}(u["default"]);I.TEST_VID=E["default"].createElement("video");var R=E["default"].createElement("track");R.kind="captions",R.srclang="en",R.label="English",I.TEST_VID.appendChild(R),I.isSupported=function(){try{I.TEST_VID.volume=.5}catch(t){return!1}return!!I.TEST_VID.canPlayType},u["default"].withSourceHandlers(I),I.nativeSourceHandler={},I.nativeSourceHandler.canPlayType=function(t){try{return I.TEST_VID.canPlayType(t)}catch(t){return""}},I.nativeSourceHandler.canHandleSource=function(t){var e;return t.type?I.nativeSourceHandler.canPlayType(t.type):t.src?(e=g.getFileExtension(t.src),I.nativeSourceHandler.canPlayType("video/"+e)):""},I.nativeSourceHandler.handleSource=function(t,e){e.setSrc(t.src)},I.nativeSourceHandler.dispose=function(){},I.registerSourceHandler(I.nativeSourceHandler),I.canControlVolume=function(){try{var t=I.TEST_VID.volume;return I.TEST_VID.volume=t/2+.1,t!==I.TEST_VID.volume}catch(t){return!1}},I.canControlPlaybackRate=function(){if(T.IS_ANDROID&&T.IS_CHROME)return!1;try{var t=I.TEST_VID.playbackRate;return I.TEST_VID.playbackRate=t/2+.1,t!==I.TEST_VID.playbackRate}catch(t){return!1}},I.supportsNativeTextTracks=function(){var t;return t=!!I.TEST_VID.textTracks,t&&I.TEST_VID.textTracks.length>0&&(t="number"!=typeof I.TEST_VID.textTracks[0].mode),t&&T.IS_FIREFOX&&(t=!1),!t||"onremovetrack"in I.TEST_VID.textTracks||(t=!1),t},I.supportsNativeVideoTracks=function(){var t=!!I.TEST_VID.videoTracks;return t},I.supportsNativeAudioTracks=function(){var t=!!I.TEST_VID.audioTracks;return t},I.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],I.prototype.featuresVolumeControl=I.canControlVolume(),I.prototype.featuresPlaybackRate=I.canControlPlaybackRate(),I.prototype.movingMediaElementInDOM=!T.IS_IOS,I.prototype.featuresFullscreenResize=!0,I.prototype.featuresProgressEvents=!0,I.prototype.featuresNativeTextTracks=I.supportsNativeTextTracks(),I.prototype.featuresNativeVideoTracks=I.supportsNativeVideoTracks(),I.prototype.featuresNativeAudioTracks=I.supportsNativeAudioTracks();var B=void 0,F=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,$=/^video\/mp4/i;I.patchCanPlayType=function(){T.ANDROID_VERSION>=4&&(B||(B=I.TEST_VID.constructor.prototype.canPlayType),I.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&F.test(t)?"maybe":B.call(this,t)}),T.IS_OLD_ANDROID&&(B||(B=I.TEST_VID.constructor.prototype.canPlayType),I.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&$.test(t)?"maybe":B.call(this,t)})},I.unpatchCanPlayType=function(){var t=I.TEST_VID.constructor.prototype.canPlayType;return I.TEST_VID.constructor.prototype.canPlayType=B,B=null,t},I.patchCanPlayType(),I.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&!function(){try{t.load()}catch(t){}}()}},I.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&!function(){try{t.load()}catch(t){}}()}},h["default"].registerComponent("Html5",I),u["default"].registerTech("Html5",I),n["default"]=I,e.exports=n["default"]},{"../../../src/js/tracks/text-track.js":134,"../component":67,"../utils/browser.js":140,"../utils/dom.js":142,"../utils/fn.js":144,"../utils/log.js":147,"../utils/merge-options.js":148,"../utils/to-title-case.js":151,"../utils/url.js":152,"./tech.js":124,"global/document":1,"global/window":2,"object.assign":45,tsml:55}],123:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../component.js"),s=i(a),l=t("./tech.js"),c=i(l),u=t("global/window"),d=(i(u),t("../utils/to-title-case.js")),h=i(d),f=function(t){function e(n,i,o){if(r(this,e),t.call(this,n,i,o),i.playerOptions.sources&&0!==i.playerOptions.sources.length)n.src(i.playerOptions.sources);else for(var a=0,l=i.playerOptions.techOrder;a<l.length;a++){var u=h["default"](l[a]),d=c["default"].getTech(u);if(u||(d=s["default"].getComponent(u)),d&&d.isSupported()){n.loadTech_(u);break}}}return o(e,t),e}(s["default"]);s["default"].registerComponent("MediaLoader",f),n["default"]=f,e.exports=n["default"]},{"../component.js":67,"../utils/to-title-case.js":151,"./tech.js":124,"global/window":2}],124:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../component"),l=r(s),c=t("../tracks/html-track-element"),u=r(c),d=t("../tracks/html-track-element-list"),h=r(d),f=t("../utils/merge-options.js"),p=r(f),m=t("../tracks/text-track"),g=r(m),v=t("../tracks/text-track-list"),y=r(v),b=t("../tracks/video-track"),_=(r(b),t("../tracks/video-track-list")),w=r(_),x=t("../tracks/audio-track-list"),k=r(x),C=t("../tracks/audio-track"),T=(r(C),t("../utils/fn.js")),S=i(T),E=t("../utils/log.js"),O=r(E),A=t("../utils/time-ranges.js"),M=t("../utils/buffer.js"),P=t("../media-error.js"),D=r(P),j=t("global/window"),N=r(j),L=t("global/document"),I=r(L),R=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];o(this,e),n.reportTouchActivity=!1,t.call(this,null,n,i),this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),this.textTracks_=n.textTracks,this.videoTracks_=n.videoTracks,this.audioTracks_=n.audioTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),n.nativeCaptions!==!1&&n.nativeTextTracks!==!1||(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.on("ready",this.emulateTextTracks),this.initTextTrackListeners(),this.initTrackListeners(),this.emitTapEvents()}return a(e,t),e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(S.bind(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},e.prototype.onDurationChange=function(){this.duration_=this.duration()},e.prototype.buffered=function(){return A.createTimeRange(0,0)},e.prototype.bufferedPercent=function(){return M.bufferedPercent(this.buffered(),this.duration_)},e.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach(function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack_(r)}})},e.prototype.reset=function(){},e.prototype.error=function(t){return void 0!==t&&(this.error_=new D["default"](t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?A.createTimeRange(0,0):A.createTimeRange()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.initTextTrackListeners=function(){var t=S.bind(this,function(){this.trigger("texttrackchange")}),e=this.textTracks();e&&(e.addEventListener("removetrack",t),e.addEventListener("addtrack",t),this.on("dispose",S.bind(this,function(){e.removeEventListener("removetrack",t),e.removeEventListener("addtrack",t)})))},e.prototype.initTrackListeners=function(){var t=this,e=["video","audio"];e.forEach(function(e){var n=function(){t.trigger(e+"trackchange")},i=t[e+"Tracks"]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),t.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})},e.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks();if(e){N["default"].WebVTT||null==this.el().parentNode||!function(){var e=I["default"].createElement("script");e.src=t.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},t.on("dispose",function(){e.onload=null,e.onerror=null}),N["default"].WebVTT=!0,t.el().parentNode.appendChild(e)}();var n=function(){return t.trigger("texttrackchange")},i=function(){n();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",n),"showing"===i.mode&&i.addEventListener("cuechange",n)}};i(),e.addEventListener("change",i),this.on("dispose",function(){e.removeEventListener("change",i)})}},e.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new w["default"],this.videoTracks_},e.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new k["default"],this.audioTracks_},e.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new y["default"],this.textTracks_},e.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new y["default"],this.remoteTextTracks_},e.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new h["default"],this.remoteTextTrackEls_},e.prototype.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return B(this,t,e,n)},e.prototype.addRemoteTextTrack=function(t){var e=p["default"](t,{tech:this}),n=new u["default"](e);return this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),this.textTracks().addTrack_(n.track),n},e.prototype.removeRemoteTextTrack=function(t){this.textTracks().removeTrack_(t);var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack_(t)},e.prototype.setPoster=function(){},e.prototype.canPlayType=function(){return""},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");return e.techs_[t]=n,n},e.getTech=function(t){return e.techs_&&e.techs_[t]?e.techs_[t]:N["default"]&&N["default"].videojs&&N["default"].videojs[t]?(O["default"].warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),N["default"].videojs[t]):void 0},e}(l["default"]);R.prototype.textTracks_,R.prototype.audioTracks_,
R.prototype.videoTracks_;var B=function(t,e,n,i){var r=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],o=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var a=new g["default"](r);return o.addTrack_(a),a};R.prototype.featuresVolumeControl=!0,R.prototype.featuresFullscreenResize=!1,R.prototype.featuresPlaybackRate=!1,R.prototype.featuresProgressEvents=!1,R.prototype.featuresTimeupdateEvents=!1,R.prototype.featuresNativeTextTracks=!1,R.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n=t.sourceHandlers||[],i=void 0,r=0;r<n.length;r++)if(i=n[r].canPlayType(e))return i;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],r=void 0,o=0;o<i.length;o++)if(r=i[o].canHandleSource(e,n))return i[o];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""};var e=["seekable","duration"];e.forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);return n||(t.nativeSourceHandler?n=t.nativeSourceHandler:O["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),n!==t.nativeSourceHandler&&(this.currentSource_=e,this.off(this.el_,"loadstart",t.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",t.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",t.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},t.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",t.prototype.successiveLoadStartListener_)},t.prototype.successiveLoadStartListener_=function(){this.currentSource_=null,this.disposeSourceHandler(),this.one(this.el_,"loadstart",t.prototype.successiveLoadStartListener_)},t.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&(this.off(this.el_,"loadstart",t.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",t.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose(),this.sourceHandler_=null)}},l["default"].registerComponent("Tech",R),l["default"].registerComponent("MediaTechController",R),R.registerTech("Tech",R),n["default"]=R,e.exports=n["default"]},{"../component":67,"../media-error.js":108,"../tracks/audio-track":126,"../tracks/audio-track-list":125,"../tracks/html-track-element":128,"../tracks/html-track-element-list":127,"../tracks/text-track":134,"../tracks/text-track-list":132,"../tracks/video-track":139,"../tracks/video-track-list":138,"../utils/buffer.js":141,"../utils/fn.js":144,"../utils/log.js":147,"../utils/merge-options.js":148,"../utils/time-ranges.js":150,"global/document":1,"global/window":2}],125:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./track-list"),l=r(s),c=t("../utils/browser.js"),u=i(c),d=t("global/document"),h=r(d),f=function(t,e){for(var n=0;n<t.length;n++)e.id!==t[n].id&&(t[n].enabled=!1)},p=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,e);for(var i=void 0,r=n.length-1;r>=0;r--)if(n[r].enabled){f(n,n[r]);break}if(u.IS_IE8){i=h["default"].createElement("custom");for(var a in l["default"].prototype)"constructor"!==a&&(i[a]=l["default"].prototype[a]);for(var a in e.prototype)"constructor"!==a&&(i[a]=e.prototype[a])}return i=t.call(this,n,i),i.changing_=!1,i}return a(e,t),e.prototype.addTrack_=function(e){var n=this;e.enabled&&f(this,e),t.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,f(n,e),n.changing_=!1,n.trigger("change"))})},e.prototype.addTrack=function(t){this.addTrack_(t)},e.prototype.removeTrack=function(e){t.prototype.removeTrack_.call(this,e)},e}(l["default"]);n["default"]=p,e.exports=n["default"]},{"../utils/browser.js":140,"./track-list":136,"global/document":1}],126:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./track-enums"),l=t("./track"),c=r(l),u=t("../utils/merge-options"),d=r(u),h=t("../utils/browser.js"),f=i(h),p=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e);var i=d["default"](n,{kind:s.AudioTrackKind[n.kind]||""}),r=t.call(this,i),a=!1;if(f.IS_IE8)for(var l in e.prototype)"constructor"!==l&&(r[l]=e.prototype[l]);return Object.defineProperty(r,"enabled",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),i.enabled&&(r.enabled=i.enabled),r.loaded_=!0,r}return a(e,t),e}(c["default"]);n["default"]=p,e.exports=n["default"]},{"../utils/browser.js":140,"../utils/merge-options":148,"./track":137,"./track-enums":135}],127:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=t("../utils/browser.js"),s=r(a),l=t("global/document"),c=i(l),u=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,t);var n=this;if(s.IS_IE8){n=c["default"].createElement("custom");for(var i in t.prototype)"constructor"!==i&&(n[i]=t.prototype[i])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var r=0,a=e.length;r<a;r++)n.addTrackElement_(e[r]);if(s.IS_IE8)return n}return t.prototype.addTrackElement_=function(t){this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}();n["default"]=u,e.exports=n["default"]},{"../utils/browser.js":140,"global/document":1}],128:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../utils/browser.js"),l=r(s),c=t("global/document"),u=i(c),d=t("../event-target"),h=i(d),f=t("../tracks/text-track"),p=i(f),m=0,g=1,v=2,y=3,b=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e),t.call(this);var i=void 0,r=this;if(l.IS_IE8){r=u["default"].createElement("custom");for(var a in e.prototype)"constructor"!==a&&(r[a]=e.prototype[a])}var s=new p["default"](n);if(r.kind=s.kind,r.src=s.src,r.srclang=s.language,r.label=s.label,r["default"]=s["default"],Object.defineProperty(r,"readyState",{get:function(){return i}}),Object.defineProperty(r,"track",{get:function(){return s}}),i=m,s.addEventListener("loadeddata",function(){i=v,r.trigger({type:"load",target:r})}),l.IS_IE8)return r}return a(e,t),e}(h["default"]);b.prototype.allowedEvents_={load:"load"},b.NONE=m,b.LOADING=g,b.LOADED=v,b.ERROR=y,n["default"]=b,e.exports=n["default"]},{"../event-target":104,"../tracks/text-track":134,"../utils/browser.js":140,"global/document":1}],129:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=t("../utils/browser.js"),s=r(a),l=t("global/document"),c=i(l),u=function(){function t(e){o(this,t);var n=this;if(s.IS_IE8){n=c["default"].createElement("custom");for(var i in t.prototype)"constructor"!==i&&(n[i]=t.prototype[i])}if(t.prototype.setCues_.call(n,e),Object.defineProperty(n,"length",{get:function(){return this.length_}}),s.IS_IE8)return n}return t.prototype.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},t.prototype.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}();n["default"]=u,e.exports=n["default"]},{"../utils/browser.js":140,"global/document":1}],130:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return"rgba("+parseInt(t[1]+t[1],16)+","+parseInt(t[2]+t[2],16)+","+parseInt(t[3]+t[3],16)+","+e+")"}function l(t,e,n){try{t.style[e]=n}catch(t){}}n.__esModule=!0;var c=t("../component"),u=r(c),d=t("../menu/menu.js"),h=(r(d),t("../menu/menu-item.js")),f=(r(h),t("../menu/menu-button.js")),p=(r(f),t("../utils/fn.js")),m=i(p),g=t("global/document"),v=(r(g),t("global/window")),y=r(v),b="#222",_="#ccc",w={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},x=function(t){function e(n,i,r){o(this,e),t.call(this,n,i,r),n.on("loadstart",m.bind(this,this.toggleDisplay)),n.on("texttrackchange",m.bind(this,this.updateDisplay)),n.ready(m.bind(this,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",m.bind(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++){var i=t[e];this.player_.addRemoteTextTrack(i)}var r={captions:1,subtitles:1},o=this.player_.textTracks(),a=void 0,s=void 0;if(o){for(var e=0;e<o.length;e++){var i=o[e];i["default"]&&("descriptions"!==i.kind||a?i.kind in r&&!s&&(s=i):a=i)}s?s.mode="showing":a&&(a.mode="showing")}}))}return a(e,t),e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"assertive","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"==typeof y["default"].WebVTT&&y["default"].WebVTT.processCues(y["default"],[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();if(this.clearDisplay(),t){for(var e=null,n=null,i=t.length;i--;){var r=t[i];"showing"===r.mode&&("descriptions"===r.kind?e=r:n=r)}n?this.updateForTrack(n):e&&this.updateForTrack(e)}},e.prototype.updateForTrack=function(t){if("function"==typeof y["default"].WebVTT&&t.activeCues){for(var e=this.player_.textTrackSettings.getValues(),n=[],i=0;i<t.activeCues.length;i++)n.push(t.activeCues[i]);y["default"].WebVTT.processCues(y["default"],n,this.el_);for(var r=n.length;r--;){var o=n[r];if(o){var a=o.displayState;if(e.color&&(a.firstChild.style.color=e.color),e.textOpacity&&l(a.firstChild,"color",s(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(a.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&l(a.firstChild,"backgroundColor",s(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?l(a,"backgroundColor",s(e.windowColor,e.windowOpacity)):a.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b:"raised"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px "+b+", 2px 2px "+b+", 3px 3px "+b:"depressed"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px "+_+", 0 1px "+_+", -1px -1px "+b+", 0 -1px "+b:"uniform"===e.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b)),e.fontPercent&&1!==e.fontPercent){var c=y["default"].parseFloat(a.style.fontSize);a.style.fontSize=c*e.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=w[e.fontFamily])}}}},e}(u["default"]);u["default"].registerComponent("TextTrackDisplay",x),n["default"]=x,e.exports=n["default"]},{"../component":67,"../menu/menu-button.js":109,"../menu/menu-item.js":110,"../menu/menu.js":111,"../utils/fn.js":144,"global/document":1,"global/window":2}],131:[function(t,e,n){"use strict";n.__esModule=!0;var i=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,n){return t[n]&&(e[n]=t[n]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return e},r=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track}),r=Array.prototype.map.call(e,function(t){var e=i(t.track);return t.src&&(e.src=t.src),e});return r.concat(Array.prototype.filter.call(t.textTracks(),function(t){return n.indexOf(t)===-1}).map(i))},o=function(t,e){return t.forEach(function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return n.addCue(t)})}),e.textTracks()};n["default"]={textTracksToJson:r,jsonToTextTracks:o,trackToJson_:i},e.exports=n["default"]},{}],132:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./track-list"),l=r(s),c=t("../utils/fn.js"),u=i(c),d=t("../utils/browser.js"),h=i(d),f=t("global/document"),p=r(f),m=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,e);var i=void 0;if(h.IS_IE8){i=p["default"].createElement("custom");for(var r in l["default"].prototype)"constructor"!==r&&(i[r]=l["default"].prototype[r]);for(var r in e.prototype)"constructor"!==r&&(i[r]=e.prototype[r])}return i=t.call(this,n,i)}return a(e,t),e.prototype.addTrack_=function(e){t.prototype.addTrack_.call(this,e),e.addEventListener("modechange",u.bind(this,function(){this.trigger("change")}))},e.prototype.removeTrack_=function(t){for(var e=void 0,n=0,i=this.length;n<i;n++)if(this[n]===t){e=this[n],e.off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(l["default"]);n["default"]=m,e.exports=n["default"]},{"../utils/browser.js":140,"../utils/fn.js":144,"./track-list":136,"global/document":1}],133:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=void 0;return t.selectedOptions?e=t.selectedOptions[0]:t.options&&(e=t.options[t.options.selectedIndex]),e.value}function l(t,e){if(e){var n=void 0;for(n=0;n<t.options.length;n++){var i=t.options[n];if(i.value===e)break}t.selectedIndex=n}}function c(t,e,n){var i='\n    <div role="document">\n      <div role="heading" aria-level="1" id="'+e+'" class="vjs-control-text">Captions Settings Dialog</div>\n      <div id="'+n+'" class="vjs-control-text">Beginning of dialog window. Escape will cancel and close the window.</div>\n      <div class="vjs-tracksettings">\n        <div class="vjs-tracksettings-colors">\n          <fieldset class="vjs-fg-color vjs-tracksetting">\n            <legend>Text</legend>\n            <label class="vjs-label" for="captions-foreground-color-'+t+'">Color</label>\n            <select id="captions-foreground-color-'+t+'">\n              <option value="#FFF" selected>White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-foreground-opacity-'+t+'">Transparency</label>\n              <select id="captions-foreground-opacity-'+t+'">\n                <option value="1" selected>Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n          </fieldset>\n          <fieldset class="vjs-bg-color vjs-tracksetting">\n            <legend>Background</legend>\n            <label class="vjs-label" for="captions-background-color-'+t+'">Color</label>\n            <select id="captions-background-color-'+t+'">\n              <option value="#000" selected>Black</option>\n              <option value="#FFF">White</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-background-opacity-'+t+'">Transparency</label>\n              <select id="captions-background-opacity-'+t+'">\n                <option value="1" selected>Opaque</option>\n                <option value="0.5">Semi-Transparent</option>\n                <option value="0">Transparent</option>\n              </select>\n            </span>\n          </fieldset>\n          <fieldset class="window-color vjs-tracksetting">\n            <legend>Window</legend>\n            <label class="vjs-label" for="captions-window-color-'+t+'">Color</label>\n            <select id="captions-window-color-'+t+'">\n              <option value="#000" selected>Black</option>\n              <option value="#FFF">White</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-window-opacity-'+t+'">Transparency</label>\n              <select id="captions-window-opacity-'+t+'">\n                <option value="0" selected>Transparent</option>\n                <option value="0.5">Semi-Transparent</option>\n                <option value="1">Opaque</option>\n              </select>\n            </span>\n          </fieldset>\n        </div> <!-- vjs-tracksettings-colors -->\n        <div class="vjs-tracksettings-font">\n          <div class="vjs-font-percent vjs-tracksetting">\n            <label class="vjs-label" for="captions-font-size-'+t+'">Font Size</label>\n            <select id="captions-font-size-'+t+'">\n              <option value="0.50">50%</option>\n              <option value="0.75">75%</option>\n              <option value="1.00" selected>100%</option>\n              <option value="1.25">125%</option>\n              <option value="1.50">150%</option>\n              <option value="1.75">175%</option>\n              <option value="2.00">200%</option>\n              <option value="3.00">300%</option>\n              <option value="4.00">400%</option>\n            </select>\n          </div>\n          <div class="vjs-edge-style vjs-tracksetting">\n            <label class="vjs-label" for="captions-edge-style-'+t+'">Text Edge Style</label>\n            <select id="captions-edge-style-'+t+'">\n              <option value="none" selected>None</option>\n              <option value="raised">Raised</option>\n              <option value="depressed">Depressed</option>\n              <option value="uniform">Uniform</option>\n              <option value="dropshadow">Dropshadow</option>\n            </select>\n          </div>\n          <div class="vjs-font-family vjs-tracksetting">\n            <label class="vjs-label" for="captions-font-family-'+t+'">Font Family</label>\n            <select id="captions-font-family-'+t+'">\n              <option value="proportionalSansSerif" selected>Proportional Sans-Serif</option>\n              <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n              <option value="proportionalSerif">Proportional Serif</option>\n              <option value="monospaceSerif">Monospace Serif</option>\n              <option value="casual">Casual</option>\n              <option value="script">Script</option>\n              <option value="small-caps">Small Caps</option>\n            </select>\n          </div>\n        </div> <!-- vjs-tracksettings-font -->\n        <div class="vjs-tracksettings-controls">\n          <button class="vjs-default-button">Defaults</button>\n          <button class="vjs-done-button">Done</button>\n        </div>\n      </div> <!-- vjs-tracksettings -->\n    </div> <!--  role="document" -->';return i}n.__esModule=!0;var u=t("../component"),d=r(u),h=t("../utils/events.js"),f=i(h),p=t("../utils/fn.js"),m=i(p),g=t("../utils/log.js"),v=r(g),y=t("safe-json-parse/tuple"),b=r(y),_=t("global/window"),w=r(_),x=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.hide(),void 0===i.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),f.on(this.$(".vjs-done-button"),"click",m.bind(this,function(){this.saveSettings(),this.hide()})),f.on(this.$(".vjs-default-button"),"click",m.bind(this,function(){this.$(".vjs-fg-color > select").selectedIndex=0,this.$(".vjs-bg-color > select").selectedIndex=0,this.$(".window-color > select").selectedIndex=0,this.$(".vjs-text-opacity > select").selectedIndex=0,this.$(".vjs-bg-opacity > select").selectedIndex=0,this.$(".vjs-window-opacity > select").selectedIndex=0,this.$(".vjs-edge-style select").selectedIndex=0,this.$(".vjs-font-family select").selectedIndex=0,this.$(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),f.on(this.$(".vjs-fg-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-bg-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".window-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-text-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-bg-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-window-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-font-percent select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-edge-style select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-font-family select"),"change",m.bind(this,this.updateDisplay)),this.options_.persistTextTrackSettings&&this.restoreSettings()}return a(e,t),e.prototype.createEl=function(){var e=this.id_,n="TTsettingsDialogLabel-"+e,i="TTsettingsDialogDescription-"+e;return t.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:c(e,n,i),tabIndex:-1},{role:"dialog","aria-labelledby":n,"aria-describedby":i})},e.prototype.getValues=function(){var t=s(this.$(".vjs-edge-style select")),e=s(this.$(".vjs-font-family select")),n=s(this.$(".vjs-fg-color > select")),i=s(this.$(".vjs-text-opacity > select")),r=s(this.$(".vjs-bg-color > select")),o=s(this.$(".vjs-bg-opacity > select")),a=s(this.$(".window-color > select")),l=s(this.$(".vjs-window-opacity > select")),c=w["default"].parseFloat(s(this.$(".vjs-font-percent > select"))),u={backgroundOpacity:o,textOpacity:i,windowOpacity:l,edgeStyle:t,fontFamily:e,color:n,backgroundColor:r,windowColor:a,fontPercent:c};for(var d in u)(""===u[d]||"none"===u[d]||"fontPercent"===d&&1===u[d])&&delete u[d];return u},e.prototype.setValues=function(t){l(this.$(".vjs-edge-style select"),t.edgeStyle),l(this.$(".vjs-font-family select"),t.fontFamily),l(this.$(".vjs-fg-color > select"),t.color),l(this.$(".vjs-text-opacity > select"),t.textOpacity),l(this.$(".vjs-bg-color > select"),t.backgroundColor),l(this.$(".vjs-bg-opacity > select"),t.backgroundOpacity),l(this.$(".window-color > select"),t.windowColor),l(this.$(".vjs-window-opacity > select"),t.windowOpacity);var e=t.fontPercent;e&&(e=e.toFixed(2)),l(this.$(".vjs-font-percent > select"),e)},e.prototype.restoreSettings=function(){var t=void 0,e=void 0;try{var n=b["default"](w["default"].localStorage.getItem("vjs-text-track-settings"));t=n[0],e=n[1],t&&v["default"].error(t)}catch(t){v["default"].warn(t)}e&&this.setValues(e)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.getOwnPropertyNames(t).length>0?w["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):w["default"].localStorage.removeItem("vjs-text-track-settings")}catch(t){v["default"].warn(t)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e}(d["default"]);d["default"].registerComponent("TextTrackSettings",x),n["default"]=x,e.exports=n["default"]},{"../component":67,"../utils/events.js":143,"../utils/fn.js":144,"../utils/log.js":147,"global/window":2,"safe-json-parse/tuple":54}],134:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./text-track-cue-list"),l=r(s),c=t("../utils/fn.js"),u=i(c),d=t("./track-enums"),h=t("../utils/log.js"),f=r(h),p=t("global/document"),m=(r(p),t("global/window")),g=r(m),v=t("./track.js"),y=r(v),b=t("../utils/url.js"),_=t("xhr"),w=r(_),x=t("../utils/merge-options"),k=r(x),C=t("../utils/browser.js"),T=i(C),S=function(t,e){var n=new g["default"].WebVTT.Parser(g["default"],g["default"].vttjs,g["default"].WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(console.groupCollapsed&&console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach(function(t){return f["default"].error(t)}),console.groupEnd&&console.groupEnd()),n.flush()},E=function(t,e){var n={uri:t},i=b.isCrossOrigin(t);i&&(n.cors=i),w["default"](n,u.bind(this,function(t,n,i){return t?f["default"].error(t,n):(e.loaded_=!0,void("function"!=typeof g["default"].WebVTT?e.tech_&&!function(){var t=function(){return S(i,e)};e.tech_.on("vttjsloaded",t),e.tech_.on("vttjserror",function(){f["default"].error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",t)})}():S(i,e)))}))},O=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(o(this,e),!n.tech)throw new Error("A tech was not provided.");var i=k["default"](n,{kind:d.TextTrackKind[n.kind]||"subtitles",language:n.language||n.srclang||""}),r=d.TextTrackMode[i.mode]||"disabled",a=i["default"];"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden");var s=t.call(this,i);if(s.tech_=i.tech,T.IS_IE8)for(var c in e.prototype)"constructor"!==c&&(s[c]=e.prototype[c]);s.cues_=[],s.activeCues_=[];var h=new l["default"](s.cues_),f=new l["default"](s.activeCues_),p=!1,m=u.bind(s,function(){this.activeCues,p&&(this.trigger("cuechange"),p=!1)});return"disabled"!==r&&s.tech_.on("timeupdate",m),Object.defineProperty(s,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(s,"mode",{get:function(){return r},set:function(t){d.TextTrackMode[t]&&(r=t,"showing"===r&&this.tech_.on("timeupdate",m),this.trigger("modechange"))}}),Object.defineProperty(s,"cues",{get:function(){return this.loaded_?h:null},set:function(){}}),Object.defineProperty(s,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return f;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];r.startTime<=t&&r.endTime>=t?e.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&e.push(r)}if(p=!1,e.length!==this.activeCues_.length)p=!0;else for(var n=0;n<e.length;n++)this.activeCues_.indexOf(e[n])===-1&&(p=!0);return this.activeCues_=e,f.setCues_(this.activeCues_),f},set:function(){}}),i.src?(s.src=i.src,E(i.src,s)):s.loaded_=!0,s}return a(e,t),e.prototype.addCue=function(t){var e=this.tech_.textTracks();
if(e)for(var n=0;n<e.length;n++)e[n]!==this&&e[n].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){for(var e=!1,n=0,i=this.cues_.length;n<i;n++){var r=this.cues_[n];r===t&&(this.cues_.splice(n,1),e=!0)}e&&this.cues.setCues_(this.cues_)},e}(y["default"]);O.prototype.allowedEvents_={cuechange:"cuechange"},n["default"]=O,e.exports=n["default"]},{"../utils/browser.js":140,"../utils/fn.js":144,"../utils/log.js":147,"../utils/merge-options":148,"../utils/url.js":152,"./text-track-cue-list":129,"./track-enums":135,"./track.js":137,"global/document":1,"global/window":2,xhr:56}],135:[function(t,e,n){"use strict";n.__esModule=!0;var i={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},r={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},o={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},a={disabled:"disabled",hidden:"hidden",showing:"showing"};n["default"]={VideoTrackKind:i,AudioTrackKind:r,TextTrackKind:o,TextTrackMode:a},e.exports=n["default"]},{}],136:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../event-target"),l=r(s),c=t("../utils/fn.js"),u=(i(c),t("../utils/browser.js")),d=i(u),h=t("global/document"),f=r(h),p=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],i=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(o(this,e),t.call(this),!i&&(i=this,d.IS_IE8)){i=f["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(i[r]=e.prototype[r])}i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}});for(var a=0;a<n.length;a++)i.addTrack_(n[a]);return i}return a(e,t),e.prototype.addTrack_=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack_=function(t){for(var e=void 0,n=0,i=this.length;n<i;n++)if(this[n]===t){e=this[n],e.off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(l["default"]);p.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var m in p.prototype.allowedEvents_)p.prototype["on"+m]=null;n["default"]=p,e.exports=n["default"]},{"../event-target":104,"../utils/browser.js":140,"../utils/fn.js":144,"global/document":1}],137:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../utils/browser.js"),l=r(s),c=t("global/document"),u=i(c),d=t("../utils/guid.js"),h=r(d),f=t("../event-target"),p=i(f),m=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e),t.call(this);var i=this;if(l.IS_IE8){i=u["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(i[r]=e.prototype[r])}var a={id:n.id||"vjs_track_"+h.newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""},s=function(t){Object.defineProperty(i,t,{get:function(){return a[t]},set:function(){}})};for(var c in a)s(c);return i}return a(e,t),e}(p["default"]);n["default"]=m,e.exports=n["default"]},{"../event-target":104,"../utils/browser.js":140,"../utils/guid.js":146,"global/document":1}],138:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./track-list"),l=r(s),c=t("../utils/browser.js"),u=i(c),d=t("global/document"),h=r(d),f=function(t,e){for(var n=0;n<t.length;n++)e.id!==t[n].id&&(t[n].selected=!1)},p=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,e);for(var i=void 0,r=n.length-1;r>=0;r--)if(n[r].selected){f(n,n[r]);break}if(u.IS_IE8){i=h["default"].createElement("custom");for(var a in l["default"].prototype)"constructor"!==a&&(i[a]=l["default"].prototype[a]);for(var a in e.prototype)"constructor"!==a&&(i[a]=e.prototype[a])}return i=t.call(this,n,i),i.changing_=!1,Object.defineProperty(i,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),i}return a(e,t),e.prototype.addTrack_=function(e){var n=this;e.selected&&f(this,e),t.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,f(n,e),n.changing_=!1,n.trigger("change"))})},e.prototype.addTrack=function(t){this.addTrack_(t)},e.prototype.removeTrack=function(e){t.prototype.removeTrack_.call(this,e)},e}(l["default"]);n["default"]=p,e.exports=n["default"]},{"../utils/browser.js":140,"./track-list":136,"global/document":1}],139:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./track-enums"),l=t("./track"),c=r(l),u=t("../utils/merge-options"),d=r(u),h=t("../utils/browser.js"),f=i(h),p=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e);var i=d["default"](n,{kind:s.VideoTrackKind[n.kind]||""}),r=t.call(this,i),a=!1;if(f.IS_IE8)for(var l in e.prototype)"constructor"!==l&&(r[l]=e.prototype[l]);return Object.defineProperty(r,"selected",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),i.selected&&(r.selected=i.selected),r}return a(e,t),e}(c["default"]);n["default"]=p,e.exports=n["default"]},{"../utils/browser.js":140,"../utils/merge-options":148,"./track":137,"./track-enums":135}],140:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var r=t("global/document"),o=i(r),a=t("global/window"),s=i(a),l=s["default"].navigator.userAgent,c=/AppleWebKit\/([\d.]+)/i.exec(l),u=c?parseFloat(c.pop()):null,d=/iPad/i.test(l);n.IS_IPAD=d;var h=/iPhone/i.test(l)&&!d;n.IS_IPHONE=h;var f=/iPod/i.test(l);n.IS_IPOD=f;var p=h||d||f;n.IS_IOS=p;var m=function(){var t=l.match(/OS (\d+)_/i);if(t&&t[1])return t[1]}();n.IOS_VERSION=m;var g=/Android/i.test(l);n.IS_ANDROID=g;var v=function(){var t,e,n=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(t=n[1]&&parseFloat(n[1]),e=n[2]&&parseFloat(n[2]),t&&e?parseFloat(n[1]+"."+n[2]):t?t:null):null}();n.ANDROID_VERSION=v;var y=g&&/webkit/i.test(l)&&v<2.3;n.IS_OLD_ANDROID=y;var b=g&&v<5&&u<537;n.IS_NATIVE_ANDROID=b;var _=/Firefox/i.test(l);n.IS_FIREFOX=_;var w=/Edge/i.test(l);n.IS_EDGE=w;var x=!w&&/Chrome/i.test(l);n.IS_CHROME=x;var k=/MSIE\s8\.0/.test(l);n.IS_IE8=k;var C=function(t){return t&&parseFloat(t[1])}(/MSIE\s(\d+)\.\d/.exec(l));n.IE_VERSION=C;var T=!!("ontouchstart"in s["default"]||s["default"].DocumentTouch&&o["default"]instanceof s["default"].DocumentTouch);n.TOUCH_ENABLED=T;var S="backgroundSize"in o["default"].createElement("video").style;n.BACKGROUND_SIZE_SUPPORTED=S},{"global/document":1,"global/window":2}],141:[function(t,e,n){"use strict";function i(t,e){var n,i,o=0;if(!e)return 0;t&&t.length||(t=r.createTimeRange(0,0));for(var a=0;a<t.length;a++)n=t.start(a),i=t.end(a),i>e&&(i=e),o+=i-n;return o/e}n.__esModule=!0,n.bufferedPercent=i;var r=t("./time-ranges.js")},{"./time-ranges.js":150}],142:[function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return t.raw=e,t}function a(t){return"string"==typeof t&&/\S/.test(t)}function s(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function l(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function c(t){return function(e,n){return a(e)?(a(n)&&(n=L["default"].querySelector(n)),(E(n)?n:L["default"])[t](e)):L["default"][t](null)}}function u(t){return 0===t.indexOf("#")&&(t=t.slice(1)),L["default"].getElementById(t)}function d(){var t=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=L["default"].createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];t.indexOf("aria-")!==-1||"role"===t||"type"===t?(z["default"].warn(H["default"](j,t,n)),i.setAttribute(t,n)):i[t]=n}),Object.getOwnPropertyNames(n).forEach(function(t){n[t];i.setAttribute(t,n[t])}),i}function h(t,e){"undefined"==typeof t.textContent?t.innerText=e:t.textContent=e}function f(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function p(t){var e=t[Y];return e||(e=t[Y]=F.newGUID()),W[e]||(W[e]={}),W[e]}function m(t){var e=t[Y];return!!e&&!!Object.getOwnPropertyNames(W[e]).length}function g(t){var e=t[Y];if(e){delete W[e];try{delete t[Y]}catch(e){t.removeAttribute?t.removeAttribute(Y):t[Y]=null}}}function v(t,e){return s(e),t.classList?t.classList.contains(e):l(e).test(t.className)}function y(t,e){return t.classList?t.classList.add(e):v(t,e)||(t.className=(t.className+" "+e).trim()),t}function b(t,e){return t.classList?t.classList.remove(e):(s(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function _(t,e,n){var i=v(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?y(t,e):b(t,e),t}function w(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];null===i||"undefined"==typeof i||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function x(t){var e,n,i,r,o;if(e={},n=",autoplay,controls,loop,muted,default,",t&&t.attributes&&t.attributes.length>0){i=t.attributes;for(var a=i.length-1;a>=0;a--)r=i[a].name,o=i[a].value,"boolean"!=typeof t[r]&&n.indexOf(","+r+",")===-1||(o=null!==o),e[r]=o}return e}function k(){L["default"].body.focus(),L["default"].onselectstart=function(){return!1}}function C(){L["default"].onselectstart=function(){return!0}}function T(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=L["default"].documentElement,i=L["default"].body,r=n.clientLeft||i.clientLeft||0,o=R["default"].pageXOffset||i.scrollLeft,a=e.left+o-r,s=n.clientTop||i.clientTop||0,l=R["default"].pageYOffset||i.scrollTop,c=e.top+l-s;return{left:Math.round(a),top:Math.round(c)}}function S(t,e){var n={},i=T(t),r=t.offsetWidth,o=t.offsetHeight,a=i.top,s=i.left,l=e.pageY,c=e.pageX;return e.changedTouches&&(c=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(c-s)/r)),n}function E(t){return!!t&&"object"==typeof t&&1===t.nodeType}function O(t){return!!t&&"object"==typeof t&&3===t.nodeType}function A(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function M(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),E(t)||O(t)?t:"string"==typeof t&&/\S/.test(t)?L["default"].createTextNode(t):void 0}).filter(function(t){return t})}function P(t,e){return M(e).forEach(function(e){return t.appendChild(e)}),t}function D(t,e){return P(A(t),e)}n.__esModule=!0,n.getEl=u,n.createEl=d,n.textContent=h,n.insertElFirst=f,n.getElData=p,n.hasElData=m,n.removeElData=g,n.hasElClass=v,n.addElClass=y,n.removeElClass=b,n.toggleElClass=_,n.setElAttributes=w,n.getElAttributes=x,n.blockTextSelection=k,n.unblockTextSelection=C,n.findElPosition=T,n.getPointerPosition=S,n.isEl=E,n.isTextNode=O,n.emptyEl=A,n.normalizeContent=M,n.appendContent=P,n.insertContent=D;var j=o(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),N=t("global/document"),L=r(N),I=t("global/window"),R=r(I),B=t("./guid.js"),F=i(B),$=t("./log.js"),z=r($),U=t("tsml"),H=r(U),W={},Y="vdata"+(new Date).getTime(),V=c("querySelector");n.$=V;var G=c("querySelectorAll");n.$$=G},{"./guid.js":146,"./log.js":147,"global/document":1,"global/window":2,tsml:55}],143:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e,n){if(Array.isArray(e))return d(o,t,e,n);var i=f.getElData(t);i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=m.newGUID()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,n){if(!i.disabled){e=c(e);var r=i.handlers[e.type];if(r)for(var o=r.slice(0),a=0,s=o.length;a<s&&!e.isImmediatePropagationStopped();a++)try{o[a].call(t,e,n)}catch(t){v["default"].error(t)}}}),1===i.handlers[e].length&&(t.addEventListener?t.addEventListener(e,i.dispatcher,!1):t.attachEvent&&t.attachEvent("on"+e,i.dispatcher))}function a(t,e,n){if(f.hasElData(t)){var i=f.getElData(t);if(i.handlers){if(Array.isArray(e))return d(a,t,e,n);var r=function(e){i.handlers[e]=[],u(t,e)};if(e){var o=i.handlers[e];if(o){if(!n)return void r(e);if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);u(t,e)}}else for(var l in i.handlers)r(l)}}}function s(t,e,n){var i=f.hasElData(t)?f.getElData(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e&&(e={type:e,target:t}),e=c(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)s.call(null,r,e,n);else if(!r&&!e.defaultPrevented){var o=f.getElData(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function l(t,e,n){if(Array.isArray(e))return d(l,t,e,n);var i=function i(){a(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||m.newGUID(),o(t,e,i)}function c(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||b["default"].event;t={};for(var r in i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||w["default"]),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!=t.clientX){var o=w["default"].documentElement,a=w["default"].body;t.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function u(t,e){var n=f.getElData(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&f.removeElData(t)}function d(t,e,n,i){n.forEach(function(n){t(e,n,i)})}n.__esModule=!0,n.on=o,n.off=a,n.trigger=s,n.one=l,n.fixEvent=c;var h=t("./dom.js"),f=r(h),p=t("./guid.js"),m=r(p),g=t("./log.js"),v=i(g),y=t("global/window"),b=i(y),_=t("global/document"),w=i(_)},{"./dom.js":142,"./guid.js":146,"./log.js":147,"global/document":1,"global/window":2}],144:[function(t,e,n){"use strict";n.__esModule=!0;var i=t("./guid.js"),r=function(t,e,n){e.guid||(e.guid=i.newGUID());var r=function(){return e.apply(t,arguments)};return r.guid=n?n+"_"+e.guid:e.guid,r};n.bind=r},{"./guid.js":146}],145:[function(t,e,n){"use strict";function i(t){var e=arguments.length<=1||void 0===arguments[1]?t:arguments[1];return function(){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),r=r>0||a>0?r+":":"",i=((r||o>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n}()}n.__esModule=!0,n["default"]=i,e.exports=n["default"]},{}],146:[function(t,e,n){"use strict";function i(){return r++}n.__esModule=!0,n.newGUID=i;var r=1},{}],147:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];l("log",e)}n.__esModule=!0;var o=t("global/window"),a=i(o),s=t("./browser"),l=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!!s.IE_VERSION&&s.IE_VERSION<11:arguments[2],i=a["default"].console,o=i&&i[t]||function(){};"log"!==t&&e.unshift(t.toUpperCase()+":"),r.history.push(e),e.unshift("VIDEOJS:"),n&&(e=e.map(function(t){if(t&&"object"==typeof t||Array.isArray(t))try{return JSON.stringify(t)}catch(t){}return String(t)}).join(" ")),o.apply?o[Array.isArray(e)?"apply":"call"](i,e):o(e)};n.logByType=l,r.history=[],r.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l("error",e)},r.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l("warn",e)},n["default"]=r},{"./browser":140,"global/window":2}],148:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object}function o(){var t=Array.prototype.slice.call(arguments);return t.unshift({}),t.push(l),s["default"].apply(null,t),t[0]}n.__esModule=!0,n["default"]=o;var a=t("lodash-compat/object/merge"),s=i(a),l=function(t,e){return r(e)?r(t)?void 0:o(e):e};e.exports=n["default"]},{"lodash-compat/object/merge":40}],149:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var r=t("global/document"),o=i(r),a=function(t){var e=o["default"].createElement("style");return e.className=t,e};n.createStyleElement=a;var s=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};n.setTextContent=s},{"global/document":1}],150:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return Array.isArray(t)?o(t):void 0===t||void 0===e?o():o([[t,e]])}function o(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:a.bind(null,"start",0,t),end:a.bind(null,"end",1,t)}}function a(t,e,n,i){return void 0===i&&(c["default"].warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),i=0),s(t,i,n.length-1),n[i][e]}function s(t,e,n){if(e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is greater than or equal to the maximum bound ("+n+").")}n.__esModule=!0,n.createTimeRanges=r;var l=t("./log.js"),c=i(l);n.createTimeRange=r},{"./log.js":147}],151:[function(t,e,n){"use strict";function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}n.__esModule=!0,n["default"]=i,e.exports=n["default"]},{}],152:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var r=t("global/document"),o=i(r),a=t("global/window"),s=i(a),l=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=o["default"].createElement("a");n.href=t;var i=""===n.host&&"file:"!==n.protocol,r=void 0;i&&(r=o["default"].createElement("div"),r.innerHTML='<a href="'+t+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),o["default"].body.appendChild(r));for(var a={},s=0;s<e.length;s++)a[e[s]]=n[e[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),i&&o["default"].body.removeChild(r),a};n.parseUrl=l;var c=function(t){if(!t.match(/^https?:\/\//)){var e=o["default"].createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t};n.getAbsoluteURL=c;var u=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=e.exec(t);if(n)return n.pop().toLowerCase()}return""};n.getFileExtension=u;var d=function(t){var e=s["default"].location,n=l(t),i=":"===n.protocol?e.protocol:n.protocol,r=i+n.host!==e.protocol+e.host;return r};n.isCrossOrigin=d},{"global/document":1,"global/window":2}],153:[function(e,n,i){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t,e,n){var i=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),a.getPlayers()[t])return e&&F["default"].warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&a.getPlayers()[t].ready(n),a.getPlayers()[t];i=z.getEl(t)}else i=t;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return i.player||x["default"].players[i.playerId]||new x["default"](i,e,n)}i.__esModule=!0;var s=e("global/window"),l=o(s),c=e("global/document"),u=o(c),d=e("./setup"),h=r(d),f=e("./utils/stylesheet.js"),p=r(f),m=e("./component"),g=o(m),v=e("./event-target"),y=o(v),b=e("./utils/events.js"),_=r(b),w=e("./player"),x=o(w),k=e("./plugins.js"),C=o(k),T=e("../../src/js/utils/merge-options.js"),S=o(T),E=e("./utils/fn.js"),O=r(E),A=e("./tracks/text-track.js"),M=o(A),P=e("./tracks/audio-track.js"),D=o(P),j=e("./tracks/video-track.js"),N=o(j),L=e("./utils/time-ranges.js"),I=e("./utils/format-time.js"),R=o(I),B=e("./utils/log.js"),F=o(B),$=e("./utils/dom.js"),z=r($),U=e("./utils/browser.js"),H=r(U),W=e("./utils/url.js"),Y=r(W),V=e("./extend.js"),G=o(V),q=e("lodash-compat/object/merge"),X=o(q),K=e("xhr"),Z=o(K),Q=e("./tech/tech.js"),J=o(Q),tt=e("./tech/html5.js"),et=(o(tt),e("./tech/flash.js"));o(et);if("undefined"==typeof HTMLVideoElement&&(u["default"].createElement("video"),u["default"].createElement("audio"),u["default"].createElement("track")),l["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){var nt=z.$(".vjs-styles-defaults");if(!nt){nt=p.createStyleElement("vjs-styles-defaults");var it=z.$("head");it.insertBefore(nt,it.firstChild),p.setTextContent(nt,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}h.autoSetupTimeout(1,a),a.VERSION="5.11.9",a.options=x["default"].prototype.options_,a.getPlayers=function(){return x["default"].players},a.players=x["default"].players,a.getComponent=g["default"].getComponent,a.registerComponent=function(t,e){J["default"].isTech(e)&&F["default"].warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g["default"].registerComponent.call(g["default"],t,e)},a.getTech=J["default"].getTech,a.registerTech=J["default"].registerTech,a.browser=H,a.TOUCH_ENABLED=H.TOUCH_ENABLED,a.extend=G["default"],a.mergeOptions=S["default"],a.bind=O.bind,a.plugin=C["default"],a.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),X["default"](a.options.languages,(n={},n[t]=e,n))[t]},a.log=F["default"],a.createTimeRange=a.createTimeRanges=L.createTimeRanges,a.formatTime=R["default"],a.parseUrl=Y.parseUrl,a.isCrossOrigin=Y.isCrossOrigin,a.EventTarget=y["default"],a.on=_.on,a.one=_.one,a.off=_.off,a.trigger=_.trigger,a.xhr=Z["default"],a.TextTrack=M["default"],a.AudioTrack=D["default"],a.VideoTrack=N["default"],a.isEl=z.isEl,a.isTextNode=z.isTextNode,a.createEl=z.createEl,a.hasClass=z.hasElClass,a.addClass=z.addElClass,a.removeClass=z.removeElClass,a.toggleClass=z.toggleElClass,a.setAttributes=z.setElAttributes,a.getAttributes=z.getElAttributes,a.emptyEl=z.emptyEl,a.appendContent=z.appendContent,a.insertContent=z.insertContent,"function"==typeof t&&t.amd?t("videojs",[],function(){return a}):"object"==typeof i&&"object"==typeof n&&(n.exports=a),i["default"]=a,n.exports=i["default"]},{"../../src/js/utils/merge-options.js":148,"./component":67,"./event-target":104,"./extend.js":105,"./player":113,"./plugins.js":114,"./setup":118,"./tech/flash.js":121,"./tech/html5.js":122,"./tech/tech.js":124,"./tracks/audio-track.js":126,"./tracks/text-track.js":134,"./tracks/video-track.js":139,"./utils/browser.js":140,"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/format-time.js":145,"./utils/log.js":147,"./utils/stylesheet.js":149,"./utils/time-ranges.js":150,"./utils/url.js":152,"global/document":1,"global/window":2,"lodash-compat/object/merge":40,xhr:56}]},{},[153])(153)}),function(t){var e=t.vttjs={},n=e.VTTCue,i=e.VTTRegion,r=t.VTTCue,o=t.VTTRegion;e.shim=function(){e.VTTCue=n,e.VTTRegion=i},e.restore=function(){e.VTTCue=r,e.VTTRegion=o}}(this),function(t,e){function n(t){if("string"!=typeof t)return!1;var e=s[t.toLowerCase()];return!!e&&t.toLowerCase()}function i(t){if("string"!=typeof t)return!1;var e=l[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function o(t,e,o){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),c={};l?s=document.createElement("custom"):c.enumerable=!0,s.hasBeenReset=!1;var u="",d=!1,h=t,f=e,p=o,m=null,g="",v=!0,y="auto",b="start",_=50,w="middle",x=50,k="middle";if(Object.defineProperty(s,"id",r({},c,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(s,"pauseOnExit",r({},c,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",r({},c,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},c,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},c,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},c,{get:function(){return m},set:function(t){m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},c,{get:function(){return g},set:function(t){var e=n(t);if(e===!1)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},c,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},c,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==a)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},c,{get:function(){return b},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},c,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},c,{get:function(){return w},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},c,{get:function(){return x},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");x=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},c,{get:function(){return k},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");k=e,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}var a="auto",s={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.VTTCue=t.VTTCue||o,e.VTTCue=o}(this,this.vttjs||{}),function(t,e){function n(t){if("string"!=typeof t)return!1;var e=o[t.toLowerCase()];return!!e&&t.toLowerCase()}function i(t){return"number"==typeof t&&t>=0&&t<=100}function r(){var t=100,e=3,r=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!i(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!i(t))throw new Error("RegionAnchorX must be between 0 and 100.");o=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!i(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!i(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!i(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=n(t);if(e===!1)throw new SyntaxError("An invalid or illegal string was specified.");l=e}}})}var o={"":!0,up:!0};t.VTTRegion=t.VTTRegion||r,e.VTTRegion=r}(this,this.vttjs||{}),function(t){function e(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function n(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function i(){this.values=p(null)}function r(t,e,n,i){var r=i?t.split(i):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);if(2===a.length){var s=a[0],l=a[1];e(s,l)}}}function o(t,o,a){function s(){
var i=n(t);if(null===i)throw new e(e.Errors.BadTimeStamp,"Malformed timestamp: "+u);return t=t.replace(/^[^\sa-zA-Z-]+/,""),i}function l(t,e){var n=new i;r(t,function(t,e){switch(t){case"region":for(var i=a.length-1;i>=0;i--)if(a[i].id===e){n.set(t,a[i].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var r=e.split(","),o=r[0];n.integer(t,o),n.percent(t,o)?n.set("snapToLines",!1):null,n.alt(t,o,["auto"]),2===r.length&&n.alt("lineAlign",r[1],["start","middle","end"]);break;case"position":r=e.split(","),n.percent(t,r[0]),2===r.length&&n.alt("positionAlign",r[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}function c(){t=t.replace(/^\s+/,"")}var u=t;if(c(),o.startTime=s(),c(),"-->"!==t.substr(0,3))throw new e(e.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+u);t=t.substr(3),c(),o.endTime=s(),c(),l(t,o)}function a(t,e){function i(){function t(t){return e=e.substr(t.length),t}if(!e)return null;var n=e.match(/^([^<]*)(<[^>]+>?)?/);return t(n[1]?n[1]:n[2])}function r(t){return m[t]}function o(t){for(;p=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(p[0],r);return t}function a(t,e){return!y[e.localName]||y[e.localName]===t.localName}function s(e,n){var i=g[e];if(!i)return null;var r=t.document.createElement(i);r.localName=i;var o=v[e];return o&&n&&(r[o]=n.trim()),r}for(var l,c=t.document.createElement("div"),u=c,d=[];null!==(l=i());)if("<"!==l[0])u.appendChild(t.document.createTextNode(o(l)));else{if("/"===l[1]){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),u=u.parentNode);continue}var h,f=n(l.substr(1,l.length-2));if(f){h=t.document.createProcessingInstruction("timestamp",f),u.appendChild(h);continue}var p=l.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(h=s(p[1],p[3]),!h)continue;if(!a(u,h))continue;p[2]&&(h.className=p[2].substr(1).replace("."," ")),d.push(p[1]),u.appendChild(h),u=h}return c}function s(t){function e(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function n(t){if(!t||!t.length)return null;var i=t.pop(),r=i.textContent||i.innerText;if(r){var o=r.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):r}return"ruby"===i.tagName?n(t):i.childNodes?(e(t,i),n(t)):void 0}var i,r=[],o="";if(!t||!t.childNodes)return"ltr";for(e(r,t);o=n(r);)for(var a=0;a<o.length;a++){i=o.charCodeAt(a);for(var s=0;s<b.length;s++)if(b[s]===i)return"rtl"}return"ltr"}function l(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return++i*-1}function c(){}function u(t,e,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";i&&(r="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),c.call(this),this.cue=e,this.cueDiv=a(t,e.text);var l={color:r,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(l.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=t.document.createElement("div"),l={textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(l.direction=s(this.cueDiv),l.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var u=0;switch(e.positionAlign){case"start":u=e.position;break;case"middle":u=e.position-e.size/2;break;case"end":u=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function d(t){var e,n,i,r,o=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function h(t,e,n,i){function r(t,e){for(var r,o=new d(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(i);)t.move(e[s]);if(t.within(n))return t;var l=t.intersectPercentage(n);a>l&&(r=new d(t),a=l),t=new d(o)}return r||o}var o=new d(e),a=e.cue,s=l(a),c=[];if(a.snapToLines){var u;switch(a.vertical){case"":c=["+y","-y"],u="height";break;case"rl":c=["+x","-x"],u="width";break;case"lr":c=["-x","+x"],u="width"}var h=o.lineHeight,f=h*Math.round(s),p=n[u]+h,m=c[0];Math.abs(f)>p&&(f=f<0?-1:1,f*=Math.ceil(p/h)*h),s<0&&(f+=""===a.vertical?n.height:n.width,c=c.reverse()),o.move(m,f)}else{var g=o.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=g/2;break;case"end":s-=g}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(s,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(s,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(s,"%")})}c=["+y","-x","+x","-y"],o=new d(e)}var v=r(o,c);e.move(v.toCSSCompatValues(n))}function f(){}var p=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();e.prototype=p(Error.prototype),e.prototype.constructor=e,e.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},i.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){var n;return!!((n=e.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={v:"title",lang:"lang"},y={rt:"ruby"},b=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];c.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},c.prototype.formatStyle=function(t,e){return 0===t?0:t+e},u.prototype=p(c.prototype),u.prototype.constructor=u,d.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},d.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},d.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},d.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},d.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},d.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)},d.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r},f.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},f.convertCueToDOMTree=function(t,e){return t&&e?a(t,e):null};var _=.05,w="sans-serif",x="1.5%";f.processCues=function(t,e,n){function i(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=x,n.appendChild(r),i(e)){var o=[],a=d.getSimpleBoxPosition(r),s=Math.round(a.height*_*100)/100,l={font:s+"px "+w};!function(){for(var n,i,s=0;s<e.length;s++)i=e[s],n=new u(t,i,l),r.appendChild(n.div),h(t,n,a,o),i.displayState=n.div,o.push(d.getSimpleBoxPosition(n))}()}else for(var c=0;c<e.length;c++)r.appendChild(e[c].displayState)},f.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},f.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof e))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){function n(){for(var t=l.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,l.buffer=t.substr(e),n}function a(t){var e=new i;if(r(t,function(t,n){switch(t){case"id":e.set(t,n);break;case"width":e.percent(t,n);break;case"lines":e.integer(t,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var o=new i;if(o.percent("x",r[0]),o.percent("y",r[1]),!o.has("x")||!o.has("y"))break;e.set(t+"X",o.get("x")),e.set(t+"Y",o.get("y"));break;case"scroll":e.alt(t,n,["up"])}},/=/,/\s/),e.has("id")){var n=new(l.vttjs.VTTRegion||l.window.VTTRegion);n.width=e.get("width",100),n.lines=e.get("lines",3),n.regionAnchorX=e.get("regionanchorX",0),n.regionAnchorY=e.get("regionanchorY",100),n.viewportAnchorX=e.get("viewportanchorX",0),n.viewportAnchorY=e.get("viewportanchorY",100),n.scroll=e.get("scroll",""),l.onregion&&l.onregion(n),l.regionList.push({id:e.get("id"),region:n})}}function s(t){r(t,function(t,e){switch(t){case"Region":a(e)}},/:/)}var l=this;t&&(l.buffer+=l.decoder.decode(t,{stream:!0}));try{var c;if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;c=n();var u=c.match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new e(e.Errors.BadSignature);l.state="HEADER"}for(var d=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(d?d=!1:c=n(),l.state){case"HEADER":/:/.test(c)?s(c):c||(l.state="ID");continue;case"NOTE":c||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){l.state="NOTE";break}if(!c)continue;if(l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,""),l.state="CUE",c.indexOf("-->")===-1){l.cue.id=c;continue}case"CUE":try{o(c,l.cue,l.regionList)}catch(t){l.reportOrThrowError(t),l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var h=c.indexOf("-->")!==-1;if(!c||h&&(d=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+="\n"),l.cue.text+=c;continue;case"BADCUE":c||(l.state="ID");continue}}}catch(t){l.reportOrThrowError(t),"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new e(e.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.WebVTT=f}(this,this.vttjs||{}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.videojsContribHls=t()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t("global/window"),a=i(o),s=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},l=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(t.segments)for(var i=n,o=void 0,l=0;l<t.segments.length;l++){var c=t.segments[l];if(o||(o=s(e,i+c.duration/2)),o){if("cueIn"in c){o.endTime=i,o.adEndTime=i,i+=c.duration,o=null;continue}if(i<o.endTime){i+=c.duration;continue}o.endTime+=c.duration}else if("cueOut"in c&&(o=new a["default"].VTTCue(i,i+c.duration,c.cueOut),o.adStartTime=i,o.adEndTime=i+parseFloat(c.cueOut),e.addCue(o)),"cueOutCont"in c){var u=void 0,d=void 0,h=c.cueOutCont.split("/").map(parseFloat),f=r(h,2);u=f[0],d=f[1],o=new a["default"].VTTCue(i,i+c.duration,""),o.adStartTime=i-u,o.adEndTime=o.adStartTime+d,e.addCue(o)}i+=c.duration}};n["default"]={updateAdCues:l,findAdCue:s},e.exports=n["default"]},{"global/window":25}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e){return t.start(e)+"-"+t.end(e)},r=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},o=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},a={hexDump:function(t){for(var e=Array.prototype.slice.call(t),n=16,i="",a=void 0,s=void 0,l=0;l<e.length/n;l++)a=e.slice(l*n,l*n+n).map(r).join(""),s=e.slice(l*n,l*n+n).map(o).join(""),i+=a+" "+s+"\n";return i},tagDump:function(t){return a.hexDump(t.bytes)},textRanges:function(t){var e="",n=void 0;for(n=0;n<t.length;n++)e+=i(t,n)+" ";return e}};n["default"]=a,e.exports=n["default"]},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={GOAL_BUFFER_LENGTH:30},e.exports=n["default"]},{}],4:[function(t,e,n){(function(i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("./ranges"),l=r(s),c="undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null,u=r(c),d=["seeking","seeked","pause","playing","error"],h=function(){function t(e){var n=this;o(this,t),this.tech_=e.tech,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,e.debug&&(this.logger_=u["default"].log.bind(u["default"],"gap-skipper ->")),this.logger_("initialize");var i=function(){return n.waiting_()},r=function(){return n.cancelTimer_()};this.tech_.on("waiting",i),this.tech_.on(d,r),this.monitorCurrentTime_(),this.dispose=function(){n.logger_("dispose"),n.tech_.off("waiting",i),n.tech_.off(d,r),n.checkCurrentTimeTimeout_&&clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return a(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"waiting_",value:function(){this.tech_.seeking()||this.setTimer_()}},{key:"checkCurrentTime_",value:function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime();5===this.consecutiveUpdates&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=l["default"].findNextRange(e,n);this.consecutiveUpdates=0,this.timer_=null,0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+l["default"].TIME_FUDGE_FACTOR))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=l["default"].findGaps(t),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:o}}return null}},{key:"setTimer_",value:function(){var t=this.tech_.buffered(),e=this.tech_.currentTime(),n=l["default"].findNextRange(t,e);if(null===this.timer_){if(0===n.length){var i=this.gapFromVideoUnderflow_(t,e);return void(i&&(this.logger_("setTimer_:","Encountered a gap in video","from: ",i.start,"to: ",i.end,"seeking to current time: ",e),this.tech_.setCurrentTime(e)))}var r=n.start(0)-e;this.logger_("setTimer_:","stopped at:",e,"setting timer for:",r,"seeking to:",n.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*r,e)}}},{key:"logger_",value:function(){}}]),t}();n["default"]=h,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ranges":8}],5:[function(t,e,n){(function(e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},l=t("./playlist-loader"),c=i(l),u=t("./segment-loader"),d=i(u),h=t("./ranges"),f=i(h),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,m=i(p),g=t("./ad-cue-tags"),v=i(g),y=3e5,b=void 0,_=function(t,e){if(typeof t!=typeof e)return!0;if(Object.keys(t).length!==Object.keys(e).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},w=function(t){var e={codecCount:0,videoCodec:null,videoObjectTypeIndicator:null,audioProfile:null},n=void 0;return e.codecCount=t.split(",").length,e.codecCount=e.codecCount||2,n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(t),n&&(e.videoCodec=n[2],e.videoObjectTypeIndicator=n[3]),e.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),e.audioProfile=e.audioProfile&&e.audioProfile[2],e},x=function(t,e){var n="mp2t",i={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},r=[],o=void 0,a=null;if(!e)return[];e.segments&&e.segments.length&&e.segments[0].map&&(n="mp4"),o=e.attributes||{},o.CODECS&&!function(){var t=w(o.CODECS);Object.keys(t).forEach(function(e){i[e]=t[e]||i[e]})}(),t.mediaGroups.AUDIO&&(r=t.mediaGroups.AUDIO[o.AUDIO]);for(var s in r){if(a&&!!r[s].uri!=!!a.uri)return["video/"+n+'; codecs="'+i.videoCodec+i.videoObjectTypeIndicator+", mp4a.40."+i.audioProfile+'"',"audio/"+n+'; codecs="mp4a.40.'+i.audioProfile+'"'];a=r[s]}return a&&a.uri?["video/"+n+'; codecs="'+i.videoCodec+i.videoObjectTypeIndicator+'"',"audio/"+n+'; codecs="mp4a.40.'+i.audioProfile+'"']:["video/"+n+'; codecs="'+i.videoCodec+i.videoObjectTypeIndicator+", mp4a.40."+i.audioProfile+'"']};n.mimeTypesForPlaylist_=x;var k=function(t){function e(t){var n=this;r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);
var i=t.url,o=t.withCredentials,a=t.mode,l=t.tech,u=t.bandwidth,h=t.externHls,f=t.useCueTags;if(!i)throw new Error("A non-empty playlist URL is required");b=h,this.withCredentials=o,this.tech_=l,this.hls_=l.hls,this.mode_=a,this.useCueTags_=f,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType="",this.tech_.textTracks().addTrack_(this.cueTagsTrack_)),this.audioTracks_=[],this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.audioGroups_={},this.mediaSource=new m["default"].MediaSource({mode:a}),this.audioinfo_=null,this.mediaSource.on("audioinfo",this.handleAudioinfoUpdate_.bind(this)),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this));var p={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},setCurrentTime:function(t){return n.tech_.setCurrentTime(t)},hasPlayed:function(){return 0!==n.tech_.played().length},bandwidth:u};this.masterPlaylistLoader_=new c["default"](i,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.audioPlaylistLoader_=null,this.mainSegmentLoader_=new d["default"](p),this.audioSegmentLoader_=new d["default"](p),this.setupSegmentLoaderListeners_(),this.masterPlaylistLoader_.start()}return o(e,t),a(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.expired(t.masterPlaylistLoader_.expired_),t.mainSegmentLoader_.load());try{t.setupSourceBuffers_()}catch(e){return m["default"].log.warn("Failed to create SourceBuffers",e),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),t.fillAudioTracks_(),t.setupAudio(),t.trigger("audioupdate"),t.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media(),n=void 0;return e?(t.useCueTags_&&t.updateAdCues_(e,t.masterPlaylistLoader_.expired_),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.expired(t.masterPlaylistLoader_.expired_),t.updateDuration(),n=t.seekable(),void(e.endList||0===n.length||t.mediaSource.addSeekableRange_(n.start(0),n.end(0)))):(t.initialMedia_=t.selectPlaylist(),void t.masterPlaylistLoader_.media(t.initialMedia_))}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3,i=void 0,r=void 0;t.masterPlaylistLoader_.isLowestEnabledRendition_()?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.expired(t.masterPlaylistLoader_.expired_),t.mainSegmentLoader_.load(),i=t.activeAudioGroup(),r=i.filter(function(t){return t.enabled})[0],r||(t.setupAudio(),t.trigger("audioupdate")),t.tech_.trigger({type:"mediachange",bubbles:!0})})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("progress",function(){t.masterPlaylistLoader_.media(t.selectPlaylist()),t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.audioSegmentLoader_.on("error",function(){m["default"].log.warn("Problem encountered with the current alternate audio track. Switching back to default."),t.audioSegmentLoader_.abort(),t.audioPlaylistLoader_=null,t.setupAudio()})}},{key:"handleAudioinfoUpdate_",value:function(t){if(b.supportsAudioInfoChange_()||!this.audioInfo_||!_(this.audioInfo_,t.info))return void(this.audioInfo_=t.info);var e="had different audio properties (channels, sample rate, etc.) or changed in some other way.  This behavior is currently unsupported in Firefox 48 and below due to an issue: \n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1247138\n\n",n=this.activeAudioGroup().map(function(t){return t.enabled}).indexOf(!0),i=this.activeAudioGroup()[n],r=this.activeAudioGroup().filter(function(t){return t.properties_&&t.properties_["default"]})[0];this.audioPlaylistLoader_?(e="The audio track '"+i.label+"' that we tried to "+("switch to "+e+" Unfortunately this means we will have to ")+("return you to the main track '"+r.label+"'. Sorry!"),r.enabled=!0,this.activeAudioGroup().splice(n,1),this.trigger("audioupdate")):(e="The rendition that we tried to switch to "+e+"Unfortunately that means we will have to blacklist the current playlist and switch to another. Sorry!",this.blacklistCurrentPlaylist()),m["default"].log.warn(e),this.setupAudio()}},{key:"mediaRequests_",value:function(){return this.audioSegmentLoader_.mediaRequests+this.mainSegmentLoader_.mediaRequests}},{key:"mediaTransferDuration_",value:function(){return this.audioSegmentLoader_.mediaTransferDuration+this.mainSegmentLoader_.mediaTransferDuration}},{key:"mediaBytesTransferred_",value:function(){return this.audioSegmentLoader_.mediaBytesTransferred+this.mainSegmentLoader_.mediaBytesTransferred}},{key:"fillAudioTracks_",value:function(){var t=this.master(),e=t.mediaGroups||{};e&&e.AUDIO&&0!==Object.keys(e.AUDIO).length&&"html5"===this.mode_||(e.AUDIO={main:{"default":{"default":!0}}});for(var n in e.AUDIO){this.audioGroups_[n]||(this.audioGroups_[n]=[]);for(var i in e.AUDIO[n]){var r=e.AUDIO[n][i],o=new m["default"].AudioTrack({id:i,kind:r["default"]?"main":"alternative",enabled:!1,language:r.language,label:i});o.properties_=r,this.audioGroups_[n].push(o)}}(this.activeAudioGroup().filter(function(t){return t.properties_["default"]})[0]||this.activeAudioGroup()[0]).enabled=!0}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load()}},{key:"activeAudioGroup",value:function(){var t=this.masterPlaylistLoader_.media(),e=void 0;return t.attributes&&t.attributes.AUDIO&&(e=this.audioGroups_[t.attributes.AUDIO]),e||this.audioGroups_.main}},{key:"setupAudio",value:function(){var t=this,e=this.activeAudioGroup(),n=e.filter(function(t){return t.enabled})[0];n||(n=e.filter(function(t){return t.properties_["default"]})[0]||e[0],n.enabled=!0),this.audioPlaylistLoader_&&(this.audioPlaylistLoader_.dispose(),this.audioPlaylistLoader_=null),this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.clearBuffer(),n.properties_.resolvedUri&&(this.audioPlaylistLoader_=new c["default"](n.properties_.resolvedUri,this.hls_,this.withCredentials),this.audioPlaylistLoader_.start(),this.audioPlaylistLoader_.on("loadedmetadata",function(){var e=t.audioPlaylistLoader_.media();t.audioSegmentLoader_.playlist(e,t.requestOptions_),(!t.tech_.paused()||e.endList&&"none"!==t.tech_.preload())&&t.audioSegmentLoader_.load(),e.endList||t.audioPlaylistLoader_.trigger("firstplay")}),this.audioPlaylistLoader_.on("loadedplaylist",function(){var e=void 0;return t.audioPlaylistLoader_&&(e=t.audioPlaylistLoader_.media()),e?void t.audioSegmentLoader_.playlist(e,t.requestOptions_):void t.audioPlaylistLoader_.media(t.audioPlaylistLoader_.playlists.master.playlists[0])}),this.audioPlaylistLoader_.on("error",function(){m["default"].log.warn("Problem encountered loading the alternate audio track. Switching back to default."),t.audioSegmentLoader_.abort(),t.setupAudio()}))}},{key:"fastQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.sourceUpdater_.remove(this.tech_.currentTime()+5,1/0))}},{key:"play",value:function(){if(!this.setupFirstPlay())return this.tech_.ended()&&this.tech_.setCurrentTime(0),this.load(),this.tech_.duration()===1/0&&this.tech_.currentTime()<this.tech_.seekable().start(0)?this.tech_.setCurrentTime(this.tech_.seekable().start(0)):void 0}},{key:"setupFirstPlay",value:function(){var t=void 0,e=this.masterPlaylistLoader_.media();return!(!e||e.endList||this.tech_.paused()||this.hasPlayed_)&&(this.masterPlaylistLoader_.trigger("firstplay"),this.hasPlayed_=!0,t=this.seekable(),t.length&&this.tech_.setCurrentTime(t.end(0)),this.load(),!0)}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return m["default"].log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}this.tech_.autoplay()&&this.tech_.play(),this.trigger("sourceopen")}},{key:"blacklistCurrentPlaylist",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=void 0,n=void 0;return(e=t.playlist||this.masterPlaylistLoader_.media())?(e.excludeUntil=Date.now()+y,(n=this.selectPlaylist())?(m["default"].log.warn("Problem encountered with the current HLS playlist. Switching to another playlist."),this.masterPlaylistLoader_.media(n)):(m["default"].log.warn("Problem encountered with the current HLS playlist. No suitable alternatives found."),this.error=t,this.mediaSource.endOfStream("network"))):(this.error=t,this.mediaSource.endOfStream("network"))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=f["default"].findRange(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.abort(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.abort(),void(this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioPlaylistLoader_&&this.audioSegmentLoader_.load()))):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:b.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){var t=void 0,e=void 0,n=void 0;return this.masterPlaylistLoader_&&(t=this.masterPlaylistLoader_.media())?(e=b.Playlist.seekable(t,this.masterPlaylistLoader_.expired_),0===e.length?e:this.audioPlaylistLoader_&&(n=b.Playlist.seekable(this.audioPlaylistLoader_.media(),this.audioPlaylistLoader_.expired_),0===n.length)?n:n?m["default"].createTimeRanges([[n.start(0)>e.start(0)?n.start(0):e.start(0),n.end(0)<e.end(0)?n.end(0):e.end(0)]]):e):m["default"].createTimeRanges()}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=b.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function e(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};i.length>0&&(n=Math.max(n,i.end(i.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.audioSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t=this.masterPlaylistLoader_.media(),e=void 0;if(t&&"open"===this.mediaSource.readyState){if(e=x(this.masterPlaylistLoader_.master,t),e.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(e[0]),e[1]&&this.audioSegmentLoader_.mimeType(e[1]),this.excludeIncompatibleVariants_(t)}}},{key:"excludeIncompatibleVariants_",value:function(t){var e=this.masterPlaylistLoader_.master,n=2,i=null,r=null,o=void 0;t.attributes&&t.attributes.CODECS&&(o=w(t.attributes.CODECS),i=o.videoCodec,r=o.audioProfile,n=o.codecCount),e.playlists.forEach(function(t){var e={codecCount:2,videoCodec:null,audioProfile:null};if(t.attributes&&t.attributes.CODECS){var o=t.attributes.CODECS;e=w(o),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+o+'"')&&(t.excludeUntil=1/0)}e.codecCount!==n&&(t.excludeUntil=1/0),e.videoCodec!==i&&(t.excludeUntil=1/0),("5"===e.audioProfile&&"5"!==r||"5"===r&&"5"!==e.audioProfile)&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];v["default"].updateAdCues(t,this.cueTagsTrack_,e)}}]),e}(m["default"].EventTarget);n.MasterPlaylistController=k}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad-cue-tags":1,"./playlist-loader":6,"./ranges":8,"./segment-loader":11}],6:[function(t,e,n){(function(i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("./resolve-url"),a=r(o),s="undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null,l=t("./stream"),c=r(l),u=t("m3u8-parser"),d=r(u),h=t("global/window"),f=r(h),p=function(t,e,n){var i=e.slice(),r=void 0,o=void 0;for(n=n||0,r=Math.min(t.length,e.length+n),o=n;o<r;o++)i[o-n]=(0,s.mergeOptions)(t[o],i[o-n]);return i},m=function(t,e){for(var n=!1,i=(0,s.mergeOptions)(t,{}),r=t.playlists.length,o=void 0,l=void 0,c=void 0;r--;)if(o=i.playlists[r],o.uri===e.uri){if(o.segments&&e.segments&&o.segments.length===e.segments.length&&o.mediaSequence===e.mediaSequence)continue;for(i.playlists[r]=(0,s.mergeOptions)(o,e),i.playlists[e.uri]=i.playlists[r],o.segments&&(i.playlists[r].segments=p(o.segments,e.segments,e.mediaSequence-o.mediaSequence)),c=0,i.playlists[r].segments&&(c=i.playlists[r].segments.length);c--;)l=i.playlists[r].segments[c],l.resolvedUri||(l.resolvedUri=(0,a["default"])(o.resolvedUri,l.uri)),l.key&&!l.key.resolvedUri&&(l.key.resolvedUri=(0,a["default"])(o.resolvedUri,l.key.uri)),l.map&&!l.map.resolvedUri&&(l.map.resolvedUri=(0,a["default"])(o.resolvedUri,l.map.uri));n=!0}return n?i:null},g=function t(e,n,i){var r=this,o=this,s=void 0,l=void 0,c=void 0,u=void 0,h=void 0;if(t.prototype.constructor.call(this),this.hls_=n,this.trackExpiredTime_=!1,!e)throw new Error("A non-empty playlist URL is required");u=function(t,e,n){o.setBandwidth(c||t),c=null,n&&(o.state=n),o.error={playlist:o.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:t.status>=500?4:2},o.trigger("error")},h=function(t,e){var n=void 0,i=void 0,r=void 0;o.setBandwidth(c||t),c=null,o.state="HAVE_METADATA",n=new d["default"].Parser,n.push(t.responseText),n.end(),n.manifest.uri=e,r=m(o.master,n.manifest),i=1e3*(n.manifest.targetDuration||10),o.targetDuration=n.manifest.targetDuration,r?(o.master=r,o.updateMediaPlaylist_(n.manifest)):i/=2,o.media().endList||(f["default"].clearTimeout(l),l=f["default"].setTimeout(function(){o.trigger("mediaupdatetimeout")},i)),o.trigger("loadedplaylist")},o.state="HAVE_NOTHING",this.expired_=0,s=this.dispose,o.dispose=function(){o.stopRequest(),f["default"].clearTimeout(l),s.call(this)},o.stopRequest=function(){if(c){var t=c;c=null,t.onreadystatechange=null,t.abort()}},o.enabledPlaylists_=function(){return o.master.playlists.filter(function(t){return!t.excludeUntil||t.excludeUntil<=Date.now()}).length},o.isLowestEnabledRendition_=function(){var t=o.media();if(!t||!t.attributes)return!1;var e=o.media().attributes.BANDWIDTH||0;return!(o.master.playlists.filter(function(t){var n="undefined"==typeof t.excludeUntil||t.excludeUntil<=Date.now();if(!n)return!1;var i=t.attributes.BANDWIDTH;return i<=e}).length>1)},o.media=function(t){var e=o.state,n=void 0;if(!t)return o.media_;if("HAVE_NOTHING"===o.state)throw new Error("Cannot switch media playlist from "+o.state);if("string"==typeof t){if(!o.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=o.master.playlists[t]}if(n=!o.media_||t.uri!==o.media_.uri,o.master.playlists[t.uri].endList)return c&&(c.onreadystatechange=null,c.abort(),c=null),o.state="HAVE_METADATA",o.media_=t,void(n&&(o.trigger("mediachanging"),o.trigger("mediachange")));if(n){if(o.state="SWITCHING_MEDIA",c){if((0,a["default"])(o.master.uri,t.uri)===c.url)return;c.onreadystatechange=null,c.abort(),c=null}this.media_&&this.trigger("mediachanging"),c=this.hls_.xhr({uri:(0,a["default"])(o.master.uri,t.uri),withCredentials:i},function(n,i){if(c){if(n)return u(c,t.uri,e);h(i,t.uri),"HAVE_MASTER"===e?o.trigger("loadedmetadata"):o.trigger("mediachange")}})}},o.setBandwidth=function(t){o.bandwidth=t.bandwidth},o.on("firstplay",function(){this.trackExpiredTime_=!0}),o.on("mediaupdatetimeout",function(){"HAVE_METADATA"===o.state&&(o.state="HAVE_CURRENT_METADATA",c=this.hls_.xhr({uri:(0,a["default"])(o.master.uri,o.media().uri),withCredentials:i},function(t){if(c)return t?u(c,o.media().uri):void h(c,o.media().uri)}))}),o.pause=function(){o.stopRequest(),f["default"].clearTimeout(l)},o.load=function(){o.started?o.media().endList?o.trigger("loadedplaylist"):o.trigger("mediaupdatetimeout"):o.start()},o.start=function(){o.started=!0,c=r.hls_.xhr({uri:e,withCredentials:i},function(t,n){var i=void 0,r=void 0,s=void 0;if(c){if(c=null,t)return o.error={status:n.status,message:"HLS playlist request error at URL: "+e,responseText:n.responseText,code:2},o.trigger("error");if(i=new d["default"].Parser,i.push(n.responseText),i.end(),o.state="HAVE_MASTER",i.manifest.uri=e,i.manifest.playlists){for(o.master=i.manifest,s=o.master.playlists.length;s--;)r=o.master.playlists[s],o.master.playlists[r.uri]=r,r.resolvedUri=(0,a["default"])(o.master.uri,r.uri);for(var l in o.master.mediaGroups.AUDIO)for(var u in o.master.mediaGroups.AUDIO[l]){var p=o.master.mediaGroups.AUDIO[l][u];p.uri&&(p.resolvedUri=(0,a["default"])(o.master.uri,p.uri))}return o.trigger("loadedplaylist"),void(c||o.media(i.manifest.playlists[0]))}return o.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:f["default"].location.href,playlists:[{uri:e}]},o.master.playlists[e]=o.master.playlists[0],o.master.playlists[0].resolvedUri=e,h(n,e),o.trigger("loadedmetadata")}})}};g.prototype=new c["default"],g.prototype.updateMediaPlaylist_=function(t){var e=void 0,n=void 0,i=void 0;if(e=this.media_,this.media_=this.master.playlists[t.uri],e&&this.trackExpiredTime_&&t.uri===e.uri){if(t.segments.length){if("undefined"!=typeof t.segments[0].start)return void(this.expired_=t.segments[0].start);if("undefined"!=typeof t.segments[0].end)return void(this.expired_=t.segments[0].end-t.segments[0].duration)}for(n=t.mediaSequence-e.mediaSequence-1;n>=0;n--)if(i=e.segments[n]){if("undefined"!=typeof i.end)return void(this.expired_=i.end);if("undefined"!=typeof i.start)return void(this.expired_=i.start+i.duration);this.expired_+=i.duration}else this.expired_+=e.targetDuration||10}},n["default"]=g,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./resolve-url":10,"./stream":13,"global/window":25,"m3u8-parser":62}],7:[function(t,e,n){(function(e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,o=t("global/window"),a=i(o),s={UNSAFE_LIVE_SEGMENTS:3},l=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if("undefined"!=typeof r.start)return{result:r.start,precise:!0};if("undefined"!=typeof r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=t.segments[i],"undefined"!=typeof r.end)return{result:n+r.end,precise:!0};if(n+=r.duration,"undefined"!=typeof r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},c=function(t,e){for(var n=0,i=void 0,r=e-t.mediaSequence;r<t.segments.length;r++){if(i=t.segments[r],"undefined"!=typeof i.start)return{result:i.start-n,precise:!0};if(n+=i.duration,"undefined"!=typeof i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},u=function(t,e,n){var i=void 0,r=void 0;return"undefined"==typeof e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(i=l(t,e),i.precise?i.result:(r=c(t,e),r.precise?r.result:i.result+n))},d=function(t,e,n){if(!t)return 0;if("number"!=typeof n&&(n=0),"undefined"==typeof e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return a["default"].Infinity}return u(t,e,n)};n.duration=d;var h=function(t,e){var n=void 0,i=void 0,o=void 0;return"number"!=typeof e&&(e=0),t&&t.segments?t.endList?(0,r.createTimeRange)(0,d(t)):(n=u(t,t.mediaSequence,e),o=Math.max(0,t.segments.length-s.UNSAFE_LIVE_SEGMENTS),i=u(t,t.mediaSequence+o,e),(0,r.createTimeRange)(n,i)):(0,r.createTimeRange)()};n.seekable=h;var f=function(t,e,n){var i=void 0,r=void 0,o=e,a=t.segments.length,s=a-1,l=void 0,c=void 0,u=void 0,d=void 0;if(!t)return 0;if(e<0)return 0;if(0===e&&!n)return 0;for(n=n||0,i=0;i<a;i++)if(r=t.segments[i],r.end){if(r.end>e){d=r.end,c=i;break}u=r.end,l=i+1}if(l===a)return a;if("undefined"!=typeof l){for(e-=u,i=l;i<(c||a);i++)if(r=t.segments[i],e-=r.duration,e<0)return i;return i>=c?l+Math.floor((o-u)/(d-u)*(c-l)):s}if("undefined"!=typeof c){for(e=d-e,i=c;i>=0;i--)if(r=t.segments[i],e-=r.duration,e<0)return i;return 0===e?0:-1}if(e-=n,e<0)return-1;for(i=0;i<a;i++)if(r=t.segments[i],e-=r.duration,e<0)return i;return s};n.getMediaIndexForTime_=f,s.duration=d,s.seekable=h,s.getMediaIndexForTime_=f,n["default"]=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":25}],8:[function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,a=i(o),s=1/30,l=function(t,e){var n=r(e,2),i=n[0],o=n[1];return Math.min(Math.max(i,t),o)},c=function(t,e){var n=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return a["default"].createTimeRanges(n)},u=function(t,e){return c(t,function(t,n){return t-s<=e&&n+s>=e})},d=function(t,e){return c(t,function(t){return t-s>=e})},h=function(t){if(t.length<2)return a["default"].createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return a["default"].createTimeRanges(e)},f=function(t,e){var n=void 0,i=void 0,r=void 0,o=[],a=[],s=function(t){return t[0]<=r&&t[1]>=r};if(t)for(n=0;n<t.length;n++)i=t.start(n),r=t.end(n),a.push([i,r]);if(e)for(n=0;n<e.length;n++)i=e.start(n),r=e.end(n),a.some(s)||o.push(r);return 1!==o.length?null:o[0]},p=function(t,e){var n=null,i=null,r=0,o=[],s=[];if(!(t&&t.length&&e&&e.length))return a["default"].createTimeRange();for(var l=t.length;l--;)o.push({time:t.start(l),type:"start"}),o.push({time:t.end(l),type:"end"});for(l=e.length;l--;)o.push({time:e.start(l),type:"start"}),o.push({time:e.end(l),type:"end"});for(o.sort(function(t,e){return t.time-e.time}),l=0;l<o.length;l++)"start"===o[l].type?(r++,2===r&&(n=o[l].time)):"end"===o[l].type&&(r--,1===r&&(i=o[l].time)),null!==n&&null!==i&&(s.push([n,i]),n=null,i=null);return a["default"].createTimeRanges(s)},m=function(t,e,n,i){for(var r=e.end(0)-e.start(0),o=t.end(0)-t.start(0),a=r-o,s=p(t,i),l=p(e,i),c=0,u=0,d=s.length;d--;)c+=s.end(d)-s.start(d),s.start(d)===n&&(c+=a);for(d=l.length;d--;)u+=l.end(d)-l.start(d);return Math.max(c,u)/r*100},g=function(t,e,n,i){var r=t+e,o=a["default"].createTimeRanges([[t,r]]),s=a["default"].createTimeRanges([[l(t,[n,r]),r]]);if(s.start(0)===s.end(0))return 0;var c=m(s,o,n,i);return isNaN(c)||c===1/0||c===-(1/0)?0:c};n["default"]={findRange:u,findNextRange:d,findGaps:h,findSoleUncommonTimeRangesEnd:f,getSegmentBufferedPercent:g,TIME_FUDGE_FACTOR:s},e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e,n){var i="undefined"==typeof t.excludeUntil||t.excludeUntil<=Date.now();return"undefined"==typeof n?i:(n!==i&&(n?delete t.excludeUntil:t.excludeUntil=1/0,e()),n)},o=function t(e,n,o){i(this,t);var a=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);if(n.attributes){var s=n.attributes;if(s.RESOLUTION){var l=s.RESOLUTION;this.width=l.width,this.height=l.height}this.bandwidth=s.BANDWIDTH}this.id=o,this.enabled=r.bind(this,n,a)},a=function(t){var e=t.playlists;t.representations=function(){return e.master.playlists.map(function(e,n){return new o(t,e,n)})}};n["default"]=a,e.exports=n["default"]},{}],10:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=t("global/document"),o=i(r),a=function(t,e){var n=o["default"].querySelector("base"),i=o["default"].querySelector("head"),r=o["default"].createElement("a"),a=n,s=void 0,l=void 0;return n?s=n.href:a=i.appendChild(o["default"].createElement("base")),a.href=t,r.href=e,l=r.href,n?n.href=s:i.removeChild(a),l};n["default"]=a,e.exports=n["default"]},{"global/document":24}],11:[function(t,e,n){(function(i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},c=t("./ranges"),u=r(c),d=t("./playlist"),h="undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null,f=r(h),p=t("./source-updater"),m=r(p),g=t("aes-decrypter"),v=t("mux.js/lib/mp4/probe"),y=r(v),b=t("./config"),_=r(b),w=t("global/window"),x=r(w),k=500,C=function(t,e,n){if(!t)return!1;var i=t.segments[e],r=t.segments[e-1];return!(!n||!i)&&(i.end=n,r?r.end&&(i.duration=i.end-r.end):i.duration=i.end,!0)},T=function(t,e,n){if(!t)return!1;var i=t.segments,r=n===i.length;return t.endList&&"open"===e.readyState&&r},S=function(t){var e=void 0,n=void 0;return n=t.offset+t.length-1,e=t.offset,"bytes="+e+"-"+n},E=function(t){var e={};return"byterange"in t&&(e.Range=S(t.byterange)),e},O=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},A=function(t){function e(t){o(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var n=void 0;if(!t)throw new TypeError("Initialization options are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");n=f["default"].mergeOptions(f["default"].options.hls,t),this.state="INIT",this.bandwidth=n.bandwidth,this.roundTrip=NaN,this.resetStats_(),this.hasPlayed_=n.hasPlayed,this.currentTime_=n.currentTime,this.seekable_=n.seekable,this.seeking_=n.seeking,this.setCurrentTime_=n.setCurrentTime,this.mediaSource_=n.mediaSource,this.hls_=n.hls,this.checkBufferTimeout_=null,this.error_=void 0,this.expired_=0,this.timeCorrection_=0,this.currentTimeline_=-1,this.zeroOffset_=NaN,this.xhr_=null,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={}}return a(e,t),s(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaTransferDuration=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){"WAITING"===this.state&&(this.abort_(),this.paused()||(this.state="READY",this.fillBuffer_()))}},{key:"error",value:function(t){return"undefined"!=typeof t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.mimeType_?this.init_():void(!this.sourceUpdater_||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY",this.fillBuffer_()))}},{key:"playlist",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t)return this.playlist_=t,this.xhrOptions_=e,this.mimeType_&&"INIT"===this.state&&!this.paused()?this.init_():void 0}},{key:"pause",value:function(){this.checkBufferTimeout_&&(x["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"expired",value:function(t){this.expired_=t}},{key:"mimeType",value:function(t){this.mimeType_||(this.mimeType_=t,this.playlist_&&"INIT"===this.state&&!this.paused()&&this.init_())}},{key:"monitorBuffer_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&x["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=x["default"].setTimeout(this.monitorBuffer_.bind(this),k)}},{key:"checkBuffer_",value:function(t,e,n,i,r,o){var a=u["default"].findRange(t,n);0===a.length&&0===n&&(a=u["default"].findRange(t,n+u["default"].TIME_FUDGE_FACTOR));var s=void 0,l=void 0,c=void 0;if(!e.segments.length)return null;if(0===a.length)c=(0,d.getMediaIndexForTime_)(e,n+o,r);else{if(l=a.end(0),s=Math.max(0,l-n),!i&&s>=1)return null;if(i&&s>=_["default"].GOAL_BUFFER_LENGTH)return null;c=(0,d.getMediaIndexForTime_)(e,l+o,r)}return c}},{key:"abort_",value:function(){this.xhr_&&this.xhr_.abort(),this.pendingSegment_=null}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new m["default"](this.mediaSource_,this.mimeType_),this.clearBuffer(),this.fillBuffer_()}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){var t=this.sourceUpdater_.buffered(),e=this.playlist_,n=this.currentTime_(),i=this.hasPlayed_(),r=this.expired_,o=this.timeCorrection_,a=this.checkBuffer_(t,e,n,i,r,o);if(null!==a){var s=T(e,this.mediaSource_,a);if(s)return void this.mediaSource_.endOfStream();if((a!==e.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&!(a<0||a>=e.segments.length)){var l=this.playlist_.segments[a],c={uri:l.resolvedUri,mediaIndex:a,playlist:e,bytes:null,encryptedBytes:null,buffered:null,timestampOffset:NaN,timeline:l.timeline,duration:l.duration},h=(0,d.duration)(e,e.mediaSequence+c.mediaIndex,r);c.timestampOffset=this.sourceUpdater_.timestampOffset(),(l.timeline!==this.currentTimeline_||h<this.sourceUpdater_.timestampOffset())&&(c.timestampOffset=h);var f=u["default"].getSegmentBufferedPercent(h,l.duration,n,t);if(f>=90){var p=this.incrementTimeCorrection_(e.targetDuration/2,1);return void(p&&!this.paused()&&this.fillBuffer_())}this.loadSegment_(c)}}}}},{key:"trimBuffer_",value:function(t){var e=this.seekable_(),n=this.currentTime_(),i=0;i=e.length&&e.start(0)>0&&e.start(0)<n?e.start(0):n-60;for(var r=0;r<=t.playlist.segments.length;r++){var o=(0,d.duration)(t.playlist,t.playlist.mediaSequence+r,this.expired_),a=(0,d.duration)(t.playlist,t.playlist.mediaSequence+(r-1),this.expired_);if(o>=i){i=a;break}}return i}},{key:"loadSegment_",value:function(t){var e=void 0,n=void 0,i=void 0,r=void 0,o=0;if(o=this.trimBuffer_(t),o>0&&this.sourceUpdater_.remove(0,o),e=t.playlist.segments[t.mediaIndex],e.key){var a=f["default"].mergeOptions(this.xhrOptions_,{uri:e.key.resolvedUri,
responseType:"arraybuffer"});n=this.hls_.xhr(a,this.handleResponse_.bind(this))}if(e.map&&!this.initSegments_[O(e.map)]){var s=f["default"].mergeOptions(this.xhrOptions_,{uri:e.map.resolvedUri,responseType:"arraybuffer",headers:E(e.map)});i=this.hls_.xhr(s,this.handleResponse_.bind(this))}this.pendingSegment_=t;var l=f["default"].mergeOptions(this.xhrOptions_,{uri:t.uri,responseType:"arraybuffer",headers:E(e)});r=this.hls_.xhr(l,this.handleResponse_.bind(this)),this.xhr_={keyXhr:n,initSegmentXhr:i,segmentXhr:r,abort:function(){this.segmentXhr&&(this.segmentXhr.onreadystatechange=null,this.segmentXhr.abort(),this.segmentXhr=null),this.initSegmentXhr&&(this.initSegmentXhr.onreadystatechange=null,this.initSegmentXhr.abort(),this.initSegmentXhr=null),this.keyXhr&&(this.keyXhr.onreadystatechange=null,this.keyXhr.abort(),this.keyXhr=null)}},this.state="WAITING"}},{key:"handleResponse_",value:function(t,e){var n=void 0,i=void 0,r=void 0,o=void 0;if(this.xhr_&&(e===this.xhr_.segmentXhr||e===this.xhr_.keyXhr||e===this.xhr_.initSegmentXhr)){if(n=this.pendingSegment_,i=n.playlist.segments[n.mediaIndex],e.timedout)return this.abort_(),this.bandwidth=1,this.roundTrip=NaN,this.state="READY",this.trigger("progress");if(!e.aborted&&t)return r=this.xhr_.keyXhr,this.abort_(),this.error({status:e.status,message:e===r?"HLS key request error at URL: "+i.key.uri:"HLS segment request error at URL: "+n.uri,code:2,xhr:e}),this.state="READY",this.pause(),this.trigger("error");if(!e.response)return void this.abort_();if(e===this.xhr_.segmentXhr&&(this.xhr_.segmentXhr=null,this.roundTrip=e.roundTripTime,this.bandwidth=e.bandwidth,this.mediaBytesTransferred+=e.bytesReceived||0,this.mediaRequests+=1,this.mediaTransferDuration+=e.roundTripTime||0,i.key?n.encryptedBytes=new Uint8Array(e.response):n.bytes=new Uint8Array(e.response)),e===this.xhr_.keyXhr){if(r=this.xhr_.segmentXhr,this.xhr_.keyXhr=null,16!==e.response.byteLength)return this.abort_(),this.error({status:e.status,message:"Invalid HLS key at URL: "+i.key.uri,code:2,xhr:e}),this.state="READY",this.pause(),this.trigger("error");o=new DataView(e.response),i.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),i.key.iv=i.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence])}e===this.xhr_.initSegmentXhr&&(this.xhr_.initSegmentXhr=null,i.map.bytes=new Uint8Array(e.response),this.initSegments_[O(i.map)]=i.map),this.xhr_.segmentXhr||this.xhr_.keyXhr||this.xhr_.initSegmentXhr||(this.xhr_=null,this.processResponse_())}}},{key:"clearBuffer",value:function(){this.sourceUpdater_&&this.sourceUpdater_.buffered().length&&this.sourceUpdater_.remove(0,1/0)}},{key:"processResponse_",value:function(){var t=void 0,e=void 0;if(this.state="DECRYPTING",t=this.pendingSegment_,e=t.playlist.segments[t.mediaIndex],e.map&&isNaN(this.zeroOffset_)){var n=y["default"].timescale(e.map.bytes),i=y["default"].startTime(n,t.bytes);this.zeroOffset_=i,t.timestampOffset-=i}e.key?new g.Decrypter(t.encryptedBytes,e.key.bytes,e.key.iv,function(e,n){t.bytes=n,this.handleSegment_()}.bind(this)):this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this,e=void 0,n=void 0;this.state="APPENDING",e=this.pendingSegment_,e.buffered=this.sourceUpdater_.buffered(),n=e.playlist.segments[e.mediaIndex],this.currentTimeline_=e.timeline,e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&this.sourceUpdater_.timestampOffset(e.timestampOffset),n.map&&!function(){var e=O(n.map);if(!t.activeInitSegmentId_||t.activeInitSegmentId_!==e){var i=t.initSegments_[e];t.sourceUpdater_.appendBuffer(i.bytes,function(){t.activeInitSegmentId_=e})}}(),this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){var t=this.pendingSegment_,e=this.currentTime_();this.pendingSegment_=null;var n=this.updateTimeline_(t);this.trigger("progress");var i=t.mediaIndex;i+=t.playlist.mediaSequence-this.playlist_.mediaSequence;var r=u["default"].findRange(this.sourceUpdater_.buffered(),e),o=T(t.playlist,this.mediaSource_,i+1);o&&this.mediaSource_.endOfStream();var a=this.seekable_(),s=u["default"].findNextRange(this.sourceUpdater_.buffered(),e);if(this.seeking_()&&0===r.length&&a.length&&e<a.start(0)&&s.length&&(f["default"].log("tried seeking to",e,"but that was too early, retrying at",s.start(0)),this.setCurrentTime_(s.start(0)+u["default"].TIME_FUDGE_FACTOR)),this.state="READY",n)return this.timeCorrection_=0,void(this.paused()||this.fillBuffer_());var l=this.incrementTimeCorrection_(t.duration,4);l&&!this.paused()&&this.fillBuffer_()}},{key:"updateTimeline_",value:function(t){var e=void 0,n=void 0,i=!1,r=t.playlist,o=t.mediaIndex;return o+=r.mediaSequence-this.playlist_.mediaSequence,e=r.segments[o],e&&t&&t.playlist.uri===this.playlist_.uri&&(n=u["default"].findSoleUncommonTimeRangesEnd(t.buffered,this.sourceUpdater_.buffered()),i=C(r,o,n)),i}},{key:"incrementTimeCorrection_",value:function(t,e){return this.timeCorrection_>=this.playlist_.targetDuration*e?(this.timeCorrection_=0,!1):(this.timeCorrection_+=t,!0)}}]),e}(f["default"].EventTarget);n["default"]=A,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config":3,"./playlist":7,"./ranges":8,"./source-updater":12,"aes-decrypter":18,"global/window":25,"mux.js/lib/mp4/probe":80}],12:[function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,s=i(a),l=function(){function t(e,n){var i=this;r(this,t);var o=function(){i.sourceBuffer_=e.addSourceBuffer(n),i.onUpdateendCallback_=function(){var t=i.pendingCallback_;i.pendingCallback_=null,t&&t(),i.runCallback_()},i.sourceBuffer_.addEventListener("updateend",i.onUpdateendCallback_),i.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,"closed"===e.readyState?e.addEventListener("sourceopen",o):o()}return o(t,[{key:"abort",value:function(t){var e=this;this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:s["default"].createTimeRanges()}},{key:"duration",value:function(t){var e=this;this.queueCallback_(function(){e.sourceBuffer_.duration=t})}},{key:"remove",value:function(t,e){var n=this;this.queueCallback_(function(){n.sourceBuffer_.remove(t,e)})}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating}},{key:"timestampOffset",value:function(t){var e=this;return"undefined"!=typeof t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;this.sourceBuffer_&&!this.sourceBuffer_.updating&&this.callbacks_.length&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),t}();n["default"]=l,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t),this.listeners={}}return r(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){var n=void 0;return!!this.listeners[t]&&(n=this.listeners[t].indexOf(e),this.listeners[t].splice(n,1),n>-1)}},{key:"trigger",value:function(t){var e=void 0,n=void 0,i=void 0,r=void 0;if(e=this.listeners[t])if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=e.length,n=0;n<i;++n)e[n].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),t}();n["default"]=o,e.exports=n["default"]},{}],14:[function(t,e,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,r=function(){var t=function t(e,n){if(e=(0,i.mergeOptions)({timeout:45e3},e),t.beforeRequest&&"function"==typeof t.beforeRequest){var r=t.beforeRequest(e);r&&(e=r)}var o=(0,i.xhr)(e,function(t,e){!t&&o.response&&(o.responseTime=(new Date).getTime(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=o.response.byteLength||o.response.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),t||o.timedout?o.timedout=o.timedout||"ETIMEDOUT"===t.code:o.timedout=!1,t||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(o&&(o.response||o.responseText)))),n(t,o)});return o.requestTime=(new Date).getTime(),o};return t};n["default"]=r,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],o=void 0,a=void 0,s=void 0,l=[],c=[],u=void 0,d=void 0,h=void 0,f=void 0,p=void 0,m=void 0;for(o=0;o<256;o++)c[(l[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!i[a];a^=u||1,s=c[s]||1)for(f=s^s<<1^s<<2^s<<3^s<<4,f=f>>8^255&f^99,i[a]=f,r[f]=a,h=l[d=l[u=l[a]]],m=16843009*h^65537*d^257*u^16843008*a,p=257*l[f]^16843008*f,o=0;o<4;o++)e[o][a]=p=p<<24^p>>>8,n[o][f]=m=m<<24^m>>>8;for(o=0;o<5;o++)e[o]=e[o].slice(0),n[o]=n[o].slice(0);return t},a=null,s=function(){function t(e){i(this,t),a||(a=o()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var n=void 0,r=void 0,s=void 0,l=void 0,c=void 0,u=this._tables[0][4],d=this._tables[1],h=e.length,f=1;if(4!==h&&6!==h&&8!==h)throw new Error("Invalid aes key size");for(l=e.slice(0),c=[],this._key=[l,c],n=h;n<4*h+28;n++)s=l[n-1],(n%h===0||8===h&&n%h===4)&&(s=u[s>>>24]<<24^u[s>>16&255]<<16^u[s>>8&255]<<8^u[255&s],n%h===0&&(s=s<<8^s>>>24^f<<24,f=f<<1^283*(f>>7))),l[n]=l[n-h]^s;for(r=0;n;r++,n--)s=l[3&r?n:n-4],n<=4||r<4?c[r]=s:c[r]=d[0][u[s>>>24]]^d[1][u[s>>16&255]]^d[2][u[s>>8&255]]^d[3][u[255&s]]}return r(t,[{key:"decrypt",value:function(t,e,n,i,r,o){var a=this._key[1],s=t^a[0],l=i^a[1],c=n^a[2],u=e^a[3],d=void 0,h=void 0,f=void 0,p=a.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],w=v[3],x=v[4];for(m=0;m<p;m++)d=y[s>>>24]^b[l>>16&255]^_[c>>8&255]^w[255&u]^a[g],h=y[l>>>24]^b[c>>16&255]^_[u>>8&255]^w[255&s]^a[g+1],f=y[c>>>24]^b[u>>16&255]^_[s>>8&255]^w[255&l]^a[g+2],u=y[u>>>24]^b[s>>16&255]^_[l>>8&255]^w[255&c]^a[g+3],g+=4,s=d,l=h,c=f;for(m=0;m<4;m++)r[(3&-m)+o]=x[s>>>24]<<24^x[l>>16&255]<<16^x[c>>8&255]<<8^x[255&u]^a[g++],d=s,s=l,l=c,c=u,u=d}}]),t}();n["default"]=s,e.exports=n["default"]},{}],16:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},l=t("./stream"),c=i(l),u=function(t){function e(){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,c["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return o(e,t),a(e,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),e}(c["default"]);n["default"]=u,e.exports=n["default"]},{"./stream":19}],17:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./aes"),s=i(a),l=t("./async-stream"),c=i(l),u=t("pkcs7"),d=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},h=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new s["default"](Array.prototype.slice.call(e)),o=new Uint8Array(t.byteLength),a=new Int32Array(o.buffer),l=void 0,c=void 0,u=void 0,h=void 0,f=void 0,p=void 0,m=void 0,g=void 0,v=void 0;for(l=n[0],c=n[1],u=n[2],h=n[3],v=0;v<i.length;v+=4)f=d(i[v]),p=d(i[v+1]),m=d(i[v+2]),g=d(i[v+3]),r.decrypt(f,p,m,g,a,v),a[v]=d(a[v]^l),a[v+1]=d(a[v+1]^c),a[v+2]=d(a[v+2]^u),a[v+3]=d(a[v+3]^h),l=f,c=p,u=m,h=g;return o};n.decrypt=h;var f=function(){function t(e,n,i,o){r(this,t);var a=t.STEP,s=new Int32Array(e.buffer),l=new Uint8Array(e.byteLength),h=0;for(this.asyncStream_=new c["default"],this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+a),n,i,l)),h=a;h<s.length;h+=a)i=new Uint32Array([d(s[h-4]),d(s[h-3]),d(s[h-2]),d(s[h-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+a),n,i,l));this.asyncStream_.push(function(){o(null,(0,u.unpad)(l))})}return o(t,[{key:"decryptChunk_",value:function(t,e,n,i){return function(){var r=h(t,e,n);i.set(r,t.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),t}();n.Decrypter=f,n["default"]={Decrypter:f,decrypt:h}},{"./aes":15,"./async-stream":16,pkcs7:21}],18:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=t("./decrypter"),o=t("./async-stream"),a=i(o);n["default"]={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:a["default"]},e.exports=n["default"]},{"./async-stream":16,"./decrypter":17}],19:[function(t,e,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],20:[function(t,e){"use strict";var n;e.exports=function(t){var e=n[t.byteLength%16||0],i=new Uint8Array(t.byteLength+e.length);return i.set(t),i.set(e,t.byteLength),i},n=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],21:[function(t,e,n){"use strict";n.pad=t("./pad.js"),n.unpad=t("./unpad.js")},{"./pad.js":20,"./unpad.js":22}],22:[function(t,e){"use strict";e.exports=function(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}},{}],23:[function(){},{}],24:[function(t,e){(function(n){var i="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},r=t("min-document");if("undefined"!=typeof document)e.exports=document;else{var o=i["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=i["__GLOBAL_DOCUMENT_CACHE@4"]=r),e.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":23}],25:[function(t,e){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(i);return e=r(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,o=r(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=a,t.apply(this,s)}}var i="Expected a function",r=Math.max;e.exports=n},{}],27:[function(t,e){function n(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}e.exports=n},{}],28:[function(t,e){function n(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}e.exports=n},{}],29:[function(t,e){function n(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}e.exports=n},{}],30:[function(t,e){var n=t("./createBaseFor"),i=n();e.exports=i},{"./createBaseFor":37}],31:[function(t,e){function n(t,e){return i(t,e,r)}var i=t("./baseFor"),r=t("../object/keysIn");e.exports=n},{"../object/keysIn":58,"./baseFor":30}],32:[function(t,e){function n(t,e,d,h,f){if(!s(t))return t;var p=a(e)&&(o(e)||c(e)),m=p?void 0:u(e);return i(m||e,function(i,o){if(m&&(o=i,i=e[o]),l(i))h||(h=[]),f||(f=[]),r(t,e,o,n,d,h,f);else{var a=t[o],s=d?d(a,i,o,t,e):void 0,c=void 0===s;c&&(s=i),void 0===s&&(!p||o in t)||!c&&(s===s?s===a:a!==a)||(t[o]=s)}}),t}var i=t("./arrayEach"),r=t("./baseMergeDeep"),o=t("../lang/isArray"),a=t("./isArrayLike"),s=t("../lang/isObject"),l=t("./isObjectLike"),c=t("../lang/isTypedArray"),u=t("../object/keys");e.exports=n},{"../lang/isArray":49,"../lang/isObject":52,"../lang/isTypedArray":55,"../object/keys":57,"./arrayEach":28,"./baseMergeDeep":33,"./isArrayLike":40,"./isObjectLike":45}],33:[function(t,e){function n(t,e,n,u,d,h,f){for(var p=h.length,m=e[n];p--;)if(h[p]==m)return void(t[n]=f[p]);var g=t[n],v=d?d(g,m,n,t,e):void 0,y=void 0===v;y&&(v=m,a(m)&&(o(m)||l(m))?v=o(g)?g:a(g)?i(g):[]:s(m)||r(m)?v=r(g)?c(g):s(g)?g:{}:y=!1),h.push(m),f.push(v),y?t[n]=u(v,m,d,h,f):(v===v?v!==g:g===g)&&(t[n]=v)}var i=t("./arrayCopy"),r=t("../lang/isArguments"),o=t("../lang/isArray"),a=t("./isArrayLike"),s=t("../lang/isPlainObject"),l=t("../lang/isTypedArray"),c=t("../lang/toPlainObject");e.exports=n},{"../lang/isArguments":48,"../lang/isArray":49,"../lang/isPlainObject":53,"../lang/isTypedArray":55,"../lang/toPlainObject":56,"./arrayCopy":27,"./isArrayLike":40}],34:[function(t,e){function n(t){return function(e){return null==e?void 0:i(e)[t]}}var i=t("./toObject");e.exports=n},{"./toObject":47}],35:[function(t,e){function n(t,e,n){if("function"!=typeof t)return i;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,a){return t.call(e,n,i,r,o,a)}}return function(){return t.apply(e,arguments)}}var i=t("../utility/identity");e.exports=n},{"../utility/identity":61}],36:[function(t,e){function n(t){return o(function(e,n){var o=-1,a=null==e?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof s?(s=i(s,c,5),a-=2):(s="function"==typeof c?c:void 0,a-=s?1:0),l&&r(n[0],n[1],l)&&(s=a<3?void 0:s,a=1);++o<a;){var u=n[o];u&&t(e,u,s)}return e})}var i=t("./bindCallback"),r=t("./isIterateeCall"),o=t("../function/restParam");e.exports=n},{"../function/restParam":26,"./bindCallback":35,"./isIterateeCall":43}],37:[function(t,e){function n(t){return function(e,n,r){for(var o=i(e),a=r(e),s=a.length,l=t?s:-1;t?l--:++l<s;){var c=a[l];if(n(o[c],c,o)===!1)break}return e}}var i=t("./toObject");e.exports=n},{"./toObject":47}],38:[function(t,e){var n=t("./baseProperty"),i=n("length");e.exports=i},{"./baseProperty":34}],39:[function(t,e){function n(t,e){var n=null==t?void 0:t[e];return i(n)?n:void 0}var i=t("../lang/isNative");e.exports=n},{"../lang/isNative":51}],40:[function(t,e){function n(t){return null!=t&&r(i(t))}var i=t("./getLength"),r=t("./isLength");e.exports=n},{"./getLength":38,"./isLength":44}],41:[function(t,e){var n=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}();e.exports=n},{}],42:[function(t,e){function n(t,e){return t="number"==typeof t||i.test(t)?+t:-1,e=null==e?r:e,t>-1&&t%1==0&&t<e}var i=/^\d+$/,r=9007199254740991;e.exports=n},{}],43:[function(t,e){function n(t,e,n){if(!o(n))return!1;var a=typeof e;if("number"==a?i(n)&&r(e,n.length):"string"==a&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}var i=t("./isArrayLike"),r=t("./isIndex"),o=t("../lang/isObject");e.exports=n},{"../lang/isObject":52,"./isArrayLike":40,"./isIndex":42}],44:[function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;e.exports=n},{}],45:[function(t,e){function n(t){return!!t&&"object"==typeof t}e.exports=n},{}],46:[function(t,e){function n(t){for(var e=l(t),n=e.length,c=n&&t.length,d=!!c&&a(c)&&(r(t)||i(t)||s(t)),h=-1,f=[];++h<n;){var p=e[h];(d&&o(p,c)||u.call(t,p))&&f.push(p)}return f}var i=t("../lang/isArguments"),r=t("../lang/isArray"),o=t("./isIndex"),a=t("./isLength"),s=t("../lang/isString"),l=t("../object/keysIn"),c=Object.prototype,u=c.hasOwnProperty;e.exports=n},{"../lang/isArguments":48,"../lang/isArray":49,"../lang/isString":54,"../object/keysIn":58,"./isIndex":42,"./isLength":44}],47:[function(t,e){function n(t){if(o.unindexedChars&&r(t)){for(var e=-1,n=t.length,a=Object(t);++e<n;)a[e]=t.charAt(e);return a}return i(t)?t:Object(t)}var i=t("../lang/isObject"),r=t("../lang/isString"),o=t("../support");e.exports=n},{"../lang/isObject":52,"../lang/isString":54,"../support":60}],48:[function(t,e){function n(t){return r(t)&&i(t)&&a.call(t,"callee")&&!s.call(t,"callee")}var i=t("../internal/isArrayLike"),r=t("../internal/isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable;e.exports=n},{"../internal/isArrayLike":40,"../internal/isObjectLike":45}],49:[function(t,e){var n=t("../internal/getNative"),i=t("../internal/isLength"),r=t("../internal/isObjectLike"),o="[object Array]",a=Object.prototype,s=a.toString,l=n(Array,"isArray"),c=l||function(t){return r(t)&&i(t.length)&&s.call(t)==o};e.exports=c},{"../internal/getNative":39,"../internal/isLength":44,"../internal/isObjectLike":45}],50:[function(t,e){function n(t){return i(t)&&a.call(t)==r}var i=t("./isObject"),r="[object Function]",o=Object.prototype,a=o.toString;e.exports=n},{"./isObject":52}],51:[function(t,e){function n(t){return null!=t&&(i(t)?u.test(l.call(t)):o(t)&&(r(t)?u:a).test(t))}var i=t("./isFunction"),r=t("../internal/isHostObject"),o=t("../internal/isObjectLike"),a=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},{"../internal/isHostObject":41,"../internal/isObjectLike":45,"./isFunction":50}],52:[function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=n},{}],53:[function(t,e){function n(t){var e;if(!a(t)||d.call(t)!=l||o(t)||r(t)||!u.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return s.ownLast?(i(t,function(t,e,i){return n=u.call(i,e),!1}),n!==!1):(i(t,function(t,e){n=e}),void 0===n||u.call(t,n))}var i=t("../internal/baseForIn"),r=t("./isArguments"),o=t("../internal/isHostObject"),a=t("../internal/isObjectLike"),s=t("../support"),l="[object Object]",c=Object.prototype,u=c.hasOwnProperty,d=c.toString;e.exports=n},{"../internal/baseForIn":31,"../internal/isHostObject":41,"../internal/isObjectLike":45,"../support":60,"./isArguments":48}],54:[function(t,e){function n(t){return"string"==typeof t||i(t)&&a.call(t)==r}var i=t("../internal/isObjectLike"),r="[object String]",o=Object.prototype,a=o.toString;e.exports=n},{"../internal/isObjectLike":45}],55:[function(t,e){function n(t){return r(t)&&i(t.length)&&!!O[M.call(t)]}var i=t("../internal/isLength"),r=t("../internal/isObjectLike"),o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",g="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",k="[object Int32Array]",C="[object Uint8Array]",T="[object Uint8ClampedArray]",S="[object Uint16Array]",E="[object Uint32Array]",O={};O[b]=O[_]=O[w]=O[x]=O[k]=O[C]=O[T]=O[S]=O[E]=!0,O[o]=O[a]=O[y]=O[s]=O[l]=O[c]=O[u]=O[d]=O[h]=O[f]=O[p]=O[m]=O[g]=O[v]=!1;var A=Object.prototype,M=A.toString;e.exports=n},{"../internal/isLength":44,"../internal/isObjectLike":45}],56:[function(t,e){function n(t){return i(t,r(t))}var i=t("../internal/baseCopy"),r=t("../object/keysIn");e.exports=n},{"../internal/baseCopy":29,"../object/keysIn":58}],57:[function(t,e){var n=t("../internal/getNative"),i=t("../internal/isArrayLike"),r=t("../lang/isObject"),o=t("../internal/shimKeys"),a=t("../support"),s=n(Object,"keys"),l=s?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?a.enumPrototypes:i(t))?o(t):r(t)?s(t):[]}:o;e.exports=l},{"../internal/getNative":39,"../internal/isArrayLike":40,"../internal/shimKeys":46,"../lang/isObject":52,"../support":60}],58:[function(t,e){function n(t){if(null==t)return[];c(t)||(t=Object(t));var e=t.length;e=e&&l(e)&&(o(t)||r(t)||u(t))&&e||0;for(var n=t.constructor,i=-1,h=a(n)&&n.prototype||k,f=h===t,p=Array(e),g=e>0,v=d.enumErrorProps&&(t===x||t instanceof Error),b=d.enumPrototypes&&a(t);++i<e;)p[i]=i+"";for(var O in t)b&&"prototype"==O||v&&("message"==O||"name"==O)||g&&s(O,e)||"constructor"==O&&(f||!T.call(t,O))||p.push(O);if(d.nonEnumShadows&&t!==k){var A=t===C?_:t===x?m:S.call(t),M=E[A]||E[y];for(A==y&&(h=k),e=w.length;e--;){O=w[e];var P=M[O];f&&P||(P?!T.call(t,O):t[O]===h[O])||p.push(O)}}return p}var i=t("../internal/arrayEach"),r=t("../lang/isArguments"),o=t("../lang/isArray"),a=t("../lang/isFunction"),s=t("../internal/isIndex"),l=t("../internal/isLength"),c=t("../lang/isObject"),u=t("../lang/isString"),d=t("../support"),h="[object Array]",f="[object Boolean]",p="[object Date]",m="[object Error]",g="[object Function]",v="[object Number]",y="[object Object]",b="[object RegExp]",_="[object String]",w=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],x=Error.prototype,k=Object.prototype,C=String.prototype,T=k.hasOwnProperty,S=k.toString,E={};E[h]=E[p]=E[v]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},E[f]=E[_]={constructor:!0,toString:!0,valueOf:!0},E[m]=E[g]=E[b]={constructor:!0,toString:!0},E[y]={constructor:!0},i(w,function(t){for(var e in E)if(T.call(E,e)){var n=E[e];n[t]=T.call(n,t)}}),e.exports=n},{"../internal/arrayEach":28,"../internal/isIndex":42,"../internal/isLength":44,"../lang/isArguments":48,"../lang/isArray":49,"../lang/isFunction":50,"../lang/isObject":52,"../lang/isString":54,"../support":60}],59:[function(t,e){var n=t("../internal/baseMerge"),i=t("../internal/createAssigner"),r=i(n);e.exports=r},{"../internal/baseMerge":32,"../internal/createAssigner":36}],60:[function(t,e){var n=Array.prototype,i=Error.prototype,r=Object.prototype,o=r.propertyIsEnumerable,a=n.splice,s={};!function(t){var e=function(){this.x=t},n={0:t,length:t},r=[];e.prototype={valueOf:t,y:t};for(var l in new e)r.push(l);s.enumErrorProps=o.call(i,"message")||o.call(i,"name"),s.enumPrototypes=o.call(e,"prototype"),s.nonEnumShadows=!/valueOf/.test(r),s.ownLast="x"!=r[0],s.spliceObjects=(a.call(n,0,1),!n[0]),s.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),e.exports=s},{}],61:[function(t,e){function n(t){return t}e.exports=n},{}],62:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=t("./line-stream"),o=i(r),a=t("./parse-stream"),s=i(a),l=t("./parser"),c=i(l);n["default"]={LineStream:o["default"],ParseStream:s["default"],Parser:c["default"]},e.exports=n["default"]},{"./line-stream":63,"./parse-stream":64,"./parser":65}],63:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},l=t("./stream"),c=i(l),u=function(t){function e(){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.buffer=""}return o(e,t),a(e,[{key:"push",value:function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)}}]),e}(c["default"]);n["default"]=u,e.exports=n["default"]},{"./stream":66}],64:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),
Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},c=t("./stream"),u=i(c),d=function(){var t="[^=]*",e='"[^"]*"|[^,]*',n="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+n+")")},h=function(t){for(var e=t.split(d()),n=e.length,i={},r=void 0;n--;)""!==e[n]&&(r=/([^=]*)=(.*)/.exec(e[n]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),i[r[0]]=r[1]);return i},f=function(t){function e(){r(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this)}return o(e,t),s(e,[{key:"push",value:function(t){var e=void 0,n=void 0;if(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==t.length){if("#"!==t[0])return void this.trigger("data",{type:"uri",uri:t});if(0!==t.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:t.slice(1)});if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void this.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void this.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void this.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var i=h(e[1]);if(i.URI&&(n.uri=i.URI),i.BYTERANGE){var r=i.BYTERANGE.split("@"),o=a(r,2),s=o[0],l=o[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),l&&(n.byterange.offset=parseInt(l,10))}}return void this.trigger("data",n)}if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=h(e[1]),n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION.split("x"),u={};c[0]&&(u.width=parseInt(c[0],10)),c[1]&&(u.height=parseInt(c[1],10)),n.attributes.RESOLUTION=u}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void this.trigger("data",n)}return(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))?(n={type:"tag",tagType:"media"},e[1]&&(n.attributes=h(e[1])),void this.trigger("data",n)):(e=/^#EXT-X-ENDLIST/.exec(t))?void this.trigger("data",{type:"tag",tagType:"endlist"}):(e=/^#EXT-X-DISCONTINUITY/.exec(t))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))?(n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void this.trigger("data",n)):(e=/^#EXT-X-KEY:?(.*)$/.exec(t))?(n={type:"tag",tagType:"key"},e[1]&&(n.attributes=h(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n)):(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):void this.trigger("data",{type:"tag",data:t.slice(4)})}}}]),e}(u["default"]);n["default"]=f,e.exports=n["default"]},{"./stream":66}],65:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},l=t("./stream"),c=i(l),u=t("./line-stream"),d=i(u),h=t("./parse-stream"),f=i(h),p=t("lodash-compat/object/merge"),m=i(p),g=function(t){function e(){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.lineStream=new d["default"],this.parseStream=new f["default"],this.lineStream.pipe(this.parseStream);var t=this,n=[],i={},o=void 0,a=void 0,l=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;this.manifest={allowCache:!0,discontinuityStarts:[]},this.parseStream.on("data",function(e){var r=void 0,s=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function t(){var t={};"length"in e&&(i.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(i.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(i.duration=e.duration),0===e.duration&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key:function(){return e.attributes?"NONE"===e.attributes.METHOD?void(a=null):e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void("undefined"!=typeof e.attributes.IV&&(a.iv=e.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return isFinite(e.number)?void(this.manifest.mediaSequence=e.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){return isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,void(u=e.number)):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){return/VOD|EVENT/.test(e.playlistType)?void(this.manifest.playlistType=e.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){o={},e.uri&&(o.uri=e.uri),e.byterange&&(o.byterange=e.byterange)},"stream-inf":function(){return this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||c,e.attributes?(i.attributes||(i.attributes={}),void(i.attributes=(0,m["default"])(i.attributes,e.attributes))):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var t=this.manifest.mediaGroups[e.attributes.TYPE];t[e.attributes["GROUP-ID"]]=t[e.attributes["GROUP-ID"]]||{},r=t[e.attributes["GROUP-ID"]],s={"default":/yes/i.test(e.attributes.DEFAULT)},s["default"]?s.autoselect=!0:s.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(s.language=e.attributes.LANGUAGE),e.attributes.URI&&(s.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(s.instreamId=e.attributes["INSTREAM-ID"]),r[e.attributes.NAME]=s},discontinuity:function(){u+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time":function(){this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject},targetduration:function(){return!isFinite(e.duration)||e.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):void(this.manifest.targetDuration=e.duration)},totalduration:function(){return!isFinite(e.duration)||e.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):void(this.manifest.totalDuration=e.duration)},"cue-out":function(){i.cueOut=e.data},"cue-out-cont":function(){i.cueOutCont=e.data},"cue-in":function(){i.cueIn=e.data}})[e.tagType]||l).call(t)},uri:function(){i.uri=e.uri,n.push(i),!this.manifest.targetDuration||"duration"in i||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),a&&(i.key=a),i.timeline=u,o&&(i.map=o),i={}},comment:function(){}})[e.type].call(t)})}return o(e,t),a(e,[{key:"push",value:function(t){this.lineStream.push(t)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),e}(c["default"]);n["default"]=g,e.exports=n["default"]},{"./line-stream":63,"./parse-stream":64,"./stream":66,"lodash-compat/object/merge":59}],66:[function(t,e,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],67:[function(t,e){"use strict";var n,i=t("../utils/stream.js");n=function(){var t=new Uint8Array,e=0;n.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],i=t[e+5],r=(16&i)>>4;return r?n+20:n+10},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3,r=6144&t[e+3];return r|i|n},this.push=function(n){var i,r,o,a,s=0,l=0;for(t.length?(a=t.length,t=new Uint8Array(n.byteLength+a),t.set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-l>=3;)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(t[l]&!0&&240===(240&t[l+1])){if(t.length-l<7)break;if(s=this.parseAdtsSize(t,l),s>t.length)break;o={type:"audio",data:t.subarray(l,l+s),pts:e,dts:e},this.trigger("data",o),l+=s}else l++;else{if(t.length-l<10)break;if(s=this.parseId3TagSize(t,l),s>t.length)break;r={type:"timed-metadata",data:t.subarray(l,l+s)},this.trigger("data",r),l+=s}i=t.length-l,t=i>0?t.subarray(l):new Uint8Array}},n.prototype=new i,e.exports=n},{"../utils/stream.js":83}],68:[function(t,e){"use strict";var n,i=t("../utils/stream.js"),r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];n=function(){var t;n.prototype.init.call(this),this.push=function(e){var n,i,o,a,s,l,c=0,u=0;if("audio"===e.type)for(t?(a=t,t=new Uint8Array(a.byteLength+e.data.byteLength),t.set(a),t.set(e.data,a.byteLength)):t=e.data;c+5<t.length;)if(255===t[c]&&240===(246&t[c+1])){if(i=2*(1&~t[c+1]),n=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,s=1024*((3&t[c+6])+1),l=9e4*s/r[(60&t[c+2])>>>2],o=c+n,t.byteLength<o)return;if(this.trigger("data",{pts:e.pts+u*l,dts:e.dts+u*l,sampleCount:s,audioobjecttype:(t[c+2]>>>6&3)+1,channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:r[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+i,o)}),t.byteLength===o)return void(t=void 0);u++,t=t.subarray(o)}else c++},this.flush=function(){this.trigger("done")}},n.prototype=new i,e.exports=n},{"../utils/stream.js":83}],69:[function(t,e){"use strict";var n,i,r,o=t("../utils/stream.js"),a=t("../utils/exp-golomb.js");i=function(){var t,e,n=0;i.prototype.init.call(this),this.push=function(i){var r;for(e?(r=new Uint8Array(e.byteLength+i.data.byteLength),r.set(e),r.set(i.data,e.byteLength),e=r):e=i.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do t++;while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}},i.prototype=new o,r={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},n=function(){var t,e,o,s,l,c,u,d=new i;n.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,o=t.pts,s=t.dts,d.push(t))},d.on("data",function(n){var i={trackId:e,pts:o,dts:s,data:n};switch(31&n[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=l(n.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=l(n.subarray(1)),i.config=c(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",i)}),d.on("done",function(){t.trigger("done")}),this.flush=function(){d.flush()},u=function(t,e){var n,i,r=8,o=8;for(n=0;n<t;n++)0!==o&&(i=e.readExpGolomb(),o=(r+i+256)%256),r=0===o?r:o},l=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},c=function(t){var e,n,i,o,s,l,c,d,h,f,p,m,g,v,y=0,b=0,_=0,w=0,x=1;if(e=new a(t),n=e.readUnsignedByte(),o=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),r[n]&&(s=e.readUnsignedExpGolomb(),3===s&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(p=3!==s?8:12,v=0;v<p;v++)e.readBoolean()&&(v<6?u(16,e):u(64,e));if(e.skipUnsignedExpGolomb(),l=e.readUnsignedExpGolomb(),0===l)e.readUnsignedExpGolomb();else if(1===l)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),c=e.readUnsignedExpGolomb(),v=0;v<c;v++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),d=e.readUnsignedExpGolomb(),h=e.readUnsignedExpGolomb(),f=e.readBits(1),0===f&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(y=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb(),w=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(g=e.readUnsignedByte()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}m&&(x=m[0]/m[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:o,width:Math.ceil((16*(d+1)-2*y-2*b)*x),height:(2-f)*(h+1)*16-2*_-2*w}}},n.prototype=new o,e.exports={H264Stream:n,NalByteStream:i}},{"../utils/exp-golomb.js":82,"../utils/stream.js":83}],70:[function(t,e){"use strict";var n;n=function(t,e){var i,r=0,o=16384,a=function(t,e){var n,i=t.position+e;i<t.bytes.byteLength||(n=new Uint8Array(2*i),n.set(t.bytes.subarray(0,t.position),0),t.bytes=n,t.view=new DataView(t.bytes.buffer))},s=n.widthBytes||new Uint8Array("width".length),l=n.heightBytes||new Uint8Array("height".length),c=n.videocodecidBytes||new Uint8Array("videocodecid".length);if(!n.widthBytes){for(i=0;i<"width".length;i++)s[i]="width".charCodeAt(i);for(i=0;i<"height".length;i++)l[i]="height".charCodeAt(i);for(i=0;i<"videocodecid".length;i++)c[i]="videocodecid".charCodeAt(i);n.widthBytes=s,n.heightBytes=l,n.videocodecidBytes=c}switch(this.keyFrame=!1,t){case n.VIDEO_TAG:this.length=16,o*=6;break;case n.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case n.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(o),this.view=new DataView(this.bytes.buffer),this.bytes[0]=t,this.position=this.length,this.keyFrame=e,this.pts=0,this.dts=0,this.writeBytes=function(t,e,n){var i,r=e||0;n=n||t.byteLength,i=r+n,a(this,n),this.bytes.set(t.subarray(r,i),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(t){a(this,1),this.bytes[this.position]=t,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(t){a(this,2),this.view.setUint16(this.position,t),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(t){return this.bytes[this.length-t]},this.nalUnitSize=function(){return 0===r?0:this.length-(r+4)},this.startNalUnit=function(){if(r>0)throw new Error("Attempted to create new NAL wihout closing the old one");r=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(t){var e,n;this.length===r+4?this.length-=4:r>0&&(e=r+4,n=this.length-e,this.position=r,this.view.setUint32(this.position,n),this.position=this.length,t&&t.push(this.bytes.subarray(e,e+n))),r=0},this.writeMetaDataDouble=function(t,e){var n;if(a(this,2+t.length+9),this.view.setUint16(this.position,t.length),this.position+=2,"width"===t)this.bytes.set(s,this.position),this.position+=5;else if("height"===t)this.bytes.set(l,this.position),this.position+=6;else if("videocodecid"===t)this.bytes.set(c,this.position),this.position+=12;else for(n=0;n<t.length;n++)this.bytes[this.position]=t.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,e),this.position+=8,this.length=Math.max(this.length,this.position),++r},this.writeMetaDataBoolean=function(t,e){var n;for(a(this,2),this.view.setUint16(this.position,t.length),this.position+=2,n=0;n<t.length;n++)a(this,1),this.bytes[this.position]=t.charCodeAt(n),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,e?1:0),this.position++,this.length=Math.max(this.length,this.position),++r},this.finalize=function(){var t,i;switch(this.bytes[0]){case n.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||e?16:32),this.bytes[12]=e?0:1,t=this.pts-this.dts,this.bytes[13]=(16711680&t)>>>16,this.bytes[14]=(65280&t)>>>8,this.bytes[15]=(255&t)>>>0;break;case n.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=e?0:1;break;case n.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,r),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return i=this.length-11,this.bytes[1]=(16711680&i)>>>16,this.bytes[2]=(65280&i)>>>8,this.bytes[3]=(255&i)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=n.frameTime(this.bytes),this}},n.AUDIO_TAG=8,n.VIDEO_TAG=9,n.METADATA_TAG=18,n.isAudioFrame=function(t){return n.AUDIO_TAG===t[0]},n.isVideoFrame=function(t){return n.VIDEO_TAG===t[0]},n.isMetaData=function(t){return n.METADATA_TAG===t[0]},n.isKeyFrame=function(t){return n.isVideoFrame(t)?23===t[11]:!!n.isAudioFrame(t)||!!n.isMetaData(t)},n.frameTime=function(t){var e=t[4]<<16;return e|=t[5]<<8,e|=t[6]<<0,e|=t[7]<<24},e.exports=n},{}],71:[function(t,e){e.exports={tag:t("./flv-tag"),Transmuxer:t("./transmuxer")}},{"./flv-tag":70,"./transmuxer":72}],72:[function(t,e){"use strict";var n,i,r,o,a,s,l,c=t("../utils/stream.js"),u=t("./flv-tag.js"),d=t("../m2ts/m2ts.js"),h=t("../codecs/adts.js"),f=t("../codecs/h264").H264Stream;a=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts?t.timelineStartInfo.pts=e.pts:t.timelineStartInfo.pts=Math.min(t.timelineStartInfo.pts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts?t.timelineStartInfo.dts=e.dts:t.timelineStartInfo.dts=Math.min(t.timelineStartInfo.dts,e.dts))},s=function(t,e){var n=new u(u.METADATA_TAG);return n.dts=e,n.pts=e,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",t.width),n.writeMetaDataDouble("height",t.height),n},l=function(t,e){var n,i=new u(u.VIDEO_TAG,!0);for(i.dts=e,i.pts=e,i.writeByte(1),i.writeByte(t.profileIdc),i.writeByte(t.profileCompatibility),i.writeByte(t.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(t.sps[0].length),i.writeBytes(t.sps[0]),i.writeByte(t.pps.length),n=0;n<t.pps.length;++n)i.writeShort(t.pps[n].length),i.writeBytes(t.pps[n]);return i},r=function(t){var e,n=[];r.prototype.init.call(this),this.push=function(e){a(t,e),t&&void 0===t.channelcount&&(t.audioobjecttype=e.audioobjecttype,t.channelcount=e.channelcount,t.samplerate=e.samplerate,t.samplingfrequencyindex=e.samplingfrequencyindex,t.samplesize=e.samplesize,t.extraData=t.audioobjecttype<<11|t.samplingfrequencyindex<<7|t.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){var i,r,o,a=[];if(0===n.length)return void this.trigger("done");for(o=-(1/0);n.length;)i=n.shift(),(t.extraData!==e||i.pts-o>=1e3)&&(r=new u(u.METADATA_TAG),r.pts=i.pts,r.dts=i.dts,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===t.channelcount),r.writeMetaDataDouble("audiosamplerate",t.samplerate),r.writeMetaDataDouble("audiosamplesize",16),a.push(r),e=t.extraData,r=new u(u.AUDIO_TAG,!0),r.pts=i.pts,r.dts=i.dts,r.view.setUint16(r.position,t.extraData),r.position+=2,r.length=Math.max(r.length,r.position),a.push(r),o=i.pts),r=new u(u.AUDIO_TAG),r.pts=i.pts,r.dts=i.dts,r.writeBytes(i.data),a.push(r);e=null,this.trigger("data",{track:t,tags:a}),this.trigger("done")}},r.prototype=new c,i=function(t){var e,n,r=[];i.prototype.init.call(this),this.finishFrame=function(i,r){r&&(e&&t&&t.newMetadata&&(r.keyFrame||0===i.length)&&(i.push(s(e,r.dts)),i.push(l(t,r.dts)),t.newMetadata=!1),r.endNalUnit(),i.push(r),n=null)},this.push=function(e){a(t,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),r.push(e)},this.flush=function(){for(var i,o=[];r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0===r.length)return void this.trigger("done");for(;r.length;)i=r.shift(),"seq_parameter_set_rbsp"===i.nalUnitType?(t.newMetadata=!0,e=i.config,t.width=e.width,t.height=e.height,t.sps=[i.data],t.profileIdc=e.profileIdc,t.levelIdc=e.levelIdc,t.profileCompatibility=e.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(t.newMetadata=!0,t.pps=[i.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(n&&this.finishFrame(o,n),n=new u(u.VIDEO_TAG),n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(i.data);n&&this.finishFrame(o,n),this.trigger("data",{track:t,tags:o}),this.trigger("done")}},i.prototype=new c,o=function(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,o.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):("video"===t.track.type&&(this.videoTrack=t.track,this.videoTags=t.tags,this.pendingTracks++),void("audio"===t.track.type&&(this.audioTrack=t.track,this.audioTags=t.tags,this.pendingTracks++)))}},o.prototype=new c,o.prototype.flush=function(){var t,e,n,i,r={tags:{},captions:[],metadata:[]};if(!(this.pendingTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),r.tags.videoTags=this.videoTags,r.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)e=this.pendingCaptions[n],e.startTime=e.startPts-i,e.startTime/=9e4,e.endTime=e.endPts-i,e.endTime/=9e4,r.captions.push(e);for(n=0;n<this.pendingMetadata.length;n++)t=this.pendingMetadata[n],t.cueTime=t.pts-i,t.cueTime/=9e4,r.metadata.push(t);r.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.trigger("data",r),this.trigger("done")}},n=function(t){var e,a,s,l,c,p,m,g,v,y,b,_,w=this;n.prototype.init.call(this),t=t||{},this.metadataStream=new d.MetadataStream,t.metadataStream=this.metadataStream,e=new d.TransportPacketStream,a=new d.TransportParseStream,s=new d.ElementaryStream,l=new d.TimestampRolloverStream("video"),c=new d.TimestampRolloverStream("audio"),p=new d.TimestampRolloverStream("timed-metadata"),m=new h,g=new f,_=new o(t),e.pipe(a).pipe(s),s.pipe(l).pipe(g),s.pipe(c).pipe(m),s.pipe(p).pipe(this.metadataStream).pipe(_),b=new d.CaptionStream,g.pipe(b).pipe(_),s.on("data",function(t){var e,n,o;if("metadata"===t.type){for(e=t.tracks.length;e--;)"video"===t.tracks[e].type?n=t.tracks[e]:"audio"===t.tracks[e].type&&(o=t.tracks[e]);n&&!v&&(_.numberOfTracks++,v=new i(n),g.pipe(v).pipe(_)),o&&!y&&(_.numberOfTracks++,y=new r(o),m.pipe(y).pipe(_))}}),this.push=function(t){e.push(t)},this.flush=function(){e.flush()},_.on("data",function(t){w.trigger("data",t)}),_.on("done",function(){w.trigger("done")}),this.getFlvHeader=function(t,e,n){var i,r,o,a=new Uint8Array(9),s=new DataView(a.buffer);return t=t||0,e=void 0===e||e,n=void 0===n||n,s.setUint8(0,70),s.setUint8(1,76),s.setUint8(2,86),s.setUint8(3,1),s.setUint8(4,(e?4:0)|(n?1:0)),s.setUint32(5,a.byteLength),t<=0?(r=new Uint8Array(a.byteLength+4),r.set(a),r.set([0,0,0,0],a.byteLength),r):(i=new u(u.METADATA_TAG),i.pts=i.dts=0,i.writeMetaDataDouble("duration",t),o=i.finalize().length,r=new Uint8Array(a.byteLength+o),r.set(a),r.set(s.byteLength,o),r)}},n.prototype=new c,e.exports=n},{"../codecs/adts.js":68,"../codecs/h264":69,"../m2ts/m2ts.js":74,"../utils/stream.js":83,"./flv-tag.js":70}],73:[function(t,e){"use strict";var n=4,i=128,r=t("../utils/stream"),o=function(t){for(var e=0,r={payloadType:-1,payloadSize:0},o=0,a=0;e<t.byteLength&&t[e]!==i;){for(;255===t[e];)o+=255,e++;for(o+=t[e++];255===t[e];)a+=255,e++;if(a+=t[e++],!r.payload&&o===n){r.payloadType=o,r.payloadSize=a,r.payload=t.subarray(e,e+a);break}e+=a,o=0,a=0}return r},a=function(t){return 181!==t.payload[0]?null:49!==(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},s=function(t,e){var n,i,r,o,a=[];if(!(64&e[0]))return a;for(i=31&e[0],n=0;n<i;n++)r=3*n,o={type:3&e[r+2],pts:t},4&e[r+2]&&(o.ccData=e[r+3]<<8|e[r+4],a.push(o));return a},l=function(){l.prototype.init.call(this),this.captionPackets_=[],this.field1_=new k,this.field1_.on("data",this.trigger.bind(this,"data")),this.field1_.on("done",this.trigger.bind(this,"done"))};l.prototype=new r,l.prototype.push=function(t){var e,i;"sei_rbsp"===t.nalUnitType&&(e=o(t.escapedRBSP),e.payloadType===n&&(i=a(e),i&&(this.captionPackets_=this.captionPackets_.concat(s(t.pts,i)))))},l.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0,void this.field1_.flush()):void this.field1_.flush()};var c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},u=function(t){return null===t?"":(t=c[t]||t,String.fromCharCode(t))},d=0,h=5152,f=5167,p=5157,m=5158,g=5159,v=5165,y=5153,b=5164,_=5166,w=14,x=function(){for(var t=[],e=w+1;e--;)t.push("");return t},k=function(){k.prototype.init.call(this),this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=x(),this.nonDisplayed_=x(),this.lastControlCode_=null,this.push=function(t){if(0===t.type){var e,n,i,r;if(e=32639&t.ccData,e===this.lastControlCode_)return void(this.lastControlCode_=null);switch(4096===(61440&e)?this.lastControlCode_=e:this.lastControlCode_=null,e){case d:break;case h:this.mode_="popOn";break;case f:this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;break;case p:this.topRow_=w-1,this.mode_="rollUp";break;case m:this.topRow_=w-2,this.mode_="rollUp";break;case g:this.topRow_=w-3,this.mode_="rollUp";break;case v:this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;break;case y:"popOn"===this.mode_?this.nonDisplayed_[w]=this.nonDisplayed_[w].slice(0,-1):this.displayed_[w]=this.displayed_[w].slice(0,-1);break;case b:this.flushDisplayed(t.pts),this.displayed_=x();break;case _:this.nonDisplayed_=x();break;default:if(i=e>>>8,r=255&e,i>=16&&i<=23&&r>=64&&r<=127&&(16!==i||r<96)&&(i=32,r=null),(17===i||25===i)&&r>=48&&r<=63&&(i=9834,r=""),16===(240&i))return;this[this.mode_](t.pts,i,r)}}}};k.prototype=new r,k.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).filter(function(t){return t.length}).join("\n");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e})},k.prototype.popOn=function(t,e,n){var i=this.nonDisplayed_[w];i+=u(e),i+=u(n),this.nonDisplayed_[w]=i},k.prototype.rollUp=function(t,e,n){var i=this.displayed_[w];""===i&&(this.flushDisplayed(t),this.startPts_=t),i+=u(e),i+=u(n),this.displayed_[w]=i},k.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.topRow_;t<w;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[w]=""},e.exports={CaptionStream:l,Cea608Stream:k}},{"../utils/stream":83}],74:[function(t,e){"use strict";var n,i,r,o=t("../utils/stream.js"),a=t("./caption-stream"),s=t("./stream-types"),l=t("./timestamp-rollover-stream").TimestampRolloverStream,c=t("./stream-types.js"),u=188,d=71;n=function(){var t=new Uint8Array(u),e=0;n.prototype.init.call(this),this.push=function(n){var i,r=0,o=u;for(e?(i=new Uint8Array(n.byteLength+e),i.set(t.subarray(0,e)),i.set(n,e),e=0):i=n;o<i.byteLength;)i[r]!==d||i[o]!==d?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=u,o+=u);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){e===u&&t[0]===d&&(this.trigger("data",t),e=0),this.trigger("done")}},n.prototype=new o,i=function(){var t,e,n,r;i.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],r.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=r.pmtPid;
},n=function(t,e){var n,i,o,a;if(1&t[5]){for(r.programMapTable={},n=(15&t[1])<<8|t[2],i=3+n-4,o=(15&t[10])<<8|t[11],a=12+o;a<i;)r.programMapTable[(31&t[a+1])<<8|t[a+2]]=t[a],a+=((15&t[a+3])<<8|t[a+4])+5;for(e.programMapTable=r.programMapTable;r.packetsWaitingForPmt.length;)r.processPes_.apply(r,r.packetsWaitingForPmt.shift())}},this.push=function(e){var n={},i=4;n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid?(n.type="pat",t(e.subarray(i),n),this.trigger("data",n)):n.pid===this.pmtPid?(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n)):void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.streamType=this.programMapTable[n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}},i.prototype=new o,i.STREAM_TYPES={h264:27,adts:15},r=function(){var t=this,e={data:[],size:0},n={data:[],size:0},i={data:[],size:0},o=function(t,e){var n;e.dataAlignmentIndicator=0!==(4&t[6]),n=t[7],192&n&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},a=function(e,n){var i,r=new Uint8Array(e.size),a={type:n},s=0;if(e.data.length){for(a.trackId=e.data[0].pid;e.data.length;)i=e.data.shift(),r.set(i.data,s),s+=i.data.byteLength;o(r,a),e.size=0,t.trigger("data",a)}};r.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var t,o;switch(r.streamType){case s.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:t=e,o="video";break;case s.ADTS_STREAM_TYPE:t=n,o="audio";break;case s.METADATA_STREAM_TYPE:t=i,o="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&a(t,o),t.data.push(r),t.size+=r.data.byteLength},pmt:function(){var e,n,i={type:"metadata",tracks:[]},o=r.programMapTable;for(e in o)o.hasOwnProperty(e)&&(n={timelineStartInfo:{baseMediaDecodeTime:0}},n.id=+e,o[e]===c.H264_STREAM_TYPE?(n.codec="avc",n.type="video"):o[e]===c.ADTS_STREAM_TYPE&&(n.codec="adts",n.type="audio"),i.tracks.push(n));t.trigger("data",i)}})[r.type]()},this.flush=function(){a(e,"video"),a(n,"audio"),a(i,"timed-metadata"),this.trigger("done")}},r.prototype=new o;var h={PAT_PID:0,MP2T_PACKET_LENGTH:u,TransportPacketStream:n,TransportParseStream:i,ElementaryStream:r,TimestampRolloverStream:l,CaptionStream:a.CaptionStream,Cea608Stream:a.Cea608Stream,MetadataStream:t("./metadata-stream")};for(var f in s)s.hasOwnProperty(f)&&(h[f]=s[f]);e.exports=h},{"../utils/stream.js":83,"./caption-stream":73,"./metadata-stream":75,"./stream-types":76,"./stream-types.js":76,"./timestamp-rollover-stream":77}],75:[function(t,e){"use strict";var n,i=t("../utils/stream"),r=t("./stream-types"),o=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},a=function(t,e,n){return decodeURIComponent(o(t,e,n))},s=function(t,e,n){return unescape(o(t,e,n))},l=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},c={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=a(t.data,1,e),t.value=a(t.data,e+1,t.data.length-1);break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=a(t.data,1,e),t.url=a(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=s(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};n=function(t){var e,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},o=0,a=[],s=0;if(n.prototype.init.call(this),this.dispatchType=r.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,n,r,u,d,h;if("timed-metadata"===t.type){if(t.dataAlignmentIndicator&&(s=0,a.length=0),0===a.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))return void(i.debug&&console.log("Skipping unrecognized metadata packet"));if(a.push(t),s+=t.data.byteLength,1===a.length&&(o=l(t.data.subarray(6,10)),o+=10),!(s<o)){for(e={data:new Uint8Array(o),frames:[],pts:a[0].pts,dts:a[0].dts},d=0;d<o;)e.data.set(a[0].data.subarray(0,o-d),d),d+=a[0].data.byteLength,s-=a[0].data.byteLength,a.shift();n=10,64&e.data[5]&&(n+=4,n+=l(e.data.subarray(10,14)),o-=l(e.data.subarray(16,20)));do{if(r=l(e.data.subarray(n+4,n+8)),r<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(h=String.fromCharCode(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),u={id:h,data:e.data.subarray(n+10,n+r+10)},u.key=u.id,c[u.id]&&(c[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var f=u.data,p=(1&f[3])<<30|f[4]<<22|f[5]<<14|f[6]<<6|f[7]>>>2;p*=4,p+=3&f[7],u.timeStamp=p,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),n+=10,n+=r}while(n<o);this.trigger("data",e)}}}},n.prototype=new i,e.exports=n},{"../utils/stream":83,"./stream-types":76}],76:[function(t,e){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],77:[function(t,e){"use strict";var n=t("../utils/stream"),i=8589934592,r=4294967296,o=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>r;)t+=n*i;return t},a=function(t){var e,n;a.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=o(t.dts,n),t.pts=o(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")}};a.prototype=new n,e.exports={TimestampRolloverStream:a,handleRollover:o}},{"../utils/stream":83}],78:[function(t,e){e.exports={generator:t("./mp4-generator"),Transmuxer:t("./transmuxer").Transmuxer,AudioSegmentStream:t("./transmuxer").AudioSegmentStream,VideoSegmentStream:t("./transmuxer").VideoSegmentStream}},{"./mp4-generator":79,"./transmuxer":81}],79:[function(t,e){"use strict";var n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,_,w,x,k,C,T,S,E,O,A,M,P,D,j,N,L,I,R,B=Math.pow(2,32)-1;!function(){var t;if(C={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in C)C.hasOwnProperty(t)&&(C[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),M={video:O,audio:A},j=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0]),N=new Uint8Array([0,0,0,0,0,0,0,0]),L=N,I=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R=N,P=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(t){var e,n,i,r=[],o=0;for(e=1;e<arguments.length;e++)r.push(arguments[e]);for(e=r.length;e--;)o+=r[e].byteLength;for(n=new Uint8Array(o+8),i=new DataView(n.buffer,n.byteOffset,n.byteLength),i.setUint32(0,n.byteLength),n.set(t,4),e=0,o=8;e<r.length;e++)n.set(r[e],o),o+=r[e].byteLength;return n},i=function(){return n(C.dinf,n(C.dref,j))},r=function(t){return n(C.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},o=function(){return n(C.ftyp,T,S,T,E)},v=function(t){return n(C.hdlr,M[t])},a=function(t){return n(C.mdat,t)},g=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),n(C.mdhd,e)},m=function(t){return n(C.mdia,g(t),v(t.type),l(t))},s=function(t){return n(C.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},l=function(t){return n(C.minf,"video"===t.type?n(C.vmhd,P):n(C.smhd,D),i(),b(t))},c=function(t,e){for(var i=[],r=e.length;r--;)i[r]=w(e[r]);return n.apply(null,[C.moof,s(t)].concat(i))},u=function(t){for(var e=t.length,i=[];e--;)i[e]=f(t[e]);return n.apply(null,[C.moov,h(4294967295)].concat(i).concat(d(t)))},d=function(t){for(var e=t.length,i=[];e--;)i[e]=x(t[e]);return n.apply(null,[C.mvex].concat(i))},h=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(C.mvhd,e)},y=function(t){var e,i,r=t.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)e=r[i].flags,o[i+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return n(C.sdtp,o)},b=function(t){return n(C.stbl,_(t),n(C.stts,R),n(C.stsc,L),n(C.stsz,I),n(C.stco,N))},function(){var t,e;_=function(i){return n(C.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===i.type?t(i):e(i))},t=function(t){var e,i=t.sps||[],r=t.pps||[],o=[],a=[];for(e=0;e<i.length;e++)o.push((65280&i[e].byteLength)>>>8),o.push(255&i[e].byteLength),o=o.concat(Array.prototype.slice.call(i[e]));for(e=0;e<r.length;e++)a.push((65280&r[e].byteLength)>>>8),a.push(255&r[e].byteLength),a=a.concat(Array.prototype.slice.call(r[e]));return n(C.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(C.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([i.length]).concat(o).concat([r.length]).concat(a))),n(C.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},e=function(t){return n(C.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))}}(),p=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return n(C.tkhd,e)},w=function(t){var e,i,r,o,a,s,l;return e=n(C.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(t.baseMediaDecodeTime/(B+1)),l=Math.floor(t.baseMediaDecodeTime%(B+1)),i=n(C.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,l>>>24&255,l>>>16&255,l>>>8&255,255&l])),a=92,"audio"===t.type?(r=k(t,a),n(C.traf,e,i,r)):(o=y(t),r=k(t,o.length+a),n(C.traf,e,i,r,o))},f=function(t){return t.duration=t.duration||4294967295,n(C.trak,p(t),m(t))},x=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),n(C.trex,e)},function(){var t,e,i;i=function(t,e){var n=0,i=0,r=0,o=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},e=function(t,e){var r,o,a,s;for(o=t.samples||[],e+=20+16*o.length,r=i(o,e),s=0;s<o.length;s++)a=o[s],r=r.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return n(C.trun,new Uint8Array(r))},t=function(t,e){var r,o,a,s;for(o=t.samples||[],e+=20+8*o.length,r=i(o,e),s=0;s<o.length;s++)a=o[s],r=r.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return n(C.trun,new Uint8Array(r))},k=function(n,i){return"audio"===n.type?t(n,i):e(n,i)}}(),e.exports={ftyp:o,mdat:a,moof:c,moov:u,initSegment:function(t){var e,n=o(),i=u(t);return e=new Uint8Array(n.byteLength+i.byteLength),e.set(n),e.set(i,n.byteLength),e}}},{}],80:[function(t,e){"use strict";var n,i,r,o;n=function(t,e){var r,o,a,s,l,c=[];if(!e.length)return null;for(r=0;r<t.byteLength;)o=t[r]<<24,o|=t[r+1]<<16,o|=t[r+2]<<8,o|=t[r+3],a=i(t.subarray(r+4,r+8)),s=o>1?r+o:t.byteLength,a===e[0]&&(1===e.length?c.push(t.subarray(r+8,s)):(l=n(t.subarray(r+8,s),e.slice(1)),l.length&&(c=c.concat(l)))),r=s;return c},i=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},r=function(t){var e={},i=n(t,["moov","trak"]);return i.reduce(function(t,e){var i,r,o,a,s;return(i=n(e,["tkhd"])[0])?(r=i[0],o=0===r?12:20,a=i[o]<<24|i[o+1]<<16|i[o+2]<<8|i[o+3],(s=n(e,["mdia","mdhd"])[0])?(r=s[0],o=0===r?12:20,t[a]=s[o]<<24|s[o+1]<<16|s[o+2]<<8|s[o+3],t):null):null},e)},o=function(t,e){var i,r,o;return i=n(e,["moof","traf"]),r=[].concat.apply([],i.map(function(e){return n(e,["tfhd"]).map(function(i){var r,o,a;return r=i[4]<<24|i[5]<<16|i[6]<<8|i[7],o=t[r]||9e4,a=n(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=t[4]<<24|t[5]<<16|t[6]<<8|t[7],1===e&&(n*=Math.pow(2,32),n+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),n})[0],a=a||1/0,a/o})})),o=Math.min.apply(null,r),isFinite(o)?o:0},e.exports={parseType:i,timescale:r,startTime:o}},{}],81:[function(t,e){"use strict";var n,i,r,o,a,s,l,c,u,d,h,f=t("../utils/stream.js"),p=t("./mp4-generator.js"),m=t("../m2ts/m2ts.js"),g=t("../codecs/adts.js"),v=t("../codecs/h264").H264Stream,y=t("../aac"),b=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],_=["width","height","profileIdc","levelIdc","profileCompatibility"];a=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},s=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},d=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},h=function(t){var e,n,i=0;for(e=0;e<t.length;e++)n=t[e],i+=n.data.byteLength;return i},i=function(t){var e=[],n=0,r=0;i.prototype.init.call(this),this.push=function(n){l(t,n),t&&b.forEach(function(e){t[e]=n[e]}),e.push(n)},this.setEarliestDts=function(e){r=e-t.timelineStartInfo.baseMediaDecodeTime},this.flush=function(){var i,r,o,a;return 0===e.length?void this.trigger("done","AudioSegmentStream"):(i=this.trimAdtsFramesByEarliestDts_(e),t.samples=this.generateSampleTable_(i),o=p.mdat(this.concatenateFrameData_(i)),e=[],u(t),r=p.moof(n,[t]),a=new Uint8Array(r.byteLength+o.byteLength),n++,a.set(r),a.set(o,r.byteLength),c(t),this.trigger("data",{track:t,boxes:a}),void this.trigger("done","AudioSegmentStream"))},this.trimAdtsFramesByEarliestDts_=function(e){return t.minSegmentDts>=r?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=r&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(t){var e,n,i=0,r=new Uint8Array(h(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}},i.prototype=new f,n=function(t){var e,i,r=0,o=[];n.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(n){l(t,n),"seq_parameter_set_rbsp"!==n.nalUnitType||e||(e=n.config,t.sps=[n.data],_.forEach(function(n){t[n]=e[n]},this)),"pic_parameter_set_rbsp"!==n.nalUnitType||i||(i=n.data,t.pps=[n.data]),o.push(n)},this.flush=function(){for(var e,n,i,a,s,c;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();return 0===o.length?(this.resetStream_(),void this.trigger("done","VideoSegmentStream")):(e=this.groupNalsIntoFrames_(o),i=this.groupFramesIntoGops_(e),i[0][0].keyFrame||(n=this.getGopForFusion_(o[0],t),n?(i.unshift(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.pts=n.pts,i.dts=n.dts,i.duration+=n.duration):i=this.extendFirstKeyFrame_(i)),l(t,i),t.samples=this.generateSampleTable_(i),s=p.mdat(this.concatenateNalData_(i)),this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],u(t),this.trigger("timelineStartInfo",t.timelineStartInfo),a=p.moof(r,[t]),c=new Uint8Array(a.byteLength+s.byteLength),r++,c.set(a),c.set(s,a.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),void this.trigger("done","VideoSegmentStream"))},this.resetStream_=function(){c(t),e=void 0,i=void 0},this.getGopForFusion_=function(e){var n,i,r,o,a,s=45e3,l=1e4,c=1/0;for(a=0;a<this.gopCache_.length;a++)o=this.gopCache_[a],r=o.gop,t.pps&&d(t.pps[0],o.pps[0])&&t.sps&&d(t.sps[0],o.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration,n>=-l&&n<=s&&(!i||c>n)&&(i=o,c=n)));return i?i.gop:null},this.extendFirstKeyFrame_=function(t){var e;return t[0][0].keyFrame||(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},this.groupNalsIntoFrames_=function(t){var e,n,i=[],r=[];for(i.byteLength=0,e=0;e<t.length;e++)n=t[e],"access_unit_delimiter_rbsp"===n.nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),i=[n],i.byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},this.groupFramesIntoGops_=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)n=t[e],n.keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),i=[n],i.nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},this.generateSampleTable_=function(t,e){var n,i,r,o,s,l=e||0,c=[];for(n=0;n<t.length;n++)for(o=t[n],i=0;i<o.length;i++)s=o[i],r=a(),r.dataOffset=l,r.compositionTimeOffset=s.pts-s.dts,r.duration=s.duration,r.size=4*s.length,r.size+=s.byteLength,s.keyFrame&&(r.flags.dependsOn=2),l+=r.size,c.push(r);return c},this.concatenateNalData_=function(t){var e,n,i,r,o,a,s=0,l=t.byteLength,c=t.nalCount,u=l+4*c,d=new Uint8Array(u),h=new DataView(d.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],h.setUint32(s,a.data.byteLength),s+=4,d.set(a.data,s),s+=a.data.byteLength;return d}},n.prototype=new f,l=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},c=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},u=function(t){var e,n=9e4,i=t.minSegmentDts-t.timelineStartInfo.dts,r=t.minSegmentPts-t.minSegmentDts;t.baseMediaDecodeTime=t.timelineStartInfo.baseMediaDecodeTime,t.baseMediaDecodeTime+=i,t.baseMediaDecodeTime-=r,t.baseMediaDecodeTime=Math.max(0,t.baseMediaDecodeTime),"audio"===t.type&&(e=t.samplerate/n,t.baseMediaDecodeTime*=e,t.baseMediaDecodeTime=Math.floor(t.baseMediaDecodeTime))},o=function(t,e){this.numberOfTracks=0,this.metadataStream=e,"undefined"!=typeof t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}},o.prototype=new f,o.prototype.flush=function(t){var e,n,i,r,o=0,a={captions:[],metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,_.forEach(function(t){a.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,b.forEach(function(t){a.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=p.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)e=this.pendingCaptions[r],e.startTime=e.startPts-s,e.startTime/=9e4,e.endTime=e.endPts-s,e.endTime/=9e4,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)n=this.pendingMetadata[r],n.cueTime=n.pts-s,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},r=function(t){var e,a,l=this,u=!0;r.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new m.MetadataStream,e.aacStream=new y,e.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),e.adtsStream=new g,e.coalesceStream=new o(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:l.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new i(a),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new m.MetadataStream,r.packetStream=new m.TransportPacketStream,r.parseStream=new m.TransportParseStream,r.elementaryStream=new m.ElementaryStream,r.videoTimestampRolloverStream=new m.TimestampRolloverStream("video"),r.audioTimestampRolloverStream=new m.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new m.TimestampRolloverStream("timed-metadata"),r.adtsStream=new g,r.h264Stream=new v,r.captionStream=new m.CaptionStream,r.coalesceStream=new o(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(t){var o;if("metadata"===t.type){for(o=t.tracks.length;o--;)e||"video"!==t.tracks[o].type?a||"audio"!==t.tracks[o].type||(a=t.tracks[o],a.timelineStartInfo.baseMediaDecodeTime=l.baseMediaDecodeTime):(e=t.tracks[o],e.timelineStartInfo.baseMediaDecodeTime=l.baseMediaDecodeTime);e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new n(e),r.videoSegmentStream.on("timelineStartInfo",function(t){a&&(a.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts))}),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),a&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new i(a),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var n=this.transmuxPipeline_;this.baseMediaDecodeTime=t,a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,c(a),a.timelineStartInfo.baseMediaDecodeTime=t),e&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,c(e),e.timelineStartInfo.baseMediaDecodeTime=t)},this.push=function(t){if(u){var e=s(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),u=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){u=!0,this.transmuxPipeline_.headOfPipeline.flush()}},r.prototype=new f,e.exports={Transmuxer:r,VideoSegmentStream:n,AudioSegmentStream:i,AUDIO_PROPERTIES:b,VIDEO_PROPERTIES:_}},{"../aac":67,"../codecs/adts.js":68,"../codecs/h264":69,"../m2ts/m2ts.js":74,"../utils/stream.js":83,"./mp4-generator.js":79}],82:[function(t,e){"use strict";var n;n=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,o=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");o.set(t.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,e-=a},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,r=Math.floor(t/8),t-=8*r,e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),o=n>>>32-r;return i-=r,i>0?n<<=r:e>0&&this.loadWord(),r=t-r,r>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!==(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=n},{}],83:[function(t,e){"use strict";var n=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,o;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){t={}}}};n.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},n.prototype.push=function(t){this.trigger("data",t)},n.prototype.flush=function(t){this.trigger("done",t)},e.exports=n},{}],84:[function(t,e,n){(function(i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("global/window"),a=r(o),s="undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null,l=r(s),c=function(t){Object.defineProperties(t.frame,{id:{get:function(){return l["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return l["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return l["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},u=function(t){var e=void 0;return e=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t},d=function(t,e,n){var i=a["default"].WebKitDataCue||a["default"].VTTCue;if(e&&e.forEach(function(t){this.inbandTextTrack_.addCue(new i(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n){var r=u(t.mediaSource_.duration);if(n.forEach(function(t){var e=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var n=new i(e,e,t.value||t.url||t.data||"");n.frame=t,n.value=t,c(n),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues){for(var o=t.metadataTrack_.cues,s=[],l=0;l<o.length;l++)s.push(o[l]);s.sort(function(t,e){return t.startTime-e.startTime});for(var d=0;d<s.length-1;d++)s[d].endTime!==s[d+1].startTime&&(s[d].endTime=s[d+1].startTime);s[s.length-1].endTime=r}}};n["default"]={addTextTrackData:d,durationOfVideo:u},e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":25}],85:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){return/mp4a\.\d+.\d+/i.test(t)},r=function(t){return/avc1\.[\da-f]+/i.test(t)},o=function(t){var e={type:"",parameters:{}},n=t.trim().split(";");return e.type=n.shift().trim(),n.forEach(function(t){var n=t.trim().split("=");if(n.length>1){var i=n[0].replace(/"/g,"").trim(),r=n[1].replace(/"/g,"").trim();e.parameters[i]=r}}),e};n["default"]={isAudioCodec:i,parseContentType:o,isVideoCodec:r},e.exports=n["default"]},{}],86:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e,n){n.captions&&n.captions.length&&!t.inbandTextTrack_&&(t.inbandTextTrack_=e.player_.addTextTrack("captions","cc1")),n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=e.player_.addTextTrack("metadata","Timed Metadata"),t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};n["default"]=i,e.exports=n["default"]},{}],87:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={TIME_BETWEEN_TICKS:Math.floor(2),TIME_PER_TICK:Math.floor(10),BYTES_PER_CHUNK:4096,MIN_CHUNK:4096,MAX_CHUNK:4194304};n["default"]=i,e.exports=n["default"]},{}],88:[function(t,e,n){(function(i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},c=t("global/document"),u=r(c),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null,h=r(d),f=t("./flash-source-buffer"),p=r(f),m=t("./flash-constants"),g=r(m),v=t("./codec-utils"),y=function(t){function e(){var t=this;o(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(e){t.swfObj=u["default"].getElementById(e.swfId),t.player_=(0,h["default"])(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),t.swfObj&&t.swfObj.vjs_load()})}return a(e,t),s(e,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(t){var e=(0,v.parseContentType)(t),n=void 0;if("video/mp2t"!==e.type)throw new Error("NotSupportedError (Video.js)");return n=new p["default"](this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function(t){"network"===t?this.tech_.error(2):"decode"===t&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),e}(h["default"].EventTarget);n["default"]=y;try{Object.defineProperty(y.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(t){var e=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",t),t<n)for(e=0;e<this.sourceBuffers.length;e++)this.sourceBuffers[e].remove(t,n);return t}})}catch(t){y.prototype.duration=NaN}for(var b in g["default"])y[b]=g["default"][b];e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./codec-utils":85,"./flash-constants":87,"./flash-source-buffer":89,"global/document":24}],89:[function(t,e,n){(function(i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},c=t("global/window"),u=r(c),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null,h=r(d),f=t("mux.js/lib/flv"),p=r(f),m=t("./remove-cues-from-track"),g=r(m),v=t("./create-text-tracks-if-necessary"),y=r(v),b=t("./add-text-track-data"),_=t("./flash-constants"),w=r(_),x=function(t){u["default"].setTimeout(t,w["default"].TIME_BETWEEN_TICKS)},k=function(t,e){("number"!=typeof e||e<0)&&(e=0);var n=Math.pow(10,e);return Math.round(t*n)/n},C=function(t){function e(t){var n=this;o(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var i=void 0;this.chunkSize_=w["default"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=t,this.updating=!1,this.timestampOffset_=0,this.segmentParser_=new p["default"].Transmuxer,this.segmentParser_.on("data",this.receiveBuffer_.bind(this)),i=u["default"].btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(this.segmentParser_.getFlvHeader()))),this.mediaSource_.swfObj.vjs_appendBuffer(i),this.one("updateend",function(){n.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.segmentParser_=new p["default"].Transmuxer,this.segmentParser_.on("data",this.receiveBuffer_.bind(this)),this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN)}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return h["default"].createTimeRange();var t=this.mediaSource_.swfObj.vjs_getProperty("buffered");return t&&t.length&&(t[0][0]=k(t[0][0],3),t[0][1]=k(t[0][1],3)),h["default"].createTimeRanges(t)}}),this.mediaSource_.player_.on("seeked",function(){(0,g["default"])(0,1/0,n.metadataTrack_),(0,g["default"])(0,1/0,n.inbandTextTrack_)})}return a(e,t),s(e,[{key:"appendBuffer",value:function(t){var e=this,n=void 0,i=524288,r=0;if(this.updating)throw n=new Error("SourceBuffer.append() cannot be called while an update is in progress"),n.name="InvalidStateError",n.code=11,n;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"});var o=function n(){e.segmentParser_.push(t.subarray(r,r+i)),r+=i,x(r<t.byteLength?n:e.segmentParser_.flush.bind(e.segmentParser_))};o()}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(t,e){(0,g["default"])(t,e,this.metadataTrack_),(0,g["default"])(t,e,this.inbandTextTrack_),this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(t){var e=this;(0,y["default"])(this,this.mediaSource_,t),(0,b.addTextTrackData)(this,t.captions,t.metadata),x(function(){var n=e.convertTagsToData_(t);0===e.buffer_.length&&x(e.processBuffer_.bind(e)),n&&(e.buffer_.push(n),e.bufferSize_+=n.byteLength)})}},{key:"processBuffer_",value:function(){var t=void 0,e=void 0,n=void 0,i=void 0,r=void 0,o=0,a=0,s=+new Date,l=void 0;if(!this.buffer_.length)return void(this.updating!==!1&&(this.updating=!1,this.trigger({type:"updateend"})));do{for(a++,t=this.buffer_[0].subarray(o,o+this.chunkSize_),t.byteLength<this.chunkSize_||this.buffer_[0].byteLength===o+this.chunkSize_?(o=0,this.buffer_.shift()):o+=this.chunkSize_,this.bufferSize_-=t.byteLength,i="",n=t.byteLength,e=0;e<n;e++)i+=String.fromCharCode(t[e]);r=u["default"].btoa(i),this.mediaSource_.swfObj.CallFunction('<invoke name="vjs_appendBuffer"returntype="javascript"><arguments><string>'+r+"</string></arguments></invoke>"),l=new Date-s}while(this.buffer_.length&&l<w["default"].TIME_PER_TICK);this.buffer_.length&&o&&(this.buffer_[0]=this.buffer_[0].subarray(o)),l>=w["default"].TIME_PER_TICK&&(this.chunkSize_=Math.floor(this.chunkSize_*(a/4))),this.chunkSize_=Math.max(w["default"].MIN_CHUNK,Math.min(this.chunkSize_,w["default"].MAX_CHUNK)),0!==this.bufferSize_?x(this.processBuffer_.bind(this)):(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(t){var e=0,n=this.mediaSource_.tech_,i=0,r=void 0,o=void 0,a=void 0,s=[],l=this.getOrderedTags_(t);for(isNaN(this.basePtsOffset_)&&l.length&&(this.basePtsOffset_=l[0].pts),n.seeking()&&(i=Math.max(i,n.currentTime()-this.timestampOffset)),i*=1e3,i+=this.basePtsOffset_,r=0;r<l.length;r++)l[r].pts>=i&&s.push(l[r]);if(0!==s.length){for(r=0;r<s.length;r++)e+=s[r].bytes.byteLength;for(a=new Uint8Array(e),r=0,o=0;r<s.length;r++)a.set(s[r].bytes,o),o+=s[r].bytes.byteLength;return a}}},{key:"getOrderedTags_",value:function(t){for(var e=t.tags.videoTags,n=t.tags.audioTags,i=void 0,r=[];e.length||n.length;)i=e.length?n.length&&n[0].dts<e[0].dts?n.shift():e.shift():n.shift(),r.push(i.finalize());return r}}]),e}(h["default"].EventTarget);n["default"]=C,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":84,"./create-text-tracks-if-necessary":86,"./flash-constants":87,"./remove-cues-from-track":91,"global/window":25,"mux.js/lib/flv":71}],90:[function(t,e,n){(function(i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},c=t("global/window"),u=r(c),d=t("global/document"),h=r(d),f="undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null,p=r(f),m=t("./virtual-source-buffer"),g=r(m),v=t("./add-text-track-data"),y=t("./codec-utils"),b=function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){var i=("00"+Number(e).toString(16)).slice(-2),r=("00"+Number(n).toString(16)).slice(-2);return"avc1."+i+"00"+r})})},_=function(t){function e(){var t=this;o(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var n=void 0;this.nativeMediaSource_=new u["default"].MediaSource;for(n in this.nativeMediaSource_)n in e.prototype||"function"!=typeof this.nativeMediaSource_[n]||(this[n]=this.nativeMediaSource_[n].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){if(this.duration_=t,t!==1/0)return void(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?p["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){t.activeSourceBuffers_.length=0;for(var e=!1,n=!0,i=0;i<t.player_.audioTracks().length;i++){var r=t.player_.audioTracks()[i];if(r.enabled&&"main"!==r.kind){e=!0,n=!1;break}}t.sourceBuffers.forEach(function(i){if(i.appendAudioInitSegment_=!0,i.videoCodec_&&i.audioCodec_)i.audioDisabled_=e;else if(i.videoCodec_&&!i.audioCodec_)i.audioDisabled_=!0,n=!1;else if(!i.videoCodec_&&i.audioCodec_&&(i.audioDisabled_=n,n))return;t.activeSourceBuffers_.push(i)})},this.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},this),this.on("sourceopen",function(){var e=h["default"].querySelector('[src="'+t.url_+'"]');e&&(t.player_=(0,p["default"])(e.parentNode),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_))}),this.on("sourceended",function(){for(var e=(0,v.durationOfVideo)(t.duration),n=0;n<t.sourceBuffers.length;n++){var i=t.sourceBuffers[n],r=i.metadataTrack_&&i.metadataTrack_.cues;r&&(r[r.length-1].endTime=e)}}),this.on("sourceclose",function(){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.off("mediachange",this.onPlayerMediachange_))})}return a(e,t),s(e,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,n=(0,y.parseContentType)(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=b(i),i=i.filter(function(t){return(0,y.isAudioCodec)(t)||(0,y.isVideoCodec)(t)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),e=new g["default"](this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}(p["default"].EventTarget);n["default"]=_,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":84,"./codec-utils":85,"./virtual-source-buffer":94,"global/document":24,"global/window":25}],91:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e,n){var i=void 0,r=void 0;if(n)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime<=e&&r.endTime>=t&&n.removeCue(r)};n["default"]=i,e.exports=n["default"]},{}],92:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("global/window"),s=i(a),l=t("mux.js/lib/mp4"),c=i(l),u=function(t){t.on("data",function(t){var e=t.initSegment;t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength};var n=t.data;t.data=n.buffer,s["default"].postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){s["default"].postMessage({action:"caption",data:t})}),t.on("done",function(){s["default"].postMessage({action:"done"})})},d=function(){function t(e){r(this,t),this.options=e||{},this.init()}return o(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new c["default"].Transmuxer(this.options),u(this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"flush",value:function(){this.transmuxer.flush()}}]),t}(),h=function(t){t.onmessage=function(t){return"init"===t.data.action&&t.data.options?void(this.messageHandlers=new d(t.data.options)):(this.messageHandlers||(this.messageHandlers=new d),void(t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data)))}};n["default"]=function(t){return new h(t)},e.exports=n["default"]},{"global/window":25,"mux.js/lib/mp4":78}],93:[function(t,e,n){(function(e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r=t("global/window"),o=i(r),a=t("./flash-media-source"),s=i(a),l=t("./html-media-source"),c=i(l),u="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,d=i(u),h=0,f={mode:"auto"};d["default"].mediaSources={};var p=function(t,e){var n=d["default"].mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})},m=function(){return!!o["default"].MediaSource&&!!o["default"].MediaSource.isTypeSupported&&o["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},g=function(t){var e=d["default"].mergeOptions(f,t);return this.MediaSource={open:p,supportsNativeMediaSources:m},"html5"===e.mode||"auto"===e.mode&&m()?new c["default"]:new s["default"]};n.MediaSource=g,g.open=p,g.supportsNativeMediaSources=m;var v={createObjectURL:function(t){var e="blob:vjs-media-source/",n=void 0;return t instanceof c["default"]?(n=o["default"].URL.createObjectURL(t.nativeMediaSource_),t.url_=n,n):t instanceof s["default"]?(n=e+h,h++,d["default"].mediaSources[n]=t,n):(n=o["default"].URL.createObjectURL(t),t.url_=n,n)}};n.URL=v,d["default"].MediaSource=g,d["default"].URL=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./flash-media-source":88,"./html-media-source":90,"global/window":25}],94:[function(t,e,n){(function(i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},c="undefined"!=typeof window?window.videojs:"undefined"!=typeof i?i.videojs:null,u=r(c),d=t("./create-text-tracks-if-necessary"),h=r(d),f=t("./remove-cues-from-track"),p=r(f),m=t("./add-text-track-data"),g=t("webworkify"),v=r(g),y=t("./transmuxer-worker"),b=r(y),_=t("./codec-utils"),w=function(t){function e(t,n){var i=this;o(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,u["default"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=t,this.codecs_=n,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0;var r={remux:!1};this.codecs_.forEach(function(t){(0,_.isAudioCodec)(t)?i.audioCodec_=t:(0,_.isVideoCodec)(t)&&(i.videoCodec_=t)}),this.transmuxer_=(0,v["default"])(b["default"]),this.transmuxer_.postMessage({action:"init",options:r}),this.transmuxer_.onmessage=function(t){return"data"===t.data.action?i.data_(t):"done"===t.data.action?i.done_(t):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var t=null,e=null,n=0,i=[],r=[];if(!this.videoBuffer_&&!this.audioBuffer_)return u["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return u["default"].createTimeRange();for(var o=this.videoBuffer_.buffered,a=this.audioBuffer_.buffered,s=o.length;s--;)i.push({time:o.start(s),type:"start"}),i.push({time:o.end(s),type:"end"});for(s=a.length;s--;)i.push({time:a.start(s),type:"start"}),i.push({time:a.end(s),type:"end"});for(i.sort(function(t,e){return t.time-e.time}),s=0;s<i.length;s++)"start"===i[s].type?(n++,2===n&&(t=i[s].time)):"end"===i[s].type&&(n--,1===n&&(e=i[s].time)),null!==t&&null!==e&&(r.push([t,e]),t=null,e=null);return u["default"].createTimeRanges(r)}})}return a(e,t),s(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),(0,h["default"])(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(){this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(n){if(t[n+"Codec_"]&&!t[n+"Buffer_"]){var i=null;t.mediaSource_[n+"Buffer_"]?i=t.mediaSource_[n+"Buffer_"]:(i=t.mediaSource_.nativeMediaSource_.addSourceBuffer(n+'/mp4;codecs="'+t[n+"Codec_"]+'"'),t.mediaSource_[n+"Buffer_"]=i),t[n+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(r){i.addEventListener(r,function(){if("audio"!==n||!t.audioDisabled_){var i=e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(n===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)});return i?t.trigger(r):void 0}})})}})}},{key:"appendBuffer",value:function(t){this.bufferUpdating_=!0,this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"remove",value:function(t,e){this.videoBuffer_&&this.videoBuffer_.remove(t,e),this.audioBuffer_&&this.audioBuffer_.remove(t,e),(0,p["default"])(t,e,this.metadataTrack_),(0,p["default"])(t,e,this.inbandTextTrack_)}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,i=e.data,r=e.initSegment;return t[n].segments.push(i),t[n].bytes+=i.byteLength,t[n].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1),this.videoBuffer_&&(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),(0,m.addTextTrackData)(this,t.captions,t.metadata)),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,i=void 0;t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(function(t){i.set(t,n),n+=t.byteLength}),e.appendBuffer(i))}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(u["default"].EventTarget);n["default"]=w,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":84,"./codec-utils":85,"./create-text-tracks-if-necessary":86,"./remove-cues-from-track":91,"./transmuxer-worker":92,webworkify:95}],95:[function(t,e){var n=arguments[3],i=arguments[4],r=arguments[5],o=JSON.stringify;e.exports=function(t){for(var e,a=Object.keys(r),s=0,l=a.length;s<l;s++){var c=a[s];if(r[c].exports===t){e=c;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var u={},s=0,l=a.length;s<l;s++){var c=a[s];u[c]=c}i[e]=[Function(["require","module","exports"],"("+t+")(self)"),u]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),h={};h[e]=e,i[d]=[Function(["require"],"require("+o(e)+")(self)"),h];var f="("+n+")({"+Object.keys(i).map(function(t){return o(t)+":["+i[t][0]+","+o(i[t][1])+"]"}).join(",")+"},{},["+o(d)+"])",p=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(p.createObjectURL(new Blob([f],{type:"text/javascript"})))}},{}],96:[function(t,e){(function(n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=a,i=!0,s=c=void 0}},l=t("global/document"),c=i(l),u=t("./playlist-loader"),d=i(u),h=t("./playlist"),f=i(h),p=t("./xhr"),m=i(p),g=t("aes-decrypter"),v=t("./bin-utils"),y=i(v),b=t("videojs-contrib-media-sources"),_=t("m3u8-parser"),w=i(_),x="undefined"!=typeof window?window.videojs:"undefined"!=typeof n?n.videojs:null,k=i(x),C=t("./master-playlist-controller"),T=t("./config"),S=i(T),E=t("./rendition-mixin"),O=i(E),A=t("./gap-skipper"),M=i(A),P=t("global/window"),D=i(P),j={PlaylistLoader:d["default"],Playlist:f["default"],Decrypter:g.Decrypter,AsyncStream:g.AsyncStream,decrypt:g.decrypt,utils:y["default"],xhr:(0,m["default"])()};Object.defineProperty(j,"GOAL_BUFFER_LENGTH",{get:function(){return k["default"].log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),S["default"].GOAL_BUFFER_LENGTH},set:function(t){return k["default"].log.warn("using Hls.GOAL_BUFFER_LENGTH is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<=0?void k["default"].log.warn("value passed to Hls.GOAL_BUFFER_LENGTH must be a number and greater than 0"):void(S["default"].GOAL_BUFFER_LENGTH=t)}});var N=1.2,L=function(t,e){var n=void 0;return t?(n=D["default"].getComputedStyle(t),n?n[e]:""):""};j.STANDARD_PLAYLIST_SELECTOR=function(){var t=void 0,e=this.playlists.master.playlists.slice(),n=[],i=+new Date,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0;for(e.sort(j.comparePlaylistBandwidth),e=e.filter(function(t){return"undefined"==typeof t.excludeUntil||i>=t.excludeUntil}),r=e.length;r--;)o=e[r],o.attributes&&o.attributes.BANDWIDTH&&(t=o.attributes.BANDWIDTH*N,t<this.bandwidth&&(n.push(o),a||(a=o)));for(r=n.length,n.sort(j.comparePlaylistResolution),o=null,u=parseInt(L(this.tech_.el(),"width"),10),d=parseInt(L(this.tech_.el(),"height"),10);r--;)if(o=n[r],o.attributes&&o.attributes.RESOLUTION&&o.attributes.RESOLUTION.width&&o.attributes.RESOLUTION.height){var h=o.attributes.RESOLUTION;if(h.width===u&&h.height===d){s=null,c=o;break}if(h.width<u&&h.height<d)break;(!s||h.width<l.width&&h.height<l.height)&&(s=o,l=s.attributes.RESOLUTION)}return s||c||a||e[0]},j.canPlaySource=function(){return k["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},j.supportsNativeHls=function(){var t=c["default"].createElement("video");if(!k["default"].getComponent("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),j.isSupported=function(){return k["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var I=D["default"].navigator&&D["default"].navigator.userAgent||"";j.supportsAudioInfoChange_=function(){if(k["default"].browser.IS_FIREFOX){var t=/Firefox\/([\d.]+)/i.exec(I),e=parseInt(t[1],10);return e>=49}return!0};var R=k["default"].getComponent("Component"),B=function(t){function e(t,n,i){var o=this;if(r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,n),n.options_&&n.options_.playerId){var a=(0,k["default"])(n.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return k["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead."),o}})}this.tech_=n,this.source_=t,this.stats={},this.options_=k["default"].mergeOptions(k["default"].options.hls||{},i.hls),this.setOptions_(),this.on(c["default"],["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(){var t=c["default"].fullscreenElement||c["default"].webkitFullscreenElement||c["default"].mozFullScreenElement||c["default"].msFullscreenElement;t&&t.contains(o.tech_.el())&&o.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.audioTrackChange_=function(){o.masterPlaylistController_.setupAudio()},this.on(this.tech_,"play",this.play)}return o(e,t),a(e,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),["withCredentials","bandwidth"].forEach(function(e){"undefined"!=typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(t){var e=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=j,this.masterPlaylistController_=new C.MasterPlaylistController(this.options_),this.gapSkipper_=new M["default"](this.options_),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):j.STANDARD_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{
selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return e.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return e.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return e.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return e.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("sourceopen",function(){e.tech_.audioTracks().addEventListener("change",e.audioTrackChange_)}),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,O["default"])(e)}),this.masterPlaylistController_.on("audioupdate",function(){e.tech_.clearTracks("audio"),e.masterPlaylistController_.activeAudioGroup().forEach(function(t){e.tech_.audioTracks().addTrack(t)})}),this.on(this.masterPlaylistController_,"progress",function(){this.bandwidth=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,this.tech_.trigger("progress")}),this.tech_.el()&&this.tech_.src(k["default"].URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"activeAudioGroup_",value:function(){return this.masterPlaylistController_.activeAudioGroup()}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.gapSkipper_.dispose(),this.tech_.audioTracks().removeEventListener("change",this.audioTrackChange_),s(Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}}]),e}(R),F=function t(e){return{canHandleSource:function(n){return(!k["default"].options.hls||!k["default"].options.hls.mode||k["default"].options.hls.mode===e)&&t.canPlayType(n.type)},handleSource:function(t,n,i){"flash"===e&&n.setTimeout(function(){n.trigger("loadstart")},1);var r=k["default"].mergeOptions(i,{hls:{mode:e}});return n.hls=new B(t,n,r),n.hls.xhr=(0,m["default"])(),k["default"].Hls.xhr.beforeRequest&&(n.hls.xhr.beforeRequest=k["default"].Hls.xhr.beforeRequest),n.hls.src(t.src),n.hls},canPlayType:function(e){return t.canPlayType(e)?"maybe":""}}};j.comparePlaylistBandwidth=function(t,e){var n=void 0,i=void 0;return t.attributes&&t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||D["default"].Number.MAX_VALUE,e.attributes&&e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||D["default"].Number.MAX_VALUE,n-i},j.comparePlaylistResolution=function(t,e){var n=void 0,i=void 0;return t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||D["default"].Number.MAX_VALUE,e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||D["default"].Number.MAX_VALUE,n===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i},F.canPlayType=function(t){var e=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!j.supportsNativeHls&&e.test(t)},"undefined"!=typeof k["default"].MediaSource&&"undefined"!=typeof k["default"].URL||(k["default"].MediaSource=b.MediaSource,k["default"].URL=b.URL),b.MediaSource.supportsNativeMediaSources()&&k["default"].getComponent("Html5").registerSourceHandler(F("html5")),D["default"].Uint8Array&&k["default"].getComponent("Flash").registerSourceHandler(F("flash")),k["default"].HlsHandler=B,k["default"].HlsSourceHandler=F,k["default"].Hls=j,k["default"].m3u8=w["default"],k["default"].registerComponent("Hls",j),k["default"].options.hls=k["default"].options.hls||{},e.exports={Hls:j,HlsHandler:B,HlsSourceHandler:F}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./gap-skipper":4,"./master-playlist-controller":5,"./playlist":7,"./playlist-loader":6,"./rendition-mixin":9,"./xhr":14,"aes-decrypter":18,"global/document":24,"global/window":25,"m3u8-parser":62,"videojs-contrib-media-sources":93}]},{},[96])(96)}),function(t,e){"function"==typeof define&&define.amd?define(["video.js"],function(n){return t.Youtube=e(n)}):"object"==typeof module&&module.exports?module.exports=t.Youtube=e(require("video.js")):t.Youtube=e(t.videojs)}(this,function(t){"use strict";function e(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}function n(){var t=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)}var i=t.getComponent("Tech"),r=t.extend(i,{constructor:function(t,e){i.call(this,t,e),this.setPoster(t.poster),this.setSrc(this.options_.source,!0),setTimeout(function(){this.el_.parentNode.className+=" vjs-youtube",o&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),r.isApiReady?this.initYTPlayer():r.apiReadyQueue.push(this)}.bind(this))},dispose:function(){this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile","")},createEl:function(){var t=document.createElement("div");t.setAttribute("id",this.options_.techId),t.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute");var e=document.createElement("div");if(e.appendChild(t),!o&&!this.options_.ytControls){var n=document.createElement("div");n.setAttribute("class","vjs-iframe-blocker"),n.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),n.onclick=function(){this.pause()}.bind(this),e.appendChild(n)}return e},initYTPlayer:function(){var t={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};"undefined"!=typeof this.options_.autohide&&(t.autohide=this.options_.autohide),"undefined"!=typeof this.options_.cc_load_policy&&(t.cc_load_policy=this.options_.cc_load_policy),"undefined"!=typeof this.options_.ytControls&&(t.controls=this.options_.ytControls),"undefined"!=typeof this.options_.disablekb&&(t.disablekb=this.options_.disablekb),"undefined"!=typeof this.options_.end&&(t.end=this.options_.end),"undefined"!=typeof this.options_.color&&(t.color=this.options_.color),t.controls?"undefined"!=typeof this.options_.fs&&(t.fs=this.options_.fs):t.fs=0,"undefined"!=typeof this.options_.end&&(t.end=this.options_.end),"undefined"!=typeof this.options_.hl?t.hl=this.options_.hl:"undefined"!=typeof this.options_.language&&(t.hl=this.options_.language.substr(0,2)),"undefined"!=typeof this.options_.iv_load_policy&&(t.iv_load_policy=this.options_.iv_load_policy),"undefined"!=typeof this.options_.list?t.list=this.options_.list:this.url&&"undefined"!=typeof this.url.listId&&(t.list=this.url.listId),"undefined"!=typeof this.options_.listType&&(t.listType=this.options_.listType),"undefined"!=typeof this.options_.modestbranding&&(t.modestbranding=this.options_.modestbranding),"undefined"!=typeof this.options_.playlist&&(t.playlist=this.options_.playlist),"undefined"!=typeof this.options_.playsinline&&(t.playsinline=this.options_.playsinline),"undefined"!=typeof this.options_.rel&&(t.rel=this.options_.rel),"undefined"!=typeof this.options_.showinfo&&(t.showinfo=this.options_.showinfo),"undefined"!=typeof this.options_.start&&(t.start=this.options_.start),"undefined"!=typeof this.options_.theme&&(t.theme=this.options_.theme),this.activeVideoId=this.url?this.url.videoId:null,this.activeList=t.list,this.ytPlayer=new YT.Player(this.options_.techId,{videoId:this.activeVideoId,playerVars:t,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onError:this.onPlayerError.bind(this)}})},onPlayerReady:function(){this.playerReady_=!0,this.triggerReady(),this.playOnReady&&this.play()},onPlayerPlaybackQualityChange:function(){},onPlayerStateChange:function(t){var e=t.data;if(e!==this.lastState&&!this.errorNumber){switch(e){case-1:this.trigger("loadedmetadata"),this.trigger("durationchange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting")}this.lastState=e}},onPlayerError:function(t){this.errorNumber=t.data,this.trigger("error"),this.ytPlayer.stopVideo(),this.ytPlayer.destroy(),this.ytPlayer=null},error:function(){switch(this.errorNumber){case 5:return{code:"Error while trying to play the video"};case 2:case 100:case 150:return{code:"Unable to find the video"};case 101:return{code:"Playback on other Websites has been disabled by the video owner."}}return{code:"YouTube unknown error ("+this.errorNumber+")"}},src:function(t){return t&&(this.setSrc({src:t}),this.options_.autoplay&&!o&&this.play()),this.source},poster:function(){return o?null:this.poster_},setPoster:function(t){this.poster_=t},setSrc:function(t){t&&t.src&&(delete this.errorNumber,this.source=t,this.url=r.parseUrl(t.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.checkHighResPoster()),this.options_.autoplay&&!o&&(this.isReady_?this.play():this.playOnReady=!0))},play:function(){this.url&&this.url.videoId&&(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.ytPlayer.loadVideoById(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))},pause:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()},paused:function(){return!this.ytPlayer||this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(t){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(t,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==t&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState===YT.PlayerState.PAUSED&&this.isSeeking?this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked()):clearInterval(this.checkSeekedInPauseInterval)}.bind(this),250))},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(t){this.ytPlayer&&(this.ytPlayer.setPlaybackRate(t),this.trigger("ratechange"))},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source},ended:function(){return!!this.ytPlayer&&this.lastState===YT.PlayerState.ENDED},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(t){this.ytPlayer&&(this.ytPlayer.setVolume(100*t),this.setTimeout(function(){this.trigger("volumechange")},50))},muted:function(){return!!this.ytPlayer&&this.ytPlayer.isMuted()},setMuted:function(t){this.ytPlayer&&(this.muted(!0),t?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50))},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}};var t=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return{length:this.ytPlayer.getDuration(),start:function(){return 0},end:function(){return t}}},load:function(){},reset:function(){},supportsFullScreen:function(){return!0},checkHighResPoster:function(){var t="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var e=new Image;e.onload=function(){if("naturalHeight"in e){if(e.naturalHeight<=90||e.naturalWidth<=120)return}else if(e.height<=90||e.width<=120)return;this.poster_=t,this.trigger("posterchange")}.bind(this),e.onerror=function(){},e.src=t}catch(t){}}});r.isSupported=function(){return!0},r.canPlaySource=function(t){return"video/youtube"===t.type};var o=/(iPad|iPhone|iPod|Android)/g.test(navigator.userAgent);r.parseUrl=function(t){var e={videoId:null},n=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,i=t.match(n);i&&11===i[2].length&&(e.videoId=i[2]);var r=/[?&]list=([^#\&\?]+)/;return i=t.match(r),i&&i[1]&&(e.listId=i[1]),e},r.apiReadyQueue=[],window.onYouTubeIframeAPIReady=function(){r.isApiReady=!0;for(var t=0;t<r.apiReadyQueue.length;++t)r.apiReadyQueue[t].initYTPlayer()},e(),n(),"undefined"!=typeof t.registerTech?t.registerTech("Youtube",r):t.registerComponent("Youtube",r)}),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e=function(){var e="undefined"==typeof t?window:t,n=e.document,i="http://www.w3.org/2000/svg",r=e.navigator&&e.navigator.userAgent||"",o=n&&n.createElementNS&&!!n.createElementNS(i,"svg").createSVGRect,a=/(edge|msie|trident)/i.test(r)&&!e.opera,s=/Firefox/.test(r),l=s&&parseInt(r.split("Firefox/")[1],10)<4,c=e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.0.3",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:a,isWebKit:/AppleWebKit/.test(r),isFirefox:s,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(r),SVG_NS:i,chartCount:0,seriesTypes:{},symbolSizes:{},svg:o,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]};return c}();!function(t){t.timers=[];var e=t.charts,n=t.doc,i=t.win;t.error=function(e,n){var r=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e;if(n)throw new Error(r);i.console&&console.log(r)},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&r<1)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?n[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(e,n,r){var o=this,a=o.options,s=function(t){return!s.stopped&&o.step(t)},l=i.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){t.timers=t.grep(t.timers,function(t){return t()}),t.timers.length&&l(c)};e===n?(delete a.curAnim[this.prop],a.complete&&0===t.keys(a.curAnim).length&&a.complete()):(this.startTime=+new Date,this.start=e,this.end=n,this.unit=r,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&l(c))},step:function(e){var n,i,r=+new Date,o=this.options,a=this.elem,s=o.complete,l=o.duration,c=o.curAnim;return a.attr&&!a.element?n=!1:e||r>=l+this.startTime?(this.now=this.end,this.pos=1,this.update(),c[this.prop]=!0,i=!0,t.objectEach(c,function(t){t!==!0&&(i=!1)}),i&&s&&s.call(a),n=!1):(this.pos=o.easing((r-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),n=!0),n},initPath:function(e,n,i){function r(t){var e,n;for(d=t.length;d--;)e="M"===t[d]||"L"===t[d],n=/[a-zA-Z]/.test(t[d+3]),e&&n&&t.splice(d+1,0,t[d+1],t[d+2],t[d+1],t[d+2])}function o(t,e,n){[].splice.apply(t,[n,0].concat(e))}function a(t,e){for(;t.length<c;)t[0]=e[c-t.length],o(t,t.slice(0,g),0),b&&(o(t,t.slice(t.length-g),t.length),d--);t[0]="M"}function s(t,e){for(var n=(c-t.length)/g;n>0&&n--;)u=t.slice().splice(t.length/_-g,g*_),u[0]=e[c-g-n*g],m&&(u[g-6]=u[g-2],u[g-5]=u[g-1]),o(t,u,t.length/_),b&&n--}n=n||"";var l,c,u,d,h,f=e.startX,p=e.endX,m=n.indexOf("C")>-1,g=m?7:3,v=n.split(" "),y=i.slice(),b=e.isArea,_=b?2:1;if(m&&(r(v),r(y)),f&&p){for(d=0;d<f.length;d++){if(f[d]===p[0]){l=d;break}if(f[0]===p[p.length-f.length+d]){l=d,h=!0;break}}void 0===l&&(v=[])}return v.length&&t.isNumber(l)&&(c=y.length+l*_*g,h?(a(v,y),s(y,v)):(a(y,v),s(v,y))),[v,y]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},t.merge=function(){var e,n,i=arguments,r={},o=function(e,n){return"object"!=typeof e&&(e={}),t.objectEach(n,function(i,r){!t.isObject(i,!0)||t.isClass(i)||t.isDOMElement(i)?e[r]=n[r]:e[r]=o(e[r]||{},i)}),e};for(i[0]===!0&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;e<n;e++)r=o(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){var e=Object.prototype.toString.call(t);return"[object Array]"===e||"[object Array Iterator]"===e},t.isObject=function(e,n){return!(!e||"object"!=typeof e||n&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||"Object"===n.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,n,i){var r;return t.isString(n)?t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&(r=e.getAttribute(n)):t.defined(n)&&t.isObject(n)&&t.objectEach(n,function(t,n){e.setAttribute(n,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){return e?setTimeout(t,e,n):void t.call(0,n)},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(e=n[t],void 0!==e&&null!==e)return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,i,r,o,a){var s=n.createElement(e),l=t.css;return i&&t.extend(s,i),a&&l(s,{padding:0,border:"none",margin:0}),r&&l(s,r),o&&o.appendChild(s),s},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return new Array((e||2)+1-String(t).length).join(n||0)+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t,e=Array.prototype.slice.call(arguments),r=arguments,o=this;return o.proceed=function(){i.apply(o,arguments.length?arguments:r)},e.unshift(i),t=n.apply(this,e),o.proceed=null,t}},t.getTZOffset=function(e){var n=t.Date;return 6e4*(n.hcGetTimezoneOffset&&n.hcGetTimezoneOffset(e)||n.hcTimezoneOffset||0)},t.dateFormat=function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=t.Date,o=new r(n-t.getTZOffset(n)),a=o[r.hcGetHours](),s=o[r.hcGetDay](),l=o[r.hcGetDate](),c=o[r.hcGetMonth](),u=o[r.hcGetFullYear](),d=t.defaultOptions.lang,h=d.weekdays,f=d.shortWeekdays,p=t.pad,m=t.extend({a:f?f[s]:h[s].substr(0,3),A:h[s],d:p(l),e:p(l,2," "),w:s,b:d.shortMonths[c],B:d.months[c],m:p(c+1),y:u.toString().substr(2,2),Y:u,H:p(a),k:a,I:p(a%12||12),l:a%12||12,M:p(o[r.hcGetMinutes]()),p:a<12?"AM":"PM",P:a<12?"am":"pm",S:p(o.getSeconds()),L:p(Math.round(n%1e3),3)},t.dateFormats);return t.objectEach(m,function(t,i){for(;e.indexOf("%"+i)!==-1;)e=e.replace("%"+i,"function"==typeof t?t(n):t)}),i?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,n){var i,r=/f$/,o=/\.([0-9])/,a=t.defaultOptions.lang;return r.test(e)?(i=e.match(o),i=i?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,a.decimalPoint,e.indexOf(",")>-1?a.thousandsSep:""))):n=t.dateFormat(e,n),n},t.format=function(e,n){for(var i,r,o,a,s,l,c,u="{",d=!1,h=[];e&&(c=e.indexOf(u),c!==-1);){if(i=e.slice(0,c),d){for(r=i.split(":"),o=r.shift().split("."),s=o.length,l=n,a=0;a<s;a++)l&&(l=l[o[a]]);r.length&&(l=t.formatSingle(r.join(":"),l)),h.push(l)}else h.push(i);e=e.slice(c+1),d=!d,u=d?"}":"{"}return h.push(e),h.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,o){var a,s,l=e;for(i=t.pick(i,1),a=e/i,n||(n=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],r===!1&&(1===i?n=t.grep(n,function(t){return t%1===0}):i<=.1&&(n=[1/i]))),s=0;s<n.length&&(l=n[s],!(o&&l*i>=e||!o&&a<=(n[s]+(n[s+1]||n[s]))/2));s++);return l=t.correctFloat(l*i,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,function(t,i){t&&t!==n&&t.destroy&&t.destroy(),delete e[i]})},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){e=+e||0,n=+n;var o,a,s,l,c=t.defaultOptions.lang,u=(e.toString().split(".")[1]||"").split("e")[0].length,d=e.toString().split("e");return n===-1?n=Math.min(u,20):t.isNumber(n)||(n=2),l=(Math.abs(d[1]?d[0]:e)+Math.pow(10,-Math.max(n,u)-1)).toFixed(n),o=String(t.pInt(l)),a=o.length>3?o.length%3:0,i=t.pick(i,c.decimalPoint),r=t.pick(r,c.thousandsSep),s=e<0?"-":"",s+=a?o.substr(0,a)+r:"",s+=o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(s+=i+l.slice(-n)),d[1]&&(s+="e"+d[1]),s},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,r){var o;return"width"===n?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===n?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):(i.getComputedStyle||t.error(27,!0),o=i.getComputedStyle(e,void 0),o&&(o=o.getPropertyValue(n),t.pick(r,"opacity"!==n)&&(o=t.pInt(o))),o)},t.inArray=function(e,n){return(t.indexOfPolyfill||Array.prototype.indexOf).call(n,e)},t.grep=function(e,n){return(t.filterPolyfill||Array.prototype.filter).call(e,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]},t.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,n,i){return(t.reducePolyfill||Array.prototype.reduce).call(e,n,i)},t.offset=function(t){var e=n.documentElement,r=t.parentElement?t.getBoundingClientRect():{top:0,left:0};return{top:r.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var i=t.timers.length;i--;)t.timers[i].elem!==e||n&&n!==t.timers[i].prop||(t.timers[i].stopped=!0)},t.each=function(e,n,i){return(t.forEachPolyfill||Array.prototype.forEach).call(e,n,i)},t.objectEach=function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)},t.addEvent=function(e,n,i){var r,o,a=e.addEventListener||t.addEventListenerPolyfill;return e.hcEvents&&!e.hasOwnProperty("hcEvents")&&(o={},t.objectEach(e.hcEvents,function(t,e){o[e]=t.slice(0)}),e.hcEvents=o),r=e.hcEvents=e.hcEvents||{},a&&a.call(e,n,i,!1),r[n]||(r[n]=[]),r[n].push(i),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function r(n,i){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,n,i,!1)}function o(){var i,o;e.nodeName&&(n?(i={},i[n]=!0):i=l,t.objectEach(i,function(t,e){if(l[e])for(o=l[e].length;o--;)r(e,l[e][o])}))}var a,s,l=e.hcEvents;l&&(n?(a=l[n]||[],i?(s=t.inArray(i,a),s>-1&&(a.splice(s,1),l[n]=a),r(n,i)):(o(),l[n]=[])):(o(),e.hcEvents={}))},t.fireEvent=function(e,i,r,o){var a,s,l,c,u,d=e.hcEvents;if(r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent))a=n.createEvent("Events"),a.initEvent(i,!0,!0),t.extend(a,r),e.dispatchEvent?e.dispatchEvent(a):e.fireEvent(i,a);else if(d)for(s=d[i]||[],l=s.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),c=0;c<l;c++)u=s[c],u&&u.call(e,r)===!1&&r.preventDefault();o&&!r.defaultPrevented&&o(r)},t.animate=function(e,n,i){var r,o,a,s,l="";t.isObject(i)||(s=arguments,i={duration:s[2],easing:s[3],complete:s[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),t.objectEach(n,function(s,c){t.stop(e,c),a=new t.Fx(e,i,c),o=null,"d"===c?(a.paths=a.initPath(e,e.d,n.d),a.toD=n.d,r=0,o=1):e.attr?r=e.attr(c):(r=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=s),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),a.run(r,o,l)})},t.seriesType=function(e,n,i,r,o){var a=t.getOptions(),s=t.seriesTypes;return a.plotOptions[e]=t.merge(a.plotOptions[n],i),s[e]=t.extendClass(s[n]||function(){},r),s[e].prototype.type=e,o&&(s[e].prototype.pointClass=t.extendClass(t.Point,o)),s[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),i.jQuery&&(i.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(t[t.isString(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(e),function(t){var e=t.each,n=t.isNumber,i=t.map,r=t.merge,o=t.pInt;t.Color=function(e){return this instanceof t.Color?void this.init(e):new t.Color(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(e){var n,r,o,a,s;if(this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e,e&&e.stops)this.stops=i(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(s=e.length,e=parseInt(e.substr(1),16),7===s?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===s&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)a=this.parsers[o],n=a.regex.exec(e),n&&(r=a.parse(n));this.rgba=r||[]},get:function(t){var i,o=this.input,a=this.rgba;return this.stops?(i=r(o),i.stops=[].concat(i.stops),e(this.stops,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=a&&n(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":o,i},brighten:function(t){var i,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(n(t)&&0!==t)for(i=0;i<3;i++)r[i]+=o(255*t),r[i]<0&&(r[i]=0),r[i]>255&&(r[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n,i,r=this.rgba,o=t.rgba;return o.length&&r&&r.length?(n=1!==o[3]||1!==r[3],i=(n?"rgba(":"rgb(")+Math.round(o[0]+(r[0]-o[0])*(1-e))+","+Math.round(o[1]+(r[1]-o[1])*(1-e))+","+Math.round(o[2]+(r[2]-o[2])*(1-e))+(n?","+(o[3]+(r[3]-o[3])*(1-e)):"")+")"):i=t.input||"none",i}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,n,i=t.addEvent,r=t.animate,o=t.attr,a=t.charts,s=t.color,l=t.css,c=t.createElement,u=t.defined,d=t.deg2rad,h=t.destroyObjectProperties,f=t.doc,p=t.each,m=t.extend,g=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,_=t.isArray,w=t.isFirefox,x=t.isMS,k=t.isObject,C=t.isString,T=t.isWebKit,S=t.merge,E=t.noop,O=t.objectEach,A=t.pick,M=t.pInt,P=t.removeEvent,D=(t.splat,t.stop),j=t.svg,N=t.SVG_NS,L=t.symbolSizes,I=t.win;e=t.SVGElement=function(){return this},m(e.prototype,{opacity:1,SVG_NS:N,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textAlign","textDecoration","textOverflow","textOutline"],init:function(t,e){this.element="span"===e?c(e):f.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,n,i){var o=t.animObject(A(n,this.renderer.globalAnimation,!0));return 0!==o.duration?(i&&(o.complete=i),r(this,e,o)):(this.attr(e,null,i),o.step&&o.step.call(this)),this},colorGradient:function(e,n,i){var r,o,a,s,l,c,d,h,f,m,g,v,y=this.renderer,b=[];e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(a=e[o],l=y.gradients,d=e.stops,m=i.radialReference,_(a)&&(e[o]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!u(a.gradientUnits)&&(s=a,a=S(a,y.getRadialAttr(m,s),{gradientUnits:"userSpaceOnUse"})),O(a,function(t,e){"id"!==e&&b.push(e,t)}),O(d,function(t){b.push(t)}),b=b.join(","),l[b]?g=l[b].attr("id"):(a.id=g=t.uniqueKey(),l[b]=c=y.createElement(o).attr(a).add(y.defs),c.radAttr=s,c.stops=[],p(d,function(e){var n;0===e[1].indexOf("rgba")?(r=t.color(e[1]),h=r.get("rgb"),f=r.get("a")):(h=e[1],f=1),n=y.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":f}).add(c),c.stops.push(n)})),v="url("+y.url+"#"+g+")",i.setAttribute(n,v),i.gradient=b,e.toString=function(){return v})},applyTextOutline:function(e){var n,i,r,a,s,l,c=this.element,u=e.indexOf("contrast")!==-1,d={};if(u&&(d.textOutline=e=e.replace(/contrast/g,this.renderer.getContrast(c.style.fill))),e=e.split(" "),r=e[e.length-1],a=e[0],a&&"none"!==a&&t.svg){for(this.fakeTS=!0,n=[].slice.call(c.getElementsByTagName("tspan")),this.ySetter=this.xSetter,a=a.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),l=n.length;l--;)i=n[l],"highcharts-text-outline"===i.getAttribute("class")&&g(n,c.removeChild(i));s=c.firstChild,p(n,function(t,e){var n;0===e&&(t.setAttribute("x",c.getAttribute("x")),e=c.getAttribute("y"),t.setAttribute("y",e||0),null===e&&c.setAttribute("y",0)),n=t.cloneNode(1),o(n,{"class":"highcharts-text-outline",fill:r,stroke:r,"stroke-width":a,"stroke-linejoin":"round"}),c.insertBefore(n,s)})}},attr:function(t,e,n,i){var r,o,a,s,l=this.element,c=this;return"string"==typeof t&&void 0!==e&&(r=t,t={},t[r]=e),"string"==typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(O(t,function(e,n){a=!1,i||D(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(o||(this.symbolAttr(t),o=!0),a=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),a||(s=this[n+"Setter"]||this._defaultSetter,s.call(this,e,n,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,s))},this),this.afterSetters()),n&&n(),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return n.indexOf(t)===-1&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return b(t,(this.attr("class")||"").split(" "))!==-1},
removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;p(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){e[n]=A(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n,i=this,r={};return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||i.x||0)+n,t.y=Math.floor(t.y||i.y||0)+n,t.width=Math.floor((t.width||i.width||0)-2*n),t.height=Math.floor((t.height||i.height||0)-2*n),u(t.strokeWidth)&&(t.strokeWidth=e),O(t,function(t,e){i[e]!==t&&(i[e]=r[e]=t)}),r},css:function(t){var e,n,i=this.styles,r={},a=this.element,s="",c=!i,u=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),i&&O(t,function(t,e){t!==i[e]&&(r[e]=t,c=!0)}),c&&(i&&(t=m(i,r)),e=this.textWidth=t&&t.width&&"auto"!==t.width&&"text"===a.nodeName.toLowerCase()&&M(t.width),this.styles=t,e&&!j&&this.renderer.forExport&&delete t.width,x&&!j?l(this.element,t):(n=function(t,e){return"-"+e.toLowerCase()},O(t,function(t,e){b(e,u)===-1&&(s+=e.replace(/([A-Z])/g,n)+":"+t+";")}),s&&o(a,"style",s)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return y&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(I.navigator.userAgent.indexOf("Android")===-1||Date.now()-(n.touchEventFired||0)>1100)&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){var e=this;return e.inverted=t,e.updateTransform(),e},updateTransform:function(){var t,e=this,n=e.translateX||0,i=e.translateY||0,r=e.scaleX,o=e.scaleY,a=e.inverted,s=e.rotation,l=e.matrix,c=e.element;a&&(n+=e.width,i+=e.height),t=["translate("+n+","+i+")"],u(l)&&t.push("matrix("+l.join(",")+")"),a?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+A(this.rotationOriginX,c.getAttribute("x"),0)+" "+A(this.rotationOriginY,c.getAttribute("y")||0)+")"),(u(r)||u(o))&&t.push("scale("+A(r,1)+" "+A(o,1)+")"),t.length&&c.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,a,s,l,c,u={},d=this.renderer,h=d.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,n&&!C(n)||(this.alignTo=s=n||"renderer",g(h,this),h.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),n=A(n,d[s],d),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),"right"===i?l=1:"center"===i&&(l=2),l&&(o+=(n.width-(t.width||0))/l),u[e?"translateX":"x"]=Math.round(o),"bottom"===r?c=1:"middle"===r&&(c=2),c&&(a+=(n.height-(t.height||0))/c),u[e?"translateY":"y"]=Math.round(a),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,e){var n,i,r,o,a,s,l,c,h=this,f=h.renderer,g=h.element,v=h.styles,y=h.textStr,b=f.cache,_=f.cacheKeys;if(o=A(e,h.rotation),a=o*d,s=v&&v.fontSize,u(y)&&(c=y.toString(),c.indexOf("<")===-1&&(c=c.replace(/[0-9]/g,"0")),c+=["",o||0,s,v&&v.width,v&&v.textOverflow].join(",")),c&&!t&&(n=b[c]),!n){if(g.namespaceURI===h.SVG_NS||f.forExport){try{l=this.fakeTS&&function(t){p(g.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})},l&&l("none"),n=g.getBBox?m({},g.getBBox()):{width:g.offsetWidth,height:g.offsetHeight},l&&l("")}catch(t){}(!n||n.width<0)&&(n={width:0,height:0})}else n=h.htmlGetBBox();if(f.isSVG&&(i=n.width,r=n.height,v&&"11px"===v.fontSize&&17===Math.round(r)&&(n.height=r=14),o&&(n.width=Math.abs(r*Math.sin(a))+Math.abs(i*Math.cos(a)),n.height=Math.abs(r*Math.cos(a))+Math.abs(i*Math.sin(a)))),c&&n.height>0){for(;_.length>250;)delete b[_.shift()];b[c]||_.push(c),b[c]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n=this,i=n.element||{},r=n.renderer.isSVG&&"SPAN"===i.nodeName&&n.parentGroup,o=i.ownerSVGElement;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,D(n),n.clipPath&&o&&(p(o.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){t.getAttribute("clip-path").match(RegExp('[("]#'+n.clipPath.element.id+'[)"]'))&&t.removeAttribute("clip-path")}),n.clipPath=n.clipPath.destroy()),n.stops){for(e=0;e<n.stops.length;e++)n.stops[e]=n.stops[e].destroy();n.stops=null}for(n.safeRemoveChild(i),n.destroyShadows();r&&r.div&&0===r.div.childNodes.length;)t=r.parentGroup,n.safeRemoveChild(r.div),delete r.div,r=t;return n.alignTo&&g(n.renderer.alignedObjects,n),O(n,function(t,e){delete n[e]}),null},shadow:function(t,e,n){var i,r,a,s,l,c,u=[],d=this.element;if(t){if(!this.shadows){for(s=A(t.width,3),l=(t.opacity||.15)/s,c=this.parentInverted?"(-1,-1)":"("+A(t.offsetX,1)+", "+A(t.offsetY,1)+")",i=1;i<=s;i++)r=d.cloneNode(0),a=2*s+1-2*i,o(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+c,fill:"none"}),n&&(o(r,"height",Math.max(o(r,"height")-a,0)),r.cutHeight=a),e?e.element.appendChild(r):d.parentNode&&d.parentNode.insertBefore(r,d),u.push(r);this.shadows=u}}else this.destroyShadows();return this},destroyShadows:function(){p(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){var e=A(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=M(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){var e={left:"start",center:"middle",right:"end"};this.element.setAttribute("text-anchor",e[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(f.createTextNode(String(A(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n,i,r,o,a,s,l=this.renderer,c=this.parentGroup,d=c||l,h=d.element||l.box,f=this.element,p=h===l.box,m=this.added;if(u(t)&&(f.zIndex=t,t=+t,this[e]===t&&(m=!1),this[e]=t),m){for(t=this.zIndex,t&&c&&(c.handleZ=!0),n=h.childNodes,s=n.length-1;s>=0&&!o;s--)i=n[s],r=i.zIndex,a=!u(r),i!==f&&(t<0&&a&&!p&&!s?(h.insertBefore(f,n[s]),o=!0):(M(r)<=t||a&&(!u(t)||t>=0))&&(h.insertBefore(f,n[s+1]||null),o=!0));o||(h.insertBefore(f,n[p?3:0]||null),o=!0)}return o},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},m(n.prototype,{Element:e,SVG_NS:N,init:function(t,e,n,r,a,s){var c,u,d,h=this;c=h.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(r)),u=c.element,t.appendChild(u),o(t,"dir","ltr"),t.innerHTML.indexOf("xmlns")===-1&&o(u,"xmlns",this.SVG_NS),h.isSVG=!0,this.box=u,this.boxWrapper=c,h.alignedObjects=[],this.url=(w||T)&&f.getElementsByTagName("base").length?I.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",d=this.createElement("desc").add(),d.element.appendChild(f.createTextNode("Created with Highcharts 6.0.3")),h.defs=this.createElement("defs").add(),h.allowHTML=s,h.forExport=a,h.gradients={},h.cache={},h.cacheKeys=[],h.imgCount=0,h.setSize(e,n,!1);var p,m;w&&t.getBoundingClientRect&&(p=function(){l(t,{left:0,top:0}),m=t.getBoundingClientRect(),l(t,{left:Math.ceil(m.left)-m.left+"px",top:Math.ceil(m.top)-m.top+"px"})},p(),h.unSubPixelFix=i(I,"resize",p))},getStyle:function(t){return this.style=m({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t),this.style},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),h(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.unSubPixelFix&&t.unSubPixelFix(),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:E,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t,e){var n=this,i=t.getBBox(!0),r=i.width;return!j&&n.forExport&&(r=n.measureSpanWidth(e.firstChild.data,t.styles)),r},applyEllipsis:function(t,e,n,i){var r,o,a,s=this,l=t.rotation,c=n,u=0,d=n.length,h=function(t){e.removeChild(e.firstChild),t&&e.appendChild(f.createTextNode(t))};if(t.rotation=0,o=s.getSpanWidth(t,e),a=o>i){for(;u<=d;)r=Math.ceil((u+d)/2),c=n.substring(0,r)+"\u2026",h(c),o=s.getSpanWidth(t,e),u===d?u=d+1:o>i?d=r-1:u=r;0===d&&h("")}return t.rotation=l,a},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot"},buildText:function(t){var e,n,i,r,a,s,c,u=t.element,d=this,h=d.forExport,m=A(t.textStr,"").toString(),g=m.indexOf("<")!==-1,y=u.childNodes,b=o(u,"x"),_=t.styles,w=t.textWidth,x=_&&_.lineHeight,k=_&&_.textOutline,C=_&&"ellipsis"===_.textOverflow,T=_&&"nowrap"===_.whiteSpace,S=_&&_.fontSize,E=y.length,P=w&&!t.added&&this.box,D=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:S||d.style.fontSize||12,x?M(x):d.fontMetrics(e,t.getAttribute("style")?t:u).h},L=function(t){return O(d.escapes,function(e,n){t=t.replace(new RegExp(e,"g"),n)}),t};if(s=[m,C,T,x,k,S,w].join(","),s!==t.textCache){for(t.textCache=s;E--;)u.removeChild(y[E]);g||k||C||w||m.indexOf(" ")!==-1?(n=/<.*class="([^"]+)".*>/,i=/<.*style="([^"]+)".*>/,r=/<.*href="([^"]+)".*>/,P&&P.appendChild(u),e=g?m.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[m],e=v(e,function(t){return""!==t}),p(e,function(e,s){var m,g=0;e=e.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),m=e.split("|||"),p(m,function(e){if(""!==e||1===m.length){var p,v,y={},_=f.createElementNS(d.SVG_NS,"tspan");if(n.test(e)&&(p=e.match(n)[1],o(_,"class",p)),i.test(e)&&(v=e.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),o(_,"style",v)),r.test(e)&&!h&&(o(_,"onclick",'location.href="'+e.match(r)[1]+'"'),o(_,"class","highcharts-anchor"),l(_,{cursor:"pointer"})),e=L(e.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ")," "!==e){if(_.appendChild(f.createTextNode(e)),g?y.dx=0:s&&null!==b&&(y.x=b),o(_,y),u.appendChild(_),!g&&c&&(!j&&h&&l(_,{display:"block"}),o(_,"dy",D(_))),w){var x,k,S=e.replace(/([^\^])-/g,"$1- ").split(" "),E=m.length>1||s||S.length>1&&!T,O=[],A=D(_),M=t.rotation;for(C&&(a=d.applyEllipsis(t,_,e,w));!C&&E&&(S.length||O.length);)t.rotation=0,k=d.getSpanWidth(t,_),x=k>w,void 0===a&&(a=x),x&&1!==S.length?(_.removeChild(_.firstChild),O.unshift(S.pop())):(S=O,O=[],S.length&&!T&&(_=f.createElementNS(N,"tspan"),o(_,{dy:A,x:b}),v&&o(_,"style",v),u.appendChild(_)),k>w&&(w=k)),S.length&&_.appendChild(f.createTextNode(S.join(" ").replace(/- /g,"-")));t.rotation=M}g++}}}),c=c||u.childNodes.length}),a&&t.attr("title",t.textStr),P&&P.removeChild(u),k&&t.applyTextOutline&&t.applyTextOutline(k)):u.appendChild(f.createTextNode(L(m)))}},getContrast:function(t){return t=s(t).rgba,t[0]+t[1]+t[2]>510?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,a,s,l,c){var u=this.label(t,e,n,c,null,null,null,null,"button"),d=0;u.attr(S({padding:8,r:2},o));var h,f,p,g;return o=S({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),h=o.style,delete o.style,a=S(o,{fill:"#e6e6e6"},a),f=a.style,delete a.style,s=S(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),p=s.style,delete s.style,l=S(o,{style:{color:"#cccccc"}},l),g=l.style,delete l.style,i(u.element,x?"mouseover":"mouseenter",function(){3!==d&&u.setState(1)}),i(u.element,x?"mouseout":"mouseleave",function(){3!==d&&u.setState(d)}),u.setState=function(t){1!==t&&(u.state=d=t),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),u.attr([o,a,s,l][t||0]).css([h,f,p,g][t||0])},u.attr(o).css(m({cursor:"default"},h)),u.on("click",function(t){3!==d&&r.call(u,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return _(t)?e.d=t:k(t)&&m(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){var i=k(t)?t:{x:t,y:e,r:n},r=this.createElement("circle");return r.xSetter=r.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},r.attr(i)},arc:function(t,e,n,i,r,o){var a,s;return k(t)?(s=t,e=s.y,n=s.r,i=s.innerR,r=s.start,o=s.end,t=s.x):s={innerR:i,start:r,end:o},a=this.symbol("arc",t,e,n,n,s),a.r=n,a},rect:function(t,e,n,i,r,a){r=k(t)?t.r:r;var s=this.createElement("rect"),l=k(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)};return void 0!==a&&(l.strokeWidth=a,l=s.crisp(l)),l.fill="none",r&&(l.r=r),s.rSetter=function(t,e,n){o(n,{rx:t,ry:t})},s.attr(l)},setSize:function(t,e,n){var i=this,r=i.alignedObjects,o=r.length;for(i.width=t,i.height=e,i.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:A(n,!0)?void 0:0});o--;)r[o].align()},g:function(t){var e=this.createElement("g");return t?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,n,i,r){var o,a={preserveAspectRatio:"none"};return arguments.length>1&&m(a,{x:e,y:n,width:i,height:r}),o=this.createElement("image").attr(a),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,n,i,r,o){var s,d,h,g=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),_=b&&this.symbols[b],w=u(e)&&_&&_.call(this.symbols,Math.round(e),Math.round(n),i,r,o);return _?(s=this.path(w),s.attr("fill","none"),m(s,{symbolName:b,x:e,y:n,width:i,height:r}),o&&m(s,o)):y&&(d=t.match(v)[1],s=this.image(d),s.imgwidth=A(L[d]&&L[d].width,o&&o.width),s.imgheight=A(L[d]&&L[d].height,o&&o.height),h=function(){s.attr({width:s.width,height:s.height})},p(["width","height"],function(t){s[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,u(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),u(e)&&s.attr({x:e,y:n}),s.isImg=!0,u(s.imgwidth)&&u(s.imgheight)?h():(s.attr({width:0,height:0}),c("img",{onload:function(){var t=a[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),L[d]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&h(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&t&&t.onload&&t.onload()},src:d}),this.imgCount++)),s},symbols:{circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o,a=r.start,s=r.r||n,l=r.r||i||n,c=.001,d=Math.abs(r.end-r.start-2*Math.PI)<c,h=r.end-c,f=r.innerR,p=A(r.open,d),m=Math.cos(a),g=Math.sin(a),v=Math.cos(h),y=Math.sin(h),b=r.end-a-Math.PI<c?0:1;return o=["M",t+s*m,e+l*g,"A",s,l,0,b,1,t+s*v,e+l*y],u(f)&&o.push(p?"M":"L",t+f*v,e+f*y,"A",f,f,0,b,0,t+f*m,e+f*g),o.push(p?"":"Z"),o},callout:function(t,e,n,i,r){var o,a=6,s=6,l=Math.min(r&&r.r||0,n,i),c=l+s,u=r&&r.anchorX,d=r&&r.anchorY;return o=["M",t+l,e,"L",t+n-l,e,"C",t+n,e,t+n,e,t+n,e+l,"L",t+n,e+i-l,"C",t+n,e+i,t+n,e+i,t+n-l,e+i,"L",t+l,e+i,"C",t,e+i,t,e+i,t,e+i-l,"L",t,e+l,"C",t,e,t,e,t+l,e],u&&u>n?d>e+c&&d<e+i-c?o.splice(13,3,"L",t+n,d-s,t+n+a,d,t+n,d+s,t+n,e+i-l):o.splice(13,3,"L",t+n,i/2,u,d,t+n,i/2,t+n,e+i-l):u&&u<0?d>e+c&&d<e+i-c?o.splice(33,3,"L",t,d+s,t-a,d,t,d-s,t,e+l):o.splice(33,3,"L",t,i/2,u,d,t,i/2,t,e+l):d&&d>i&&u>t+c&&u<t+n-c?o.splice(23,3,"L",u+s,e+i,u,e+i+a,u-s,e+i,t+l,e+i):d&&d<0&&u>t+c&&u<t+n-c&&o.splice(3,3,"L",u-s,e,u,e-a,u+s,e,n-l,e),o}},clipRect:function(e,n,i,r){var o,a=t.uniqueKey(),s=this.createElement("clipPath").attr({id:a}).add(this.defs);return o=this.rect(e,n,i,r,0).add(s),o.id=a,o.clipPath=s,o.count=0,o},text:function(t,e,n,i){var r,o=this,a={};return!i||!o.allowHTML&&o.forExport?(a.x=Math.round(e||0),n&&(a.y=Math.round(n)),(t||0===t)&&(a.text=t),r=o.createElement("text").attr(a),i||(r.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),a=n.getAttribute(e);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(e)===a&&i.setAttribute(e,t);n.setAttribute(e,t)}),r):o.html(t,e,n)},fontMetrics:function(t,e){var n,i;return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?M(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,n=t<24?t+3:Math.round(1.2*t),i=Math.round(.8*n),{h:n,b:i,f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:i}},label:function(n,i,r,o,a,s,l,c,d){var h,f,g,v,y,b,_,w,x,k,C,T,E,O=this,A=O.g("button"!==d&&"label"),M=A.text=O.text("",0,0,l).attr({zIndex:1}),D=0,j=3,N=0,L={},I=/^url\((.*?)\)$/.test(o),R=I;d&&A.addClass("highcharts-"+d),R=I,k=function(){return(w||0)%2/2},C=function(){var t,e=M.element.style,n={};f=(void 0===g||void 0===v||_)&&u(M.textStr)&&M.getBBox(),A.width=(g||f.width||0)+2*j+N,A.height=(v||f.height||0)+2*j,x=j+O.fontMetrics(e&&e.fontSize,M).b,R&&(h||(A.box=h=O.symbols[o]||I?O.symbol(o):O.rect(),h.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),h.add(A),t=k(),n.x=t,n.y=(c?-x:0)+t),n.width=Math.round(A.width),n.height=Math.round(A.height),h.attr(m(n,L)),L={})},T=function(){var t,e=N+j;t=c?0:x,u(g)&&f&&("center"===_||"right"===_)&&(e+={center:.5,right:1}[_]*(g-f.width)),e===M.x&&t===M.y||(M.attr("x",e),void 0!==t&&M.attr("y",t)),M.x=e,M.y=t},E=function(t,e){h?h.attr(t,e):L[t]=e},A.onAdd=function(){M.add(A),A.attr({text:n||0===n?n:"",x:i,y:r}),h&&u(a)&&A.attr({anchorX:a,anchorY:s})},A.widthSetter=function(e){g=t.isNumber(e)?e:null},A.heightSetter=function(t){v=t},A["text-alignSetter"]=function(t){_=t},A.paddingSetter=function(t){u(t)&&t!==j&&(j=A.padding=t,T())},A.paddingLeftSetter=function(t){u(t)&&t!==N&&(N=t,T())},A.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==D&&(D=t,f&&A.attr({x:y}))},A.textSetter=function(t){void 0!==t&&M.textSetter(t),C(),T()},A["stroke-widthSetter"]=function(t,e){t&&(R=!0),w=this["stroke-width"]=t,E(e,t)},A.strokeSetter=A.fillSetter=A.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(R=!0),A[e]=t),E(e,t)},A.anchorXSetter=function(t,e){a=A.anchorX=t,E(e,Math.round(t)-k()-y)},A.anchorYSetter=function(t,e){s=A.anchorY=t,E(e,t-b)},A.xSetter=function(t){A.x=t,D&&(t-=D*((g||f.width)+2*j)),y=Math.round(t),A.attr("translateX",y)},A.ySetter=function(t){b=A.y=Math.round(t),A.attr("translateY",b)};var B=A.css;return m(A,{css:function(t){if(t){var e={};t=S(t),p(A.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),M.css(e)}return B.call(A,t)},getBBox:function(){return{width:f.width+2*j,height:f.height+2*j,x:f.x-j,y:f.y-j}},shadow:function(t){return t&&(C(),h&&h.shadow(t)),A},destroy:function(){P(A.element,"mouseenter"),P(A.element,"mouseleave"),M&&(M=M.destroy()),h&&(h=h.destroy()),e.prototype.destroy.call(A),A=O=C=T=E=null}})}}),t.Renderer=n}(e),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,o=t.each,a=t.extend,s=t.isFirefox,l=t.isMS,c=t.isWebKit,u=t.pick,d=t.pInt,h=t.SVGElement,f=t.SVGRenderer,p=t.win,m=t.wrap;a(h.prototype,{htmlCss:function(t){var e=this,n=e.element,r=t&&"SPAN"===n.tagName&&t.width;return r&&(delete t.width,e.textWidth=r,e.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),e.styles=a(e.styles,t),i(e.element,t),e},htmlGetBBox:function(){var t=this,e=t.element;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,n=t.element,a=t.translateX||0,s=t.translateY||0,l=t.x||0,u=t.y||0,h=t.textAlign||"left",f={left:0,center:.5,right:1}[h],p=t.styles;if(i(n,{marginLeft:a,marginTop:s}),t.shadows&&o(t.shadows,function(t){i(t,{marginLeft:a+1,marginTop:s+1})}),t.inverted&&o(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var m,g=t.rotation,v=d(t.textWidth),y=p&&p.whiteSpace,b=[g,h,n.innerHTML,t.textWidth,t.textAlign].join(",");b!==t.cTT&&(m=e.fontMetrics(n.style.fontSize).b,r(g)&&t.setSpanRotation(g,f,m),i(n,{width:"",whiteSpace:y||"nowrap"}),n.offsetWidth>v&&/[ \-]/.test(n.textContent||n.innerText)&&i(n,{width:v+"px",display:"block",whiteSpace:y||"normal"}),t.getSpanCorrection(n.offsetWidth,m,f,g,h)),i(n,{left:l+(t.xCorr||0)+"px",top:u+(t.yCorr||0)+"px"}),c&&(m=n.offsetHeight),t.cTT=b}},setSpanRotation:function(t,e,n){var r={},o=this.renderer.getTransformKey();r[o]=r.transform="rotate("+t+"deg)",r[o+(s?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),a(f.prototype,{getTransformKey:function(){return l&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":s?"MozTransform":p.opera?"-o-transform":""},html:function(t,i,r){var s=this.createElement("span"),c=s.element,d=s.renderer,h=d.isSVG,f=function(t,e){o(["opacity","visibility"],function(n){m(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})})};return s.textSetter=function(t){t!==c.innerHTML&&delete this.bBox,this.textStr=t,c.innerHTML=u(t,""),s.htmlUpdateTransform()},h&&f(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.htmlUpdateTransform()},s.attr({text:t,x:Math.round(i),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),c.style.whiteSpace="nowrap",s.css=s.htmlCss,h&&(s.add=function(t){var i,r,u=d.box.parentNode,h=[];if(this.parentGroup=t,t){if(i=t.div,!i){for(r=t;r;)h.push(r),r=r.parentGroup;o(h.reverse(),function(t){function r(e,n){t[n]=e,l?o[d.getTransformKey()]="translate("+(t.x||t.translateX)+"px,"+(t.y||t.translateY)+"px)":"translateX"===n?o.left=e+"px":o.top=e+"px",t.doTransform=!0}var o,c=e(t.element,"class");c&&(c={className:c}),i=t.div=t.div||n("div",c,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||u),o=i.style,a(t,{classSetter:function(t){this.element.setAttribute("class",t),i.className=t},on:function(){return h[0].div&&s.on.apply({element:h[0].div},arguments),t},translateXSetter:r,translateYSetter:r}),f(t,o)})}}else i=u;return i.appendChild(c),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(e),function(t){function e(){var e=t.defaultOptions.global,n=c.moment;if(e.timezone){if(n)return function(t){return-n.tz(t,e.timezone).utcOffset()};t.error(25)}return e.useUTC&&e.getTimezoneOffset}function n(){var n,i,o=t.defaultOptions.global,a=o.useUTC,l=a?"getUTC":"get",u=a?"setUTC":"set",d=["Minutes","Hours","Day","Date","Month","FullYear"],h=d.concat(["Milliseconds","Seconds"]);for(t.Date=n=o.Date||c.Date,n.hcTimezoneOffset=a&&o.timezoneOffset,n.hcGetTimezoneOffset=e(),n.hcMakeTime=function(t,e,i,o,l,c){var u;return a?(u=n.UTC.apply(0,arguments),u+=r(u)):u=new n(t,e,s(i,1),s(o,0),s(l,0),s(c,0)).getTime(),u},i=0;i<d.length;i++)n["hcGet"+d[i]]=l+d[i];for(i=0;i<h.length;i++)n["hcSet"+h[i]]=u+h[i]}var i=t.color,r=t.getTZOffset,o=t.isTouchDevice,a=t.merge,s=t.pick,l=t.svg,c=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:l,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:o?25:10,backgroundColor:i("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=a(!0,t.defaultOptions,e),n(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,n()}(e),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.isNumber,o=t.merge,a=t.pick,s=t.deg2rad;t.Tick=function(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,this.isNewLabel=!0,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,i,r=this,s=r.axis,l=s.options,c=s.chart,u=s.categories,d=s.names,h=r.pos,f=l.labels,p=s.tickPositions,m=h===p[0],g=h===p[p.length-1],v=u?a(u[h],d[h],h):h,y=r.label,b=p.info;s.isDatetimeAxis&&b&&(i=l.dateTimeLabelFormats[b.higherRanks[h]||b.unitName]),r.isFirst=m,r.isLast=g,t=s.labelFormatter.call({axis:s,chart:c,isFirst:m,isLast:g,dateTimeLabelFormat:i,value:s.isLog?e(s.lin2log(v)):v,pos:h}),n(y)?y&&y.attr({text:t}):(r.label=y=n(t)&&f.enabled?c.renderer.text(t,0,0,f.useHTML).css(o(f.style)).add(s.labelGroup):null,r.labelLength=y&&y.getBBox().width,r.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n,i,r=this.axis,o=t.x,l=r.chart.chartWidth,c=r.chart.spacing,u=a(r.labelLeft,Math.min(r.pos,c[3])),d=a(r.labelRight,Math.max(r.pos+r.len,l-c[1])),h=this.label,f=this.rotation,p={left:0,center:.5,right:1}[r.labelAlign],m=h.getBBox().width,g=r.getSlotWidth(),v=g,y=p,b=1,_={};f?f<0&&o-p*m<u?i=Math.round(o/Math.cos(f*s)-u):f>0&&o+p*m>d&&(i=Math.round((l-o)/Math.cos(f*s))):(e=o-p*m,n=o+(1-p)*m,e<u?v=t.x+v*(1-p)-u:n>d&&(v=d-t.x+v*p,b=-1),v=Math.min(g,v),v<g&&"center"===r.labelAlign&&(t.x+=b*(g-v-y*(g-Math.min(m,v)))),(m>v||r.autoRotation&&(h.styles||{}).width)&&(i=v)),i&&(_.width=i,(r.options.labels.style||{}).textOverflow||(_.textOverflow="ellipsis"),h.css(_))},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,a=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?a-r.bottom+r.offset-(r.opposite?r.height:0):a-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,i,r,o,a,l,c){var u,d=this.axis,h=d.transA,f=d.reversed,p=d.staggerLines,m=d.tickRotCorr||{x:0,y:0},g=o.y;return n(g)||(g=0===d.side?i.rotation?-8:-i.getBBox().height:2===d.side?m.y+8:Math.cos(i.rotation*s)*(m.y-i.getBBox(!1,0).height/2)),t=t+o.x+m.x-(a&&r?a*h*(f?-1:1):0),e=e+g-(a&&!r?a*h*(f?1:-1):0),p&&(u=l/(c||1)%p,d.opposite&&(u=p-u-1),e+=u*(d.labelOffset/p)),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},renderGridLine:function(t,e,n){var i,r=this,o=r.axis,a=o.options,s=r.gridLine,l={},c=r.pos,u=r.type,d=o.tickmarkOffset,h=o.chart.renderer,f=u?u+"Grid":"grid",p=a[f+"LineWidth"],m=a[f+"LineColor"],g=a[f+"LineDashStyle"];s||(l.stroke=m,l["stroke-width"]=p,g&&(l.dashstyle=g),u||(l.zIndex=1),t&&(l.opacity=0),r.gridLine=s=h.path().attr(l).addClass("highcharts-"+(u?u+"-":"")+"grid-line").add(o.gridGroup)),!t&&s&&(i=o.getPlotLinePath(c+d,s.strokeWidth()*n,t,!0),i&&s[r.isNew?"attr":"animate"]({d:i,opacity:e}))},renderMark:function(t,e,n){var i=this,r=i.axis,o=r.options,s=r.chart.renderer,l=i.type,c=l?l+"Tick":"tick",u=r.tickSize(c),d=i.mark,h=!d,f=t.x,p=t.y,m=a(o[c+"Width"],!l&&r.isXAxis?1:0),g=o[c+"Color"];u&&(r.opposite&&(u[0]=-u[0]),h&&(i.mark=d=s.path().addClass("highcharts-"+(l?l+"-":"")+"tick").add(r.axisGroup),d.attr({stroke:g,"stroke-width":m})),d[h?"attr":"animate"]({d:i.getMarkPath(f,p,u[0],d.strokeWidth()*n,r.horiz,s),opacity:e}))},renderLabel:function(t,e,n,i){var o=this,s=o.axis,l=s.horiz,c=s.options,u=o.label,d=c.labels,h=d.step,f=s.tickmarkOffset,p=!0,m=t.x,g=t.y;
u&&r(m)&&(u.xy=t=o.getLabelPosition(m,g,u,l,d,f,i,h),o.isFirst&&!o.isLast&&!a(c.showFirstLabel,1)||o.isLast&&!o.isFirst&&!a(c.showLastLabel,1)?p=!1:!l||s.isRadial||d.step||d.rotation||e||0===n||o.handleOverflow(t),h&&i%h&&(p=!1),p&&r(t.y)?(t.opacity=n,u[o.isNewLabel?"attr":"animate"](t),o.isNewLabel=!1):(u.attr("y",-9999),o.isNewLabel=!0))},render:function(t,e,n){var i=this,r=i.axis,o=r.horiz,s=i.pos,l=r.tickmarkOffset,c=i.getPosition(o,s,l,e),u=c.x,d=c.y,h=o&&u===r.pos+r.len||!o&&d===r.pos?-1:1;n=a(n,1),this.isActive=!0,this.renderGridLine(e,n,h),this.renderMark(c,n,h),this.renderLabel(c,e,n,t),i.isNew=!1},destroy:function(){i(this,this.axis)}}}(e);var n=function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.color,a=t.correctFloat,s=t.defaultOptions,l=t.defined,c=t.deg2rad,u=t.destroyObjectProperties,d=t.each,h=t.extend,f=t.fireEvent,p=t.format,m=t.getMagnitude,g=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,_=t.isString,w=t.merge,x=t.normalizeTickInterval,k=t.objectEach,C=t.pick,T=t.removeEvent,S=t.splat,E=t.syncTimeout,O=t.Tick,A=function(){this.init.apply(this,arguments)};return t.extend(A.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var o=this.options,a=o.type,s="datetime"===a;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=o.visible!==!1,r.zoomEnabled=o.zoomEnabled!==!1,r.hasNames="category"===a||o.categories===!0,r.categories=o.categories||r.hasNames,r.names=r.names||[],r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===a,r.isDatetimeAxis=s,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=C(o.crosshair,S(t.options.tooltip.crosshairs)[i?0:1],!1);var c=r.options.events;v(r,t.axes)===-1&&(i?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&i&&void 0===r.reversed&&(r.reversed=!0),k(c,function(t,n){e(r,n,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log)},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(s[this.coll],t))},defaultLabelFormatter:function(){var e,n,i=this.axis,r=this.value,o=i.categories,a=this.dateTimeLabelFormat,l=s.lang,c=l.numericSymbols,u=l.numericSymbolMagnitude||1e3,d=c&&c.length,h=i.options.labels.format,f=i.isLog?Math.abs(r):i.tickInterval;if(h)n=p(h,this);else if(o)n=r;else if(a)n=t.dateFormat(a,r);else if(d&&f>=1e3)for(;d--&&void 0===n;)e=Math.pow(u,d+1),f>=e&&10*r%e===0&&null!==c[d]&&0!==r&&(n=t.numberFormat(r/e,-1)+c[d]);return void 0===n&&(n=Math.abs(r)>=1e4?t.numberFormat(r,-1):t.numberFormat(r,-1,void 0,"")),n},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var o,a,s,c=n.options,u=c.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&u<=0&&(u=null),t.isXAxis?(o=n.xData,o.length&&(a=r(o),s=i(o),b(a)||a instanceof Date||(o=g(o,b),a=r(o)),t.dataMin=Math.min(C(t.dataMin,o[0],a),a),t.dataMax=Math.max(C(t.dataMax,o[0],s),s))):(n.getExtremes(),s=n.dataMax,a=n.dataMin,l(a)&&l(s)&&(t.dataMin=Math.min(C(t.dataMin,a),a),t.dataMax=Math.max(C(t.dataMax,s),s)),l(u)&&(t.threshold=u),c.softThreshold&&!t.positiveValuesOnly||(t.softThreshold=!1))}})},translate:function(t,e,n,i,r,o){var a,s=this.linkedParent||this,l=1,c=0,u=i?s.oldTransA:s.transA,d=i?s.oldMin:s.min,h=s.minPixelPadding,f=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val;return u||(u=s.transA),n&&(l*=-1,c=s.len),s.reversed&&(l*=-1,c-=l*(s.sector||s.len)),e?(t=t*l+c,t-=h,a=t/u+d,f&&(a=s.lin2val(a))):(f&&(t=s.val2lin(t)),a=b(d)?l*(t-d)*u+c+l*h+(b(o)?u*o:0):void 0),a},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,a,s,l,c,u=this,d=u.chart,h=u.left,f=u.top,p=n&&d.oldChartHeight||d.chartHeight,m=n&&d.oldChartWidth||d.chartWidth,g=u.transB,v=function(t,e,n){return(t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):c=!0),t};return r=C(r,u.translate(t,null,null,n)),o=s=Math.round(r+g),a=l=Math.round(p-r-g),b(r)?u.horiz?(a=f,l=p-u.bottom,o=s=v(o,h,h+u.width)):(o=h,s=m-u.right,a=l=v(a,f,f+u.height)):(c=!0,i=!1),c&&!i?null:d.renderer.crispLine(["M",o,a,"L",s,l],e||1)},getLinearTickPositions:function(t,e,n){var i,r,o,s=a(Math.floor(e/t)*t),l=a(Math.ceil(n/t)*t),c=[];if(a(s+t)===s&&(o=20),this.single)return[e];for(i=s;i<=l&&(c.push(i),i=a(i+t,o),i!==r);)r=i;return c},getMinorTickInterval:function(){var t=this.options;return t.minorTicks===!0?C(t.minorTickInterval,"auto"):t.minorTicks===!1?null:t.minorTickInterval},getMinorTickPositions:function(){var t,e=this,n=e.options,i=e.tickPositions,r=e.minorTickInterval,o=[],a=e.pointRangePadding||0,s=e.min-a,l=e.max+a,c=l-s;if(c&&c/r<e.len/3)if(e.isLog)d(this.paddedTicks,function(t,n,i){n&&o.push.apply(o,e.getLogTickPositions(r,i[n-1],i[n],!0))});else if(e.isDatetimeAxis&&"auto"===this.getMinorTickInterval())o=o.concat(e.getTimeTicks(e.normalizeTimeTickInterval(r),s,l,n.startOfWeek));else for(t=s+(i[0]-s)%r;t<=l&&t!==o[0];t+=r)o.push(t);return 0!==o.length&&e.trimTicks(o),o},adjustForMinRange:function(){var t,e,n,o,a,s,c,u,h,f,p=this,m=p.options,g=p.min,v=p.max;p.isXAxis&&void 0===p.minRange&&!p.isLog&&(l(m.min)||l(m.max)?p.minRange=null:(d(p.series,function(t){for(s=t.xData,c=t.xIncrement?1:s.length-1,o=c;o>0;o--)a=s[o]-s[o-1],(void 0===n||a<n)&&(n=a)}),p.minRange=Math.min(5*n,p.dataMax-p.dataMin))),v-g<p.minRange&&(e=p.dataMax-p.dataMin>=p.minRange,f=p.minRange,t=(f-v+g)/2,u=[g-t,C(m.min,g-t)],e&&(u[2]=p.isLog?p.log2lin(p.dataMin):p.dataMin),g=i(u),h=[g+f,C(m.max,g+f)],e&&(h[2]=p.isLog?p.log2lin(p.dataMax):p.dataMax),v=r(h),v-g<f&&(u[0]=v-f,u[1]=C(m.min,v-f),g=i(u))),p.min=g,p.max=v},getClosest:function(){var t;return this.categories?t=1:d(this.series,function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&i&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=y(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=this.options.uniqueNames===!1?t.series.autoIncrement():v(t.name,i)),r===-1?n||(e=i.length):e=r,void 0!==e&&(this.names[e]=t.name),e},updateNames:function(){var t=this;this.names.length>0&&(this.names.length=0,this.minRange=this.userMinRange,d(this.series||[],function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),d(e.points,function(n,i){var r;n.options&&(r=t.nameToX(n),void 0!==r&&r!==n.x&&(n.x=r,e.xData[i]=r))})}))},setAxisTranslation:function(t){var e,n,i=this,r=i.max-i.min,o=i.axisPointRange||0,a=0,s=0,l=i.linkedParent,c=!!i.categories,u=i.transA,h=i.isXAxis;(h||c||o)&&(e=i.getClosest(),l?(a=l.minPointOffset,s=l.pointRangePadding):d(i.series,function(t){var n=c?1:h?C(t.options.pointRange,e,0):i.axisPointRange||0,r=t.options.pointPlacement;o=Math.max(o,n),i.single||(a=Math.max(a,_(r)?0:n/2),s=Math.max(s,"on"===r?0:n))}),n=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=a*=n,i.pointRangePadding=s*=n,i.pointRange=Math.min(o,r),h&&(i.closestPointRange=e)),t&&(i.oldTransA=u),i.translationSlope=i.transA=u=i.options.staticScale||i.len/(r+s||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=u*a},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,r,o,s,c,u,h=this,p=h.chart,g=h.options,v=h.isLog,y=h.log2lin,_=h.isDatetimeAxis,w=h.isXAxis,k=h.isLinked,T=g.maxPadding,S=g.minPadding,E=g.tickInterval,O=g.tickPixelInterval,A=h.categories,M=h.threshold,P=h.softThreshold;_||A||k||this.getTickAmount(),c=C(h.userMin,g.min),u=C(h.userMax,g.max),k?(h.linkedParent=p[h.coll][g.linkedTo],i=h.linkedParent.getExtremes(),h.min=C(i.min,i.dataMin),h.max=C(i.max,i.dataMax),g.type!==h.linkedParent.options.type&&t.error(11,1)):(!P&&l(M)&&(h.dataMin>=M?(o=M,S=0):h.dataMax<=M&&(s=M,T=0)),h.min=C(c,o,h.dataMin),h.max=C(u,s,h.dataMax)),v&&(h.positiveValuesOnly&&!e&&Math.min(h.min,C(h.dataMin,h.min))<=0&&t.error(10,1),h.min=a(y(h.min),15),h.max=a(y(h.max),15)),h.range&&l(h.max)&&(h.userMin=h.min=c=Math.max(h.dataMin,h.minFromRange()),h.userMax=u=h.max,h.range=null),f(h,"foundExtremes"),h.beforePadding&&h.beforePadding(),h.adjustForMinRange(),A||h.axisPointRange||h.usePercentage||k||!l(h.min)||!l(h.max)||(n=h.max-h.min,n&&(!l(c)&&S&&(h.min-=n*S),!l(u)&&T&&(h.max+=n*T))),b(g.softMin)&&(h.min=Math.min(h.min,g.softMin)),b(g.softMax)&&(h.max=Math.max(h.max,g.softMax)),b(g.floor)&&(h.min=Math.max(h.min,g.floor)),b(g.ceiling)&&(h.max=Math.min(h.max,g.ceiling)),P&&l(h.dataMin)&&(M=M||0,!l(c)&&h.min<M&&h.dataMin>=M?h.min=M:!l(u)&&h.max>M&&h.dataMax<=M&&(h.max=M)),h.min===h.max||void 0===h.min||void 0===h.max?h.tickInterval=1:k&&!E&&O===h.linkedParent.options.tickPixelInterval?h.tickInterval=E=h.linkedParent.tickInterval:h.tickInterval=C(E,this.tickAmount?(h.max-h.min)/Math.max(this.tickAmount-1,1):void 0,A?1:(h.max-h.min)*O/Math.max(h.len,O)),w&&!e&&d(h.series,function(t){t.processData(h.min!==h.oldMin||h.max!==h.oldMax)}),h.setAxisTranslation(!0),h.beforeSetTickPositions&&h.beforeSetTickPositions(),h.postProcessTickInterval&&(h.tickInterval=h.postProcessTickInterval(h.tickInterval)),h.pointRange&&!E&&(h.tickInterval=Math.max(h.pointRange,h.tickInterval)),r=C(g.minTickInterval,h.isDatetimeAxis&&h.closestPointRange),!E&&h.tickInterval<r&&(h.tickInterval=r),_||v||E||(h.tickInterval=x(h.tickInterval,null,m(h.tickInterval),C(g.allowDecimals,!(h.tickInterval>.5&&h.tickInterval<5&&h.max>1e3&&h.max<9999)),!!this.tickAmount)),this.tickAmount||(h.tickInterval=h.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,n=e.tickPositions,i=this.getMinorTickInterval(),r=e.tickPositioner,o=e.startOnTick,a=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i&&this.tickInterval?this.tickInterval/5:i,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||e.allowDecimals!==!1),this.tickPositions=t=n&&n.slice(),t||(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()],t[0]===t[1]&&(t.length=1)),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max]),r&&(this.tickPositions=t=r))),this.paddedTicks=t.slice(0),this.trimTicks(t,o,a),this.isLinked||(this.single&&t.length<2&&(this.min-=.5,this.max+=.5),n||r||this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&i!==-(1/0))this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(i)&&t.push((r+i)/2)}},alignToOthers:function(){var t,e={},n=this.options;return this.chart.options.chart.alignTicks===!1||n.alignTicks===!1||this.isLog||d(this.chart[this.coll],function(n){var i=n.options,r=n.horiz,o=[r?i.left:i.top,i.width,i.height,i.pane].join(",");n.series.length&&(e[o]?t=!0:e[o]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e,n=this.tickInterval,i=this.tickPositions,r=this.tickAmount,o=this.finalTickAmt,s=i&&i.length;if(s<r){for(;i.length<r;)i.push(a(i[i.length-1]+n));this.transA*=(s-1)/(r-1),this.max=i[i.length-1]}else s>r&&(this.tickInterval*=2,this.setTickPositions());if(l(o)){for(t=e=i.length;t--;)(3===o&&t%2===1||o<=2&&t>0&&t<e-1)&&i.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e,n=this;n.oldMin=n.min,n.oldMax=n.max,n.oldAxisLength=n.len,n.setAxisSize(),e=n.len!==n.oldAxisLength,d(n.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||n.isLinked||n.forceRedraw||n.userMin!==n.oldUserMin||n.userMax!==n.oldUserMax||n.alignToOthers()?(n.resetStacks&&n.resetStacks(),n.forceRedraw=!1,n.getSeriesExtremes(),n.setTickInterval(),n.oldUserMin=n.userMin,n.oldUserMax=n.userMax,n.isDirty||(n.isDirty=e||n.min!==n.oldMin||n.max!==n.oldMax)):n.cleanStacks&&n.cleanStacks()},setExtremes:function(t,e,n,i,r){var o=this,a=o.chart;n=C(n,!0),d(o.series,function(t){delete t.kdTree}),r=h(r,{min:t,max:e}),f(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&a.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,C(r.min,n)),a=Math.max(i,C(r.max,i));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(n)&&(t<o&&(t=o),t>a&&(t=a)),l(i)&&(e<o&&(e=o),e>a&&(e=a))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,n=this.options,i=n.offsets||[0,0,0,0],r=this.horiz,o=this.width=Math.round(t.relativeLength(C(n.width,e.plotWidth-i[3]+i[1]),e.plotWidth)),a=this.height=Math.round(t.relativeLength(C(n.height,e.plotHeight-i[0]+i[2]),e.plotHeight)),s=this.top=Math.round(t.relativeLength(C(n.top,e.plotTop+i[0]),e.plotHeight,e.plotTop)),l=this.left=Math.round(t.relativeLength(C(n.left,e.plotLeft+i[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-a-s,this.right=e.chartWidth-o-l,this.len=Math.max(r?o:a,0),this.pos=r?l:s},getExtremes:function(){var t=this,e=t.isLog,n=t.lin2log;return{min:e?a(n(t.min)):t.min,max:e?a(n(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,n=e.isLog,i=e.lin2log,r=n?i(e.min):e.min,o=n?i(e.max):e.max;return null===t?t=r:r>t?t=r:o<t&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,n=(C(t,0)-90*this.side+720)%360;return e=n>15&&n<165?"right":n>195&&n<345?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=C(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,s=this.len/(((this.categories?1:0)+this.max-this.min)/o),u=i.rotation,h=this.labelMetrics(),f=Number.MAX_VALUE,p=function(t){var e=t/(s||1);return e=e>1?Math.ceil(e):1,e*o};return r?(n=!i.staggerLines&&!i.step&&(l(u)?[u]:s<C(i.autoRotationLimit,80)&&i.autoRotation),n&&d(n,function(n){var i;(n===u||n&&n>=-90&&n<=90)&&(e=p(Math.abs(h.h/Math.sin(c*n))),i=e+Math.abs(n/360),i<f&&(f=i,t=n,a=e))})):i.step||(a=p(h.h)),this.autoRotation=n,this.labelRotation=C(t,u),a},getSlotWidth:function(){var t=this.chart,e=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*this.len/i||!e&&(n.style&&parseInt(n.style.width,10)||r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,n,i,r=this.chart,o=r.renderer,a=this.tickPositions,s=this.ticks,l=this.options.labels,c=this.horiz,u=this.getSlotWidth(),h=Math.max(1,Math.round(u-2*(l.padding||5))),f={},p=this.labelMetrics(),m=l.style&&l.style.textOverflow,g=0;if(_(l.rotation)||(f.rotation=l.rotation||0),d(a,function(t){t=s[t],t&&t.labelLength>g&&(g=t.labelLength)}),this.maxLabelLength=g,this.autoRotation)g>h&&g>p.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t={width:h+"px"},!m))for(t.textOverflow="clip",n=a.length;!c&&n--;)i=a[n],e=s[i].label,e&&(e.styles&&"ellipsis"===e.styles.textOverflow?e.css({textOverflow:"clip"}):s[i].labelLength>u&&e.css({width:u+"px"}),e.getBBox().height>this.len/a.length-(p.h-p.f)&&(e.specCss={textOverflow:"ellipsis"}));f.rotation&&(t={width:(g>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight)+"px"},m||(t.textOverflow="ellipsis")),this.labelAlign=l.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(f.align=this.labelAlign),d(a,function(e){var n=s[e],i=n&&n.label;i&&(i.attr(f),t&&i.css(w(t,i.specCss)),delete i.specCss,n.rotation=f.rotation)}),this.tickRotCorr=o.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&this.tickPositions.length>0},addTitle:function(t){var e,n=this,i=n.chart.renderer,r=n.horiz,o=n.opposite,a=n.options,s=a.title;n.axisTitle||(e=s.textAlign,e||(e=(r?{low:"left",middle:"center",high:"right"}:{low:o?"right":"left",middle:"center",high:o?"left":"right"})[s.align]),n.axisTitle=i.text(s.text,0,0,s.useHTML).attr({zIndex:7,rotation:s.rotation||0,align:e}).addClass("highcharts-axis-title").css(s.style).add(n.axisGroup),n.axisTitle.isNew=!0),s.style.width||n.isRadial||n.axisTitle.css({width:n.len}),n.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new O(this,t)},getOffset:function(){var t,e,n,i,r,o,a=this,s=a.chart,c=s.renderer,u=a.options,h=a.tickPositions,f=a.ticks,p=a.horiz,m=a.side,g=s.inverted&&!a.isZAxis?[1,0,3,2][m]:m,v=0,y=0,b=u.title,_=u.labels,w=0,x=s.axisOffset,T=s.clipOffset,S=[-1,1,1,-1][m],E=u.className,O=a.axisParent,A=this.tickSize("tick");t=a.hasData(),a.showAxis=e=t||C(u.showEmpty,!0),a.staggerLines=a.horiz&&_.staggerLines,a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:u.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(E||"")).add(O),a.axisGroup=c.g("axis").attr({zIndex:u.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(E||"")).add(O),a.labelGroup=c.g("axis-labels").attr({zIndex:_.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(E||"")).add(O)),t||a.isLinked?(d(h,function(t,e){a.generateTick(t,e)}),a.renderUnsquish(),_.reserveSpace===!1||0!==m&&2!==m&&{1:"left",3:"right"}[m]!==a.labelAlign&&"center"!==a.labelAlign||d(h,function(t){w=Math.max(f[t].getLabelSize(),w)}),a.staggerLines&&(w*=a.staggerLines,a.labelOffset=w*(a.opposite?-1:1))):k(f,function(t,e){t.destroy(),delete f[e]}),b&&b.text&&b.enabled!==!1&&(a.addTitle(e),e&&b.reserveSpace!==!1&&(a.titleOffset=v=a.axisTitle.getBBox()[p?"height":"width"],n=b.offset,y=l(n)?0:C(b.margin,p?5:10))),a.renderLine(),a.offset=S*C(u.offset,x[m]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},o=0===m?-a.labelMetrics().h:2===m?a.tickRotCorr.y:0,i=Math.abs(w)+y,w&&(i-=o,i+=S*(p?C(_.y,a.tickRotCorr.y+8*S):_.x)),a.axisTitleMargin=C(n,i),x[m]=Math.max(x[m],a.axisTitleMargin+v+S*a.offset,i,t&&h.length&&A?A[0]+S*a.offset:0),r=u.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2),T[g]=Math.max(T[g],r)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,a=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?a:this.top,"L",r?e.chartWidth-this.right:o,r?a:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,a=this.opposite,s=this.offset,l=r.x||0,c=r.y||0,u=this.axisTitle,d=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,u),h=Math.max(u.getBBox(null,0).height-d.h-1,0),f={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],p=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+[-h,h,d.f,-h][this.side];return{x:t?f+l:p+(a?this.width:0)+s+l,y:t?p+c-(a?this.height:0)+s:f+c}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new O(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,i=this.ticks,r=this.chart.hasRendered&&b(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(i[t]||(i[t]=new O(this,t)),r&&i[t].isNew&&i[t].render(e,!0,.1),i[t].render(e))},render:function(){var e,i,r=this,o=r.chart,a=o.renderer,s=r.options,l=r.isLog,c=r.lin2log,u=r.isLinked,h=r.tickPositions,f=r.axisTitle,p=r.ticks,m=r.minorTicks,g=r.alternateBands,v=s.stackLabels,y=s.alternateGridColor,_=r.tickmarkOffset,w=r.axisLine,x=r.showAxis,C=n(a.globalAnimation);if(r.labelEdge.length=0,r.overlap=!1,d([p,m,g],function(t){k(t,function(t){t.isActive=!1})}),(r.hasData()||u)&&(r.minorTickInterval&&!r.categories&&d(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),h.length&&(d(h,function(t,e){r.renderTick(t,e)}),_&&(0===r.min||r.single)&&(p[-1]||(p[-1]=new O(r,-1,null,!0)),p[-1].render(-1))),y&&d(h,function(n,a){i=void 0!==h[a+1]?h[a+1]+_:r.max-_,a%2===0&&n<r.max&&i<=r.max+(o.polar?-_:_)&&(g[n]||(g[n]=new t.PlotLineOrBand(r)),e=n+_,g[n].options={from:l?c(e):e,to:l?c(i):i,color:y},g[n].render(),g[n].isActive=!0)}),r._addedPlotLB||(d((s.plotLines||[]).concat(s.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),d([p,m,g],function(t){var e,n=[],i=C.duration,r=function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])};k(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))}),E(r,t!==g&&o.hasRendered&&i?i:0)}),w&&(w[w.isPlaced?"animate":"attr"]({d:this.getLinePath(w.strokeWidth())}),w.isPlaced=!0,w[x?"show":"hide"](!0)),f&&x){var T=r.getTitlePosition();b(T.y)?(f[f.isNew?"attr":"animate"](T),f.isNew=!1):(f.attr("y",-9999),f.isNew=!0)}v&&v.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(t){t.render()})),d(this.series,function(t){t.isDirty=!0})},keepProps:["extKey","hcEvents","names","series","userMax","userMin"],destroy:function(t){var e,n,i=this,r=i.stacks,o=i.plotLinesAndBands;if(t||T(i),k(r,function(t,e){u(t),r[e]=null}),d([i.ticks,i.minorTicks,i.alternateBands],function(t){u(t)}),o)for(n=o.length;n--;)o[n].destroy();d(["stackTotalGroup","axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross"],function(t){i[t]&&(i[t]=i[t].destroy())});for(e in i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();k(i,function(t,e){v(e,i.keepProps)===-1&&delete i[e]})},drawCrosshair:function(t,e){var n,i,r,a=this.crosshair,s=C(a.snap,!0),c=this.cross;if(t||(t=this.cross&&this.cross.e),this.crosshair&&(l(e)||!s)!==!1){if(s?l(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:C(e.stackY,e.y)),null,null,null,i)||null),!l(n))return void this.hideCrosshair();r=this.categories&&!this.isRadial,c||(this.cross=c=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+a.className).attr({zIndex:C(a.zIndex,2)}).add(),c.attr({stroke:a.color||(r?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&c.attr({dashstyle:a.dashStyle})),c.show().attr({d:n}),r&&!a.width&&c.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=A,A}(e);return function(t){var e=t.Axis,n=t.Date,i=t.dateFormat,r=t.defaultOptions,o=t.defined,a=t.each,s=t.extend,l=t.getMagnitude,c=t.getTZOffset,u=t.normalizeTickInterval,d=t.pick,h=t.timeUnits;e.prototype.getTimeTicks=function(t,e,l,u){var f,p,m,g,v=[],y={},b=r.global.useUTC,_=new n(e-Math.max(c(e),c(l))),w=n.hcMakeTime,x=t.unitRange,k=t.count;if(o(e)){_[n.hcSetMilliseconds](x>=h.second?0:k*Math.floor(_.getMilliseconds()/k)),x>=h.second&&_[n.hcSetSeconds](x>=h.minute?0:k*Math.floor(_.getSeconds()/k)),x>=h.minute&&_[n.hcSetMinutes](x>=h.hour?0:k*Math.floor(_[n.hcGetMinutes]()/k)),x>=h.hour&&_[n.hcSetHours](x>=h.day?0:k*Math.floor(_[n.hcGetHours]()/k)),x>=h.day&&_[n.hcSetDate](x>=h.month?1:k*Math.floor(_[n.hcGetDate]()/k)),x>=h.month&&(_[n.hcSetMonth](x>=h.year?0:k*Math.floor(_[n.hcGetMonth]()/k)),p=_[n.hcGetFullYear]()),x>=h.year&&(p-=p%k,_[n.hcSetFullYear](p)),x===h.week&&_[n.hcSetDate](_[n.hcGetDate]()-_[n.hcGetDay]()+d(u,1)),p=_[n.hcGetFullYear]();var C=_[n.hcGetMonth](),T=_[n.hcGetDate](),S=_[n.hcGetHours]();(n.hcTimezoneOffset||n.hcGetTimezoneOffset)&&(g=(!b||!!n.hcGetTimezoneOffset)&&(l-e>4*h.month||c(e)!==c(l)),_=_.getTime(),m=c(_),_=new n(_+m));var E=_.getTime();for(f=1;E<l;)v.push(E),x===h.year?E=w(p+f*k,0):x===h.month?E=w(p,C+f*k):!g||x!==h.day&&x!==h.week?g&&x===h.hour?E=w(p,C,T,S+f*k,0,0,m)-m:E+=x*k:E=w(p,C,T+f*k*(x===h.day?1:7)),f++;v.push(E),x<=h.hour&&v.length<1e4&&a(v,function(t){t%18e5===0&&"000000000"===i("%H%M%S%L",t)&&(y[t]="day")})}return v.info=s(t,{higherRanks:y,totalRange:x*k}),v},e.prototype.normalizeTimeTickInterval=function(t,e){var n,i,r=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],o=r[r.length-1],a=h[o[0]],s=o[1];for(i=0;i<r.length;i++)if(o=r[i],a=h[o[0]],s=o[1],r[i+1]){var c=(a*s[s.length-1]+h[r[i+1][0]])/2;if(t<=c)break}return a===h.year&&t<5*a&&(s=[1,2,5]),n=u(t/a,s,"year"===o[0]?Math.max(l(t/a),1):1),{unitRange:a,count:n,unitName:o[0]}}}(e),function(t){var e=t.Axis,n=t.getMagnitude,i=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,a,s){var l=this,c=l.options,u=l.len,d=l.lin2log,h=l.log2lin,f=[];if(s||(l._minorAutoInterval=null),t>=.5)t=Math.round(t),f=l.getLinearTickPositions(t,e,a);else if(t>=.08){var p,m,g,v,y,b,_,w=Math.floor(e);for(p=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],m=w;m<a+1&&!_;m++)for(v=p.length,g=0;g<v&&!_;g++)y=h(d(m)*p[g]),y>e&&(!s||b<=a)&&void 0!==b&&f.push(b),b>a&&(_=!0),b=y}else{var x=d(e),k=d(a),C=s?this.getMinorTickInterval():c.tickInterval,T="auto"===C?null:C,S=c.tickPixelInterval/(s?5:1),E=s?u/l.tickPositions.length:u;t=o(T,l._minorAutoInterval,(k-x)*S/(E||1)),t=r(t,null,n(t)),f=i(l.getLinearTickPositions(t,x,k),h),s||(l._minorAutoInterval=t/5)}return s||(l.tickInterval=t),f},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var n=t.arrayMax,i=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,a=t.each,s=t.erase,l=t.merge,c=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e,n=this,i=n.axis,o=i.horiz,a=n.options,s=a.label,u=n.label,d=a.to,h=a.from,f=a.value,p=r(h)&&r(d),m=r(f),g=n.svgElem,v=!g,y=[],b=a.color,_=c(a.zIndex,0),w=a.events,x={"class":"highcharts-plot-"+(p?"band ":"line ")+(a.className||"")},k={},C=i.chart.renderer,T=p?"bands":"lines",S=i.log2lin;if(i.isLog&&(h=S(h),d=S(d),f=S(f)),m?(x={stroke:b,"stroke-width":a.width},a.dashStyle&&(x.dashstyle=a.dashStyle)):p&&(b&&(x.fill=b),a.borderWidth&&(x.stroke=a.borderColor,x["stroke-width"]=a.borderWidth)),k.zIndex=_,T+="-"+_,e=i.plotLinesAndBandsGroups[T],e||(i.plotLinesAndBandsGroups[T]=e=C.g("plot-"+T).attr(k).add()),v&&(n.svgElem=g=C.path().attr(x).add(e)),m)y=i.getPlotLinePath(f,g.strokeWidth());else{if(!p)return;y=i.getPlotBandPath(h,d,a)}return v&&y&&y.length?(g.attr({d:y}),w&&t.objectEach(w,function(t,e){g.on(e,function(t){w[e].apply(n,[t])})})):g&&(y?(g.show(),g.animate({d:y})):(g.hide(),u&&(n.label=u=u.destroy()))),s&&r(s.text)&&y&&y.length&&i.width>0&&i.height>0&&!y.flat?(s=l({align:o&&p&&"center",x:o?!p&&4:10,verticalAlign:!o&&p&&"middle",y:o?p?16:10:p?6:-4,rotation:o&&!p&&90},s),this.renderLabel(s,y,p,_)):u&&u.hide(),n},renderLabel:function(t,e,r,o){var a,s,l,c,u,d=this,h=d.label,f=d.axis.chart.renderer;h||(a={align:t.textAlign||t.align,rotation:t.rotation,"class":"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},a.zIndex=o,d.label=h=f.text(t.text,0,0,t.useHTML).attr(a).add(),h.css(t.style)),s=e.xBounds||[e[1],e[4],r?e[6]:e[1]],l=e.yBounds||[e[2],e[5],r?e[7]:e[2]],c=i(s),u=i(l),h.align(t,!1,{x:c,y:u,width:n(s)-c,height:n(l)-u}),h.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n,i,r=this.getPlotLinePath(e,null,null,!0),o=this.getPlotLinePath(t,null,null,!0),a=[],s=this.horiz,l=1,c=t<this.min&&e<this.min||t>this.max&&e>this.max;if(o&&r)for(c&&(i=o.toString()===r.toString(),l=0),n=0;n<o.length;n+=6)s&&r[n+1]===o[n+1]?(r[n+1]+=l,r[n+4]+=l):s||r[n+2]!==o[n+2]||(r[n+2]+=l,r[n+5]+=l),a.push("M",o[n+1],o[n+2],"L",o[n+4],o[n+5],r[n+4],r[n+5],r[n+1],r[n+2],"z"),a.flat=i;else o=null;return a},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();a([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&s(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,n),function(t){var e=t.dateFormat,n=t.each,i=t.extend,r=t.format,o=t.isNumber,a=t.map,s=t.merge,l=t.pick,c=t.splat,u=t.syncTimeout,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){n(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),s(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,s(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),
clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,r){var o=this,a=o.now,s=o.options.animation!==!1&&!o.isHidden&&(Math.abs(t-a.x)>1||Math.abs(e-a.y)>1),l=o.followPointer||o.len>1;i(a,{x:s?(2*a.x+t)/3:t,y:s?(a.y+e)/2:e,anchorX:l?void 0:s?(2*a.anchorX+n)/3:n,anchorY:l?void 0:s?(a.anchorY+r)/2:r}),o.getLabel().attr(a),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,n,r)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,r,o,s=this.chart,l=s.inverted,u=s.plotTop,d=s.plotLeft,h=0,f=0;return t=c(t),i=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=s.pointer.normalize(e)),i=[e.chartX-s.plotLeft,e.chartY-u]),i||(n(t,function(t){r=t.series.yAxis,o=t.series.xAxis,h+=t.plotX+(!l&&o?o.left-d:0),f+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&r?r.top-u:0)}),h/=t.length,f/=t.length,i=[l?s.plotWidth-f:h,this.shared&&!l&&t.length>1&&e?e.chartY-u:l?s.plotHeight-h:f]),a(i,Math.round)},getPosition:function(t,e,n){var i,r=this.chart,o=this.distance,a={},s=r.inverted&&n.h||0,c=["y",r.chartHeight,e,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],u=["x",r.chartWidth,t,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],d=!this.followPointer&&l(n.ttBelow,!r.inverted==!!n.negative),h=function(t,e,n,i,r,l){var c=n<i-o,u=i+o+n<e,h=i-o-n,f=i+o;if(d&&u)a[t]=f;else if(!d&&c)a[t]=h;else if(c)a[t]=Math.min(l-n,h-s<0?h:h-s);else{if(!u)return!1;a[t]=Math.max(r,f+s+n>e?f:f+s)}},f=function(t,e,n,i){var r;return i<o||i>e-o?r=!1:i<n/2?a[t]=1:i>e-n/2?a[t]=e-n-2:a[t]=i-n/2,r},p=function(t){var e=c;c=u,u=e,i=t},m=function(){h.apply(0,c)!==!1?f.apply(0,u)!==!1||i||(p(!0),m()):i?a.x=a.y=0:(p(!0),m())};return(r.inverted||this.len>1)&&p(),m(),a},defaultFormatter:function(t){var e,n=this.points||c(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(t,e){var i,r,o,a,s,u,d=this,h=d.options,f=t,p={},m=[],g=h.formatter||d.defaultFormatter,v=d.shared;h.enabled&&(clearTimeout(this.hideTimer),d.followPointer=c(f)[0].series.tooltipOptions.followPointer,a=d.getAnchor(f,e),r=a[0],o=a[1],!v||f.series&&f.series.noSharedTooltip?p=f.getLabelConfig():(n(f,function(t){t.setState("hover"),m.push(t.getLabelConfig())}),p={x:f[0].category,y:f[0].y},p.points=m,f=f[0]),this.len=m.length,s=g.call(p,d),u=f.series,this.distance=l(u.tooltipOptions.distance,16),s===!1?this.hide():(i=d.getLabel(),d.isHidden&&i.attr({opacity:1}).show(),d.split?this.renderSplit(s,c(t)):(h.style.width||i.css({width:this.chart.spacingBox.width}),i.attr({text:s&&s.join?s.join(""):s}),i.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(f.colorIndex,u.colorIndex)),i.attr({stroke:h.borderColor||f.color||u.color||"#666666"}),d.updatePosition({plotX:r,plotY:o,negative:f.negative,ttBelow:f.ttBelow,h:a[2]||0})),this.isHidden=!1))},renderSplit:function(e,i){var r=this,o=[],a=this.chart,s=a.renderer,c=!0,u=this.options,d=0,h=this.getLabel();t.isString(e)&&(e=[!1,e]),n(e.slice(0,i.length+1),function(t,e){if(t!==!1){var n,f,p,m,g=i[e-1]||{isHeader:!0,plotX:i[0].plotX},v=g.series||r,y=v.tt,b=g.series||{},_="highcharts-color-"+l(g.colorIndex,b.colorIndex,"none");y||(v.tt=y=s.label(null,null,null,"callout",null,null,u.useHTML).addClass("highcharts-tooltip-box "+_).attr({padding:u.padding,r:u.borderRadius,fill:u.backgroundColor,stroke:u.borderColor||g.color||b.color||"#333333","stroke-width":u.borderWidth}).add(h)),y.isActive=!0,y.attr({text:t}),y.css(u.style).shadow(u.shadow),p=y.getBBox(),m=p.width+y.strokeWidth(),g.isHeader?(d=p.height,f=Math.max(0,Math.min(g.plotX+a.plotLeft-m/2,a.chartWidth-m))):f=g.plotX+a.plotLeft-l(u.distance,16)-m,f<0&&(c=!1),n=(g.series&&g.series.yAxis&&g.series.yAxis.pos)+(g.plotY||0),n-=a.plotTop,o.push({target:g.isHeader?a.plotHeight+d:n,rank:g.isHeader?1:0,size:v.tt.getBBox().height+1,point:g,x:f,tt:y})}}),this.cleanSplit(),t.distribute(o,a.plotHeight+d),n(o,function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+a.plotLeft+l(u.distance,16),y:t.pos+a.plotTop,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?t.pos+a.plotTop-15:e.plotY+n.yAxis.pos})})},updatePosition:function(t){var e=this.chart,n=this.getLabel(),i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(Math.round(i.x),Math.round(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getDateFormat:function(t,n,i,r){var o,a,s=e("%m-%d %H:%M:%S.%L",n),l="01-01 00:00:00.000",c={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";for(a in d){if(t===d.week&&+e("%w",n)===i&&s.substr(6)===l.substr(6)){a="week";break}if(d[a]>t){a=u;break}if(c[a]&&s.substr(c[a])!==l.substr(c[a]))break;"week"!==a&&(u=a)}return a&&(o=r[a]),o},getXDateFormat:function(t,e,n){var i,r=e.dateTimeLabelFormats,o=n&&n.closestPointRange;return i=o?this.getDateFormat(o,t.x,n.options.startOfWeek,r):r.day,i||r.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",a=t.series,s=a.tooltipOptions,l=s.xDateFormat,c=a.xAxis,u=c&&"datetime"===c.options.type&&o(t.key),d=s[i+"Format"];return u&&!l&&(l=this.getXDateFormat(t,s,c)),u&&l&&n(t.point&&t.point.tooltipDateKeys||["key"],function(t){d=d.replace("{point."+t+"}","{point."+t+":"+l+"}")}),r(d,{point:t,series:a})},bodyFormatter:function(t){return a(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}}}(e),function(t){var e=t,n=e.addEvent,i=e.attr,r=e.charts,o=e.color,a=e.css,s=e.defined,l=e.each,c=e.extend,u=e.find,d=e.fireEvent,h=e.isObject,f=e.offset,p=e.pick,m=e.splat,g=e.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=p(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e,n,i=this.chart,r=i.options.chart,o=r.zoomType||"",a=i.inverted;/touch/.test(t.type)&&(o=p(r.pinchType,o)),this.zoomX=e=/x/.test(o),this.zoomY=n=/y/.test(o),this.zoomHor=e&&!a||n&&a,this.zoomVert=n&&!a||e&&a,this.hasZoom=e||n},normalize:function(t,e){var n;return n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=f(this.chart.container)),c(t,{chartX:Math.round(n.pageX-e.left),chartY:Math.round(n.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,n){var i,r=function(t,n){var i,r=t.distX-n.distX,o=t.dist-n.dist,a=(n.series.group&&n.series.group.zIndex)-(t.series.group&&t.series.group.zIndex);return i=0!==r&&e?r:0!==o?o:0!==a?a:t.series.index>n.series.index?-1:1};return l(t,function(t){var o=t.noSharedTooltip&&e,a=!o&&t.options.findNearestPointBy.indexOf("y")<0,s=t.searchPoint(n,a);h(s,!0)&&(!h(i,!0)||r(i,s)>0)&&(i=s)}),i},getPointFromEvent:function(t){for(var e,n=t.target;n&&!e;)e=n.point,n=n.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=t.series,i=n.xAxis,r=n.yAxis,o=p(t.clientX,t.plotX);if(i&&r)return e?{chartX:i.len+i.pos-o,chartY:r.len+r.pos-t.plotY}:{chartX:o+i.pos,chartY:t.plotY+r.pos}},getHoverData:function(t,n,i,r,o,a,s){var c,d=[],f=n,m=s&&s.isBoosting,g=!(!r||!t),v=f&&!f.stickyTracking,y=function(t){return t.visible&&!(!o&&t.directTouch)&&p(t.options.enableMouseTracking,!0)},b=v?[f]:e.grep(i,function(t){return y(t)&&t.stickyTracking});return c=g?t:this.findNearestKDPoint(b,o,a),f=c&&c.series,c&&(o&&!f.noSharedTooltip?(b=e.grep(i,function(t){return y(t)&&!t.noSharedTooltip}),l(b,function(t){var e=u(t.points,function(t){return t.x===c.x&&!t.isNull});h(e)&&(m&&(e=t.getPoint(e)),d.push(e))})):d.push(c)),{hoverPoint:c,hoverSeries:f,hoverPoints:d}},runPointActions:function(t,i){var o,a,s,c,u=this,d=u.chart,h=d.series,f=d.tooltip&&d.tooltip.options.enabled?d.tooltip:void 0,m=!!f&&f.shared,g=i||d.hoverPoint,v=g&&g.series||d.hoverSeries,y=!!i||v&&v.directTouch&&u.isDirectTouch,b=this.getHoverData(g,v,h,y,m,t,{isBoosting:d.isBoosting});if(g=b.hoverPoint,c=b.hoverPoints,v=b.hoverSeries,a=v&&v.tooltipOptions.followPointer,o=m&&v&&!v.noSharedTooltip,g&&(g!==d.hoverPoint||f&&f.isHidden)){if(l(d.hoverPoints||[],function(t){e.inArray(t,c)===-1&&t.setState()}),l(c||[],function(t){t.setState("hover")}),d.hoverSeries!==v&&v.onMouseOver(),d.hoverPoint&&d.hoverPoint.firePointEvent("mouseOut"),!g.series)return;g.firePointEvent("mouseOver"),d.hoverPoints=c,d.hoverPoint=g,f&&f.refresh(o?c:g,t)}else a&&f&&!f.isHidden&&(s=f.getAnchor([{}],t),f.updatePosition({plotX:s[0],plotY:s[1]}));u.unDocMouseMove||(u.unDocMouseMove=n(d.container.ownerDocument,"mousemove",function(t){var n=r[e.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(t)})),l(d.axes,function(n){var i=p(n.crosshair.snap,!0),r=i?e.find(c,function(t){return t.series[n.coll]===n}):void 0;r||!i?n.drawCrosshair(t,r):n.hideCrosshair()})},reset:function(t,e){var n=this,i=n.chart,r=i.hoverSeries,o=i.hoverPoint,a=i.hoverPoints,s=i.tooltip,c=s&&s.shared?a:o;t&&c&&l(m(c),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&c&&(s.refresh(c),o&&(o.setState(o.state,!0),l(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),a&&l(a,function(t){t.setState()}),r&&r.onMouseOut(),s&&s.hide(e),n.unDocMouseMove&&(n.unDocMouseMove=n.unDocMouseMove()),l(i.axes,function(t){t.hideCrosshair()}),n.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;l(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n,i=this.chart,r=i.options.chart,a=t.chartX,s=t.chartY,l=this.zoomHor,c=this.zoomVert,u=i.plotLeft,d=i.plotTop,h=i.plotWidth,f=i.plotHeight,p=this.selectionMarker,m=this.mouseDownX,g=this.mouseDownY,v=r.panKey&&t[r.panKey+"Key"];p&&p.touch||(a<u?a=u:a>u+h&&(a=u+h),s<d?s=d:s>d+f&&(s=d+f),this.hasDragged=Math.sqrt(Math.pow(m-a,2)+Math.pow(g-s,2)),this.hasDragged>10&&(e=i.isInsidePlot(m-u,g-d),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!v&&(p||(this.selectionMarker=p=i.renderer.rect(u,d,l?1:h,c?1:f,0).attr({fill:r.selectionMarkerFill||o("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add())),p&&l&&(n=a-m,p.attr({width:Math.abs(n),x:(n>0?0:n)+m})),p&&c&&(n=s-g,p.attr({height:Math.abs(n),y:(n>0?0:n)+g})),e&&!p&&r.panning&&i.pan(t,r.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={originalEvent:t,xAxis:[],yAxis:[]},u=this.selectionMarker,h=u.attr?u.attr("x"):u.x,f=u.attr?u.attr("y"):u.y,p=u.attr?u.attr("width"):u.width,m=u.attr?u.attr("height"):u.height;(this.hasDragged||i)&&(l(n.axes,function(n){if(n.zoomEnabled&&s(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var a=n.horiz,l="touchend"===t.type?n.minPixelPadding:0,c=n.toValue((a?h:f)+l),u=n.toValue((a?h+p:f+m)-l);o[n.coll].push({axis:n,min:Math.min(c,u),max:Math.max(c,u)}),r=!0}}),r&&d(n,"selection",o,function(t){n.zoom(c(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(a(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){r[e.hoverChartIndex]&&r[e.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(t){var n=r[e.hoverChartIndex];n&&(t.relatedTarget||t.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(t){var n=this.chart;s(e.hoverChartIndex)&&r[e.hoverChartIndex]&&r[e.hoverChartIndex].mouseIsDown||(e.hoverChartIndex=n.index),t=this.normalize(t),t.returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)||n.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=i(t,"class")){if(n.indexOf(e)!==-1)return!0;if(n.indexOf("highcharts-container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,n=t.relatedTarget||t.toElement;this.isDirectTouch=!1,!e||!n||e.stickyTracking||this.inClass(n,"highcharts-tooltip")||this.inClass(n,"highcharts-series-"+e.index)&&this.inClass(n,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(d(n.series,"click",c(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(c(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&d(e,"click",t)))},setDOMEvents:function(){var t=this,i=t.chart.container,r=i.ownerDocument;i.onmousedown=function(e){t.onContainerMouseDown(e)},i.onmousemove=function(e){t.onContainerMouseMove(e)},i.onclick=function(e){t.onContainerClick(e)},this.unbindContainerMouseLeave=n(i,"mouseleave",t.onContainerMouseLeave),e.unbindDocumentMouseUp||(e.unbindDocumentMouseUp=n(r,"mouseup",t.onDocumentMouseUp)),e.hasTouch&&(i.ontouchstart=function(e){t.onContainerTouchStart(e)},i.ontouchmove=function(e){t.onContainerTouchMove(e)},e.unbindDocumentTouchEnd||(e.unbindDocumentTouchEnd=n(r,"touchend",t.onDocumentTouchEnd)))},destroy:function(){var t=this;t.unDocMouseMove&&t.unDocMouseMove(),this.unbindContainerMouseLeave(),e.chartCount||(e.unbindDocumentMouseUp&&(e.unbindDocumentMouseUp=e.unbindDocumentMouseUp()),e.unbindDocumentTouchEnd&&(e.unbindDocumentTouchEnd=e.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),e.objectEach(t,function(e,n){t[n]=null})}}}(e),function(t){var e=t.charts,n=t.each,i=t.extend,r=t.map,o=t.noop,a=t.pick,s=t.Pointer;i(s.prototype,{pinchTranslate:function(t,e,n,i,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,a,s){var l,c,u,d,h,f,p=this.chart,m=t?"x":"y",g=t?"X":"Y",v="chart"+g,y=t?"width":"height",b=p["plot"+(t?"Left":"Top")],_=s||1,w=p.inverted,x=p.bounds[t?"h":"v"],k=1===e.length,C=e[0][v],T=n[0][v],S=!k&&e[1][v],E=!k&&n[1][v],O=function(){!k&&Math.abs(C-S)>20&&(_=s||Math.abs(T-E)/Math.abs(C-S)),u=(b-T)/_+C,l=p["plot"+(t?"Width":"Height")]/_};O(),c=u,c<x.min?(c=x.min,d=!0):c+l>x.max&&(c=x.max-l,d=!0),d?(T-=.8*(T-a[m][0]),k||(E-=.8*(E-a[m][1])),O()):a[m]=[T,E],w||(o[m]=u-b,o[y]=l),f=w?t?"scaleY":"scaleX":"scale"+g,h=w?1/_:_,r[y]=l,r[m]=c,i[f]=_,i["translate"+g]=h*b+(T-h*C)},pinch:function(t){var e=this,s=e.chart,l=e.pinchDown,c=t.touches,u=c.length,d=e.lastValidTouch,h=e.hasZoom,f=e.selectionMarker,p={},m=1===u&&(e.inClass(t.target,"highcharts-tracker")&&s.runTrackerClick||e.runChartClick),g={};u>1&&(e.initiated=!0),h&&e.initiated&&!m&&t.preventDefault(),r(c,function(t){return e.normalize(t)}),"touchstart"===t.type?(n(c,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),d.x=[l[0].chartX,l[1]&&l[1].chartX],d.y=[l[0].chartY,l[1]&&l[1].chartY],n(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(a(t.options.min,t.dataMin)),r=t.toPixels(a(t.options.max,t.dataMax)),o=Math.min(i,r),l=Math.max(i,r);e.min=Math.min(t.pos,o-n),e.max=Math.max(t.pos+t.len,l+n)}}),e.res=!0):e.followTouchMove&&1===u?this.runPointActions(e.normalize(t)):l.length&&(f||(e.selectionMarker=f=i({destroy:o,touch:!0},s.plotBox)),e.pinchTranslate(l,c,p,f,g,d),e.hasPinched=h,e.scaleGroups(p,g),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,r,o,s=this.chart;s.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=s.index,1===e.touches.length?(e=this.normalize(e),o=s.isInsidePlot(e.chartX-s.plotLeft,e.chartY-s.plotTop),o&&!s.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(r=this.pinchDown,i=!!r[0]&&Math.sqrt(Math.pow(r[0].chartX-e.chartX,2)+Math.pow(r[0].chartY-e.chartY,2))>=4),a(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(e),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,a=t.hasTouch,s=t.noop,l=t.Pointer,c=t.removeEvent,u=t.win,d=t.wrap;if(!a&&(u.PointerEvent||u.MSPointerEvent)){var h={},f=!!u.PointerEvent,p=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(h,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},m=function(e,i,r,o){var a;"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),a=n[t.hoverChartIndex].pointer,a[i]({type:r,target:e.currentTarget,preventDefault:s,touches:p()}))};o(l.prototype,{onContainerPointerDown:function(t){m(t,"onContainerTouchStart","touchstart",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){m(t,"onContainerTouchMove","touchmove",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){m(t,"onDocumentTouchEnd","touchend",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,f?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,f?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,f?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),d(l.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),d(l.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),d(l.prototype,"destroy",function(t){this.batchMSEvents(c),t.call(this)})}}(e),function(t){var e=t,n=e.addEvent,i=e.css,r=e.discardElement,o=e.defined,a=e.each,s=e.isFirefox,l=e.marginNames,c=e.merge,u=e.pick,d=e.setAnimation,h=e.stableSort,f=e.win,p=e.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),n(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.maxItemWidth=0,this.itemHeight=0,this.symbolWidth=u(t.symbolWidth,16),this.pages=[]},update:function(t,e){var n=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,u(e,!0)&&n.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n=this,i=n.options,r=t.legendItem,o=t.legendLine,a=t.legendSymbol,s=n.itemHiddenStyle.color,l=e?i.itemStyle.color:s,c=e?t.color||s:s,u=t.options&&t.options.marker,d={fill:c};r&&r.css({fill:l,color:l}),o&&o.attr({stroke:c}),a&&(u&&a.isMarker&&(d=t.pointAttribs(),e||(d.stroke=d.fill=s)),a.attr(d))},positionItem:function(t){var e=this,n=e.options,i=n.symbolPadding,r=!n.rtl,o=t._legendItemPos,a=o[0],s=o[1],l=t.checkbox,c=t.legendGroup;c&&c.element&&c.translate(r?a:e.legendWidth-a-2*i-4,s),l&&(l.x=a,l.y=s)},destroyItem:function(t){var e=t.checkbox;a(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&r(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}a(this.getAllItems(),function(e){a(["legendItem","legendGroup"],t,e)}),a(["clipRect","up","down","pager","nav","box","title","group"],t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,n=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,a(this.allItems,function(o){var a,s=o.checkbox;s&&(a=t+r+s.y+(this.scrollOffset||0)+3,i(s,{left:e.translateX+o.checkboxOffset+s.x-20+"px",top:a+"px",display:a>t-6&&a<t+n-6?"":"none"}))},this))},renderTitle:function(){var t,e=this.options,n=this.padding,i=e.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,n-3,n-4,null,null,null,e.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),r=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(t){var n=this.options;t.legendItem.attr({text:n.labelFormat?e.format(n.labelFormat,t):n.labelFormatter.call(t)})},renderItem:function(t){var e,n,i,r=this,o=r.chart,a=o.renderer,s=r.options,l="horizontal"===s.layout,d=r.symbolWidth,h=s.symbolPadding,f=r.itemStyle,p=r.itemHiddenStyle,m=r.padding,g=l?u(s.itemDistance,20):0,v=!s.rtl,y=s.width,b=s.itemMarginBottom||0,_=r.itemMarginTop,w=t.legendItem,x=!t.series,k=!x&&t.series.drawLegendSymbol?t.series:t,C=k.options,T=r.createCheckboxForItem&&C&&C.showCheckbox,S=d+h+g+(T?20:0),E=s.useHTML,O=12,A=t.options.className;w||(t.legendGroup=a.g("legend-item").addClass("highcharts-"+k.type+"-series highcharts-color-"+t.colorIndex+(A?" "+A:"")+(x?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(r.scrollGroup),t.legendItem=w=a.text("",v?d+h:-h,r.baseline||0,E).css(c(t.visible?f:p)).attr({align:v?"left":"right",zIndex:2}).add(t.legendGroup),r.baseline||(O=f.fontSize,r.fontMetrics=a.fontMetrics(O,w),r.baseline=r.fontMetrics.f+3+_,w.attr("y",r.baseline)),r.symbolHeight=s.symbolHeight||r.fontMetrics.f,k.drawLegendSymbol(r,t),r.setItemEvents&&r.setItemEvents(t,w,E),T&&r.createCheckboxForItem(t)),r.colorizeItem(t,t.visible),f.width||w.css({width:(s.itemWidth||s.width||o.spacingBox.width)-S}),r.setText(t),n=w.getBBox(),i=t.checkboxOffset=s.itemWidth||t.legendItemWidth||n.width+S,r.itemHeight=e=Math.round(t.legendItemHeight||n.height||r.symbolHeight),l&&r.itemX-m+i>(y||o.spacingBox.width-2*m-s.x)&&(r.itemX=m,r.itemY+=_+r.lastLineHeight+b,r.lastLineHeight=0),r.maxItemWidth=Math.max(r.maxItemWidth,i),r.lastItemY=_+r.itemY+b,r.lastLineHeight=Math.max(e,r.lastLineHeight),t._legendItemPos=[r.itemX,r.itemY],l?r.itemX+=i:(r.itemY+=_+e+b,r.lastLineHeight=e),r.offsetWidth=y||Math.max((l?r.itemX-m-(t.checkbox?0:g):i)+m,r.offsetWidth)},getAllItems:function(){var t=[];return a(this.chart.series,function(e){var n=e&&e.options;e&&u(n.showInLegend,!o(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var n=this.chart,i=this.options,r=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);i.floating||a([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(a,s){a.test(r)&&!o(t[s])&&(n[l[s]]=Math.max(n[l[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+u(i.margin,12)+e[s]))})},render:function(){var t,e,n,i,r=this,o=r.chart,s=o.renderer,l=r.group,u=r.box,d=r.options,f=r.padding;r.itemX=f,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,l||(r.group=l=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(l),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),h(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),d.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,a(t,function(t){r.renderItem(t)}),n=(d.width||r.offsetWidth)+f,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=f,u||(r.box=u=s.rect().addClass("highcharts-legend-box").attr({r:d.borderRadius}).add(l),u.isNew=!0),u.attr({stroke:d.borderColor,"stroke-width":d.borderWidth||0,fill:d.backgroundColor||"none"}).shadow(d.shadow),n>0&&i>0&&(u[u.isNew?"attr":"animate"](u.crisp.call({},{x:0,y:0,width:n,height:i},u.strokeWidth())),u.isNew=!1),u[e?"show":"hide"](),r.legendWidth=n,r.legendHeight=i,a(t,function(t){r.positionItem(t)}),e&&l.align(c(d,{width:n,height:i}),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,o=r.renderer,s=this.options,l=s.y,c="top"===s.verticalAlign,d=this.padding,h=r.spacingBox.height+(c?-l:l)-d,f=s.maxHeight,p=this.clipRect,m=s.navigation,g=u(m.animation,!0),v=m.arrowSize||12,y=this.nav,b=this.pages,_=this.allItems,w=function(t){"number"==typeof t?p.attr({height:t}):p&&(i.clipRect=p.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?"rect("+d+"px,9999px,"+(d+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(h/=2),f&&(h=Math.min(h,f)),b.length=0,t>h&&m.enabled!==!1?(this.clipHeight=e=Math.max(h-20-this.titleHeight-d,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,a(_,function(t,i){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),a=b.length;(!a||r-b[a-1]>e&&(n||r)!==b[a-1])&&(b.push(n||r),a++),i===_.length-1&&r+o-b[a-1]>e&&b.push(r),r!==n&&(n=r)}),p||(p=i.clipRect=o.clipRect(0,d,9999,0),i.contentGroup.clip(p)),w(e),y||(this.nav=y=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,v,v).on("click",function(){i.scroll(-1,g)}).add(y),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation").css(m.style).add(y),this.down=o.symbol("triangle-down",0,0,v,v).on("click",function(){i.scroll(1,g)}).add(y)),i.scroll(0),t=h):y&&(w(),this.nav=y.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length,r=this.currentPage+t,o=this.clipHeight,a=this.options.navigation,s=this.pager,l=this.padding;r>i&&(r=i),r>0&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:l,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:r+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,"class":r===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===r?a.inactiveColor:a.activeColor}).css({cursor:1===r?"default":"pointer"}),this.down.attr({fill:r===i?a.inactiveColor:a.activeColor}).css({cursor:r===i?"default":"pointer"}),this.scrollOffset=-n[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=r,this.positionCheckboxes())}},e.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.options,i=t.symbolHeight,r=n.squareSymbol,o=r?i:t.symbolWidth;e.legendSymbol=this.chart.renderer.rect(r?(t.symbolWidth-i)/2:0,t.baseline-i+1,o,i,u(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n,i=this.options,r=i.marker,o=t.symbolWidth,a=t.symbolHeight,s=a/2,l=this.chart.renderer,d=this.legendGroup,h=t.baseline-Math.round(.3*t.fontMetrics.b),f={};f={"stroke-width":i.lineWidth||0},i.dashStyle&&(f.dashstyle=i.dashStyle),this.legendLine=l.path(["M",0,h,"L",o,h]).addClass("highcharts-graph").attr(f).add(d),r&&r.enabled!==!1&&(e=Math.min(u(r.radius,s),s),0===this.symbol.indexOf("url")&&(r=c(r,{width:a,height:a}),e=0),this.legendSymbol=n=l.symbol(this.symbol,o/2-e,h-e,2*e,2*e,r).addClass("highcharts-point").add(d),n.isMarker=!0)}},(/Trident\/7\.0/.test(f.navigator.userAgent)||s)&&p(t.Legend.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)})}(e),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,r=t.attr,o=t.doc,a=t.Axis,s=t.createElement,l=t.defaultOptions,c=t.discardElement,u=t.charts,d=t.css,h=t.defined,f=t.each,p=t.extend,m=t.find,g=t.fireEvent,v=t.grep,y=t.isNumber,b=t.isObject,_=t.isString,w=t.Legend,x=t.marginNames,k=t.merge,C=t.objectEach,T=t.Pointer,S=t.pick,E=t.pInt,O=t.removeEvent,A=t.seriesTypes,M=t.splat,P=t.svg,D=t.syncTimeout,j=t.win,N=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new N(t,e,n)},p(N.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(_(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,o,a=n.series,s=n.plotOptions||{};n.series=null,r=k(l,n);for(o in r.plotOptions)r.plotOptions[o].tooltip=s[o]&&k(s[o].tooltip)||void 0;r.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,r.series=n.series=a,this.userOptions=n;var c=r.chart,d=c.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=c.showAxes;var h=this;h.index=u.length,u.push(h),t.chartCount++,d&&C(d,function(t,n){e(h,n,t)}),h.xAxis=[],h.yAxis=[],h.pointCount=h.colorCounter=h.symbolCounter=0,h.firstRender()},initSeries:function(e){var n,i=this,r=i.options.chart,o=e.type||r.type||r.defaultSeriesType,a=A[o];return a||t.error(17,!0),n=new a,n.init(this,e),n},orderSeries:function(t){for(var e=this.series,n=t||0;n<e.length;n++)e[n]&&(e[n].index=n,e[n].name=e[n].name||"Series "+(e[n].index+1))},isInsidePlot:function(t,e,n){var i=n?e:t,r=n?t:e;return i>=0&&i<=this.plotWidth&&r>=0&&r<=this.plotHeight},redraw:function(e){var n,i,r,o,a=this,s=a.axes,l=a.series,c=a.pointer,u=a.legend,d=a.isDirtyLegend,h=a.hasCartesianSeries,m=a.isDirtyBox,v=a.renderer,y=v.isHidden(),b=[];for(a.setResponsive&&a.setResponsive(!1),t.setAnimation(e,a),y&&a.temporaryDisplay(),a.layOutTitles(),r=l.length;r--;)if(o=l[r],o.options.stacking&&(n=!0,o.isDirty)){i=!0;break}if(i)for(r=l.length;r--;)o=l[r],o.options.stacking&&(o.isDirty=!0);f(l,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),d=!0),t.isDirtyData&&g(t,"updatedData")}),d&&u.options.enabled&&(u.render(),a.isDirtyLegend=!1),n&&a.getStacks(),h&&f(s,function(t){t.updateNames(),t.setScale()}),a.getMargins(),h&&(f(s,function(t){t.isDirty&&(m=!0)}),f(s,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,b.push(function(){g(t,"afterSetExtremes",p(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(m||n)&&t.redraw()})),m&&a.drawChartBox(),g(a,"predraw"),f(l,function(t){(m||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),c&&c.reset(!0),v.draw(),g(a,"redraw"),g(a,"render"),y&&a.temporaryDisplay(!0),f(b,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i,r=this.series;for(n=m(this.axes,e)||m(this.series,e),i=0;!n&&i<r.length;i++)n=m(r[i].points||[],e);return n},getAxes:function(){var t,e=this,n=this.options,i=n.xAxis=M(n.xAxis||{}),r=n.yAxis=M(n.yAxis||{});f(i,function(t,e){t.index=e,t.isX=!0}),f(r,function(t,e){t.index=e}),t=i.concat(r),f(t,function(t){new a(e,t)})},getSelectedPoints:function(){var t=[];return f(this.series,function(e){t=t.concat(v(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return v(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,r,o=this,a=o.options;i=a.title=k({style:{color:"#333333",fontSize:a.isStock?"16px":"18px"}},a.title,t),r=a.subtitle=k({style:{color:"#666666"}},a.subtitle,e),f([["title",t,i],["subtitle",e,r]],function(t,e){var n=t[0],i=o[n],r=t[1],a=t[2];i&&r&&(o[n]=i=i.destroy()),a&&!i&&(o[n]=o.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+n,zIndex:a.zIndex||4}).add(),o[n].update=function(t){o.setTitle(!e&&t,e&&t)},o[n].css(a.style))}),o.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;f(["title","subtitle"],function(t){var e,o=this[t],a=this.options[t],s="title"===t?-3:a.verticalAlign?0:n+2;o&&(e=a.style.fontSize,e=i.fontMetrics(e,o).b,o.css({width:(a.width||r.width+a.widthAdjust)+"px"}).align(p({y:s+e},a),!1,"spacingBox"),a.floating||a.verticalAlign||(n=Math.ceil(n+o.getBBox(a.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=e,
this.hasRendered&&S(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this,n=e.options.chart,i=n.width,r=n.height,o=e.renderTo;h(i)||(e.containerWidth=t.getStyle(o,"width")),h(r)||(e.containerHeight=t.getStyle(o,"height")),e.chartWidth=Math.max(0,i||e.containerWidth||600),e.chartHeight=Math.max(0,t.relativeLength(r,e.chartWidth)||(e.containerHeight>1?e.containerHeight:400))},temporaryDisplay:function(e){var n,i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(o.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style&&(o.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,o.body.appendChild(i)),("none"===t.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},n={display:"block",overflow:"hidden"},i!==this.renderTo&&(n.height=0),t.css(i,n),i.offsetWidth||i.style.setProperty("display","block","important")),i=i.parentNode,i!==o.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,i,a,l,c,d=this,h=d.options,f=h.chart,m=d.renderTo,g="data-highcharts-chart",v=t.uniqueKey();m||(d.renderTo=m=f.renderTo),_(m)&&(d.renderTo=m=o.getElementById(m)),m||t.error(13,!0),a=E(r(m,g)),y(a)&&u[a]&&u[a].hasRendered&&u[a].destroy(),r(m,g,d.index),m.innerHTML="",f.skipClone||m.offsetWidth||d.temporaryDisplay(),d.getChartSize(),n=d.chartWidth,i=d.chartHeight,c=p({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},f.style),e=s("div",{id:v},c,m),d.container=e,d._cursor=e.style.cursor,l=t[f.renderer]||t.Renderer,d.renderer=new l(e,n,i,null,f.forExport,h.exporting&&h.exporting.allowHTML),d.setClassName(f.className),d.renderer.setStyle(f.style),d.renderer.chartIndex=d.index},getMargins:function(t){var e=this,n=e.spacing,i=e.margin,r=e.titleOffset;e.resetMargins(),r&&!h(i[0])&&(e.plotTop=Math.max(e.plotTop,r+e.options.title.margin+n[0])),e.legend&&e.legend.display&&e.legend.adjustMargins(i,n),e.extraMargin&&(e[e.extraMargin.type]=(e[e.extraMargin.type]||0)+e.extraMargin.value),e.adjustPlotArea&&e.adjustPlotArea(),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&f(t.axes,function(t){t.visible&&t.getOffset()}),f(x,function(i,r){h(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,r=n.renderTo,a=h(i.width)&&h(i.height),s=i.width||t.getStyle(r,"width"),l=i.height||t.getStyle(r,"height"),c=e?e.target:j;a||n.isPrinting||!s||!l||c!==j&&c!==o||(s===n.containerWidth&&l===n.containerHeight||(clearTimeout(n.reflowTimeout),n.reflowTimeout=D(function(){n.container&&n.setSize(void 0,void 0,!1)},e?100:0)),n.containerWidth=s,n.containerHeight=l)},initReflow:function(){var t,n=this;t=e(j,"resize",function(t){n.reflow(t)}),e(n,"destroy",t)},setSize:function(e,r,o){var a,s=this,l=s.renderer;s.isResizing+=1,t.setAnimation(o,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==r&&(s.options.chart.height=r),s.getChartSize(),a=l.globalAnimation,(a?n:d)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},a),s.setChartSize(!0),l.setSize(s.chartWidth,s.chartHeight,o),f(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(o),s.oldChartHeight=null,g(s,"resize"),D(function(){s&&g(s,"endResize",null,function(){s.isResizing-=1})},i(a).duration)},setChartSize:function(t){var e,n,i,r,o,a,s,l=this,c=l.inverted,u=l.renderer,d=l.chartWidth,h=l.chartHeight,p=l.options.chart,m=l.spacing,g=l.clipOffset;l.plotLeft=i=Math.round(l.plotLeft),l.plotTop=r=Math.round(l.plotTop),l.plotWidth=o=Math.max(0,Math.round(d-i-l.marginRight)),l.plotHeight=a=Math.max(0,Math.round(h-r-l.marginBottom)),l.plotSizeX=c?a:o,l.plotSizeY=c?o:a,l.plotBorderWidth=p.plotBorderWidth||0,l.spacingBox=u.spacingBox={x:m[3],y:m[0],width:d-m[3]-m[1],height:h-m[0]-m[2]},l.plotBox=u.plotBox={x:i,y:r,width:o,height:a},s=2*Math.floor(l.plotBorderWidth/2),e=Math.ceil(Math.max(s,g[3])/2),n=Math.ceil(Math.max(s,g[0])/2),l.clipBox={x:e,y:n,width:Math.floor(l.plotSizeX-Math.max(s,g[1])/2-e),height:Math.max(0,Math.floor(l.plotSizeY-Math.max(s,g[2])/2-n))},t||f(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;f(["margin","spacing"],function(n){var i=e[n],r=b(i)?i:[i,i,i,i];f(["Top","Right","Bottom","Left"],function(i,o){t[n][o]=S(e[n+i],r[o])})}),f(x,function(e,n){t[e]=S(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n,i=this,r=i.options.chart,o=i.renderer,a=i.chartWidth,s=i.chartHeight,l=i.chartBackground,c=i.plotBackground,u=i.plotBorder,d=i.plotBGImage,h=r.backgroundColor,f=r.plotBackgroundColor,p=r.plotBackgroundImage,m=i.plotLeft,g=i.plotTop,v=i.plotWidth,y=i.plotHeight,b=i.plotBox,_=i.clipRect,w=i.clipBox,x="animate";l||(i.chartBackground=l=o.rect().addClass("highcharts-background").add(),x="attr"),t=r.borderWidth||0,e=t+(r.shadow?8:0),n={fill:h||"none"},(t||l["stroke-width"])&&(n.stroke=r.borderColor,n["stroke-width"]=t),l.attr(n).shadow(r.shadow),l[x]({x:e/2,y:e/2,width:a-e-t%2,height:s-e-t%2,r:r.borderRadius}),x="animate",c||(x="attr",i.plotBackground=c=o.rect().addClass("highcharts-plot-background").add()),c[x](b),c.attr({fill:f||"none"}).shadow(r.plotShadow),p&&(d?d.animate(b):i.plotBGImage=o.image(p,m,g,v,y).add()),_?_.animate({width:w.width,height:w.height}):i.clipRect=o.clipRect(w),x="animate",u||(x="attr",i.plotBorder=u=o.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u.attr({stroke:r.plotBorderColor,"stroke-width":r.plotBorderWidth||0,fill:"none"}),u[x](u.crisp({x:m,y:g,width:v,height:y},-u.strokeWidth())),i.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;f(["inverted","angular","polar"],function(a){for(t=A[r.type||r.defaultSeriesType],n=r[a]||t&&t.prototype[a],e=o&&o.length;!n&&e--;)t=A[o[e].type],t&&t.prototype[a]&&(n=!0);i[a]=n})},linkSeries:function(){var t=this,e=t.series;f(e,function(t){t.linkedSeries.length=0}),f(e,function(e){var n=e.options.linkedTo;_(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n),n&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=S(e.options.visible,n.options.visible,e.visible)))})},renderSeries:function(){f(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&f(e.items,function(n){var i=p(e.style,n.style),r=E(i.left)+t.plotLeft,o=E(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i,r=this,o=r.axes,a=r.renderer,s=r.options;r.setTitle(),r.legend=new w(r,s.legend),r.getStacks&&r.getStacks(),r.getMargins(!0),r.setChartSize(),t=r.plotWidth,e=r.plotHeight=Math.max(r.plotHeight-21,0),f(o,function(t){t.setScale()}),r.getAxisMargins(),n=t/r.plotWidth>1.1,i=e/r.plotHeight>1.05,(n||i)&&(f(o,function(t){(t.horiz&&n||!t.horiz&&i)&&t.setTickInterval(!0)}),r.getMargins()),r.drawChartBox(),r.hasCartesianSeries&&f(o,function(t){t.visible&&t.render()}),r.seriesGroup||(r.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),r.renderSeries(),r.renderLabels(),r.addCredits(),r.setResponsive&&r.setResponsive(),r.hasRendered=!0},addCredits:function(t){var e=this;t=k(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(j.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,o=n.container,a=o&&o.parentNode;for(g(n,"destroy"),n.renderer.forExport?t.erase(u,n):u[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),O(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();f(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),o&&(o.innerHTML="",O(o),a&&c(o)),C(n,function(t,e){delete n[e]})},isReadyToRender:function(){var t=this;return!(!P&&j==j.top&&"complete"!==o.readyState)||(o.attachEvent("onreadystatechange",function(){o.detachEvent("onreadystatechange",t.firstRender),"complete"===o.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),g(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),f(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),g(t,"beforeRender"),T&&(t.pointer=new T(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){f([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),g(this,"load"),g(this,"render"),h(this.index)&&this.options.chart.reflow!==!1&&this.initReflow(),this.onload=null}})}(e),function(t){var e,n=t,i=n.each,r=n.extend,o=n.erase,a=n.fireEvent,s=n.format,l=n.isArray,c=n.isNumber,u=n.pick,d=n.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){var i,r,o=this,a=t.chart.options.chart.colorCount;return o.series=t,o.color=t.color,o.applyOptions(e,n),t.options.colorByPoint?(i=t.options.colors||t.chart.options.colors,o.color=o.color||i[t.colorCounter],a=i.length,r=t.colorCounter,t.colorCounter++,t.colorCounter===a&&(t.colorCounter=0)):r=t.colorIndex,o.colorIndex=u(o.colorIndex,r),t.chart.pointCount++,o},applyOptions:function(t,n){var i=this,o=i.series,a=o.options.pointValKey||o.pointValKey;return t=e.prototype.optionsToObject.call(this,t),r(i,t),i.options=i.options?r(i.options,t):t,t.group&&delete i.group,a&&(i.y=i[a]),i.isNull=u(i.isValid&&!i.isValid(),null===i.x||!c(i.y,!0)),i.selected&&(i.state="select"),"name"in i&&void 0===n&&o.xAxis&&o.xAxis.hasNames&&(i.x=o.xAxis.nameToX(i)),void 0===i.x&&o&&(void 0===n?i.x=o.autoIncrement(i):i.x=n),i},optionsToObject:function(t){var e,n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],a=o.length,s=0,u=0;if(c(t)||null===t)n[o[0]]=t;else if(l(t))for(!r&&t.length>a&&(e=typeof t[0],"string"===e?n.name=t[0]:"number"===e&&(n.x=t[0]),s++);u<a;)r&&void 0===t[s]||(n[o[u]]=t[s]),s++,u++;else"object"==typeof t&&(n=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,n=e.zones,i=e.zoneAxis||"y",r=0;for(t=n[r];this[i]>=t.value;)t=n[++r];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this,n=e.series,i=n.chart,r=i.hoverPoints;i.pointCount--,r&&(e.setState(),o(r,e),r.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(d(e),e.destroyElements()),e.legendItem&&i.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,n=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=n[i],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,r=u(n.valueDecimals,""),o=n.valuePrefix||"",a=n.valueSuffix||"";return i(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||a)&&(t=t.replace(e+"}",o+e+"}"+a)),t=t.replace(e+"}",e+":,."+r+"f}")}),s(t,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series,o=r.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),a(this,t,e,n)},visible:!0}}(e),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,a=t.Date,s=t.defaultOptions,l=t.defaultPlotOptions,c=t.defined,u=t.each,d=t.erase,h=t.extend,f=t.fireEvent,p=t.grep,m=t.isArray,g=t.isNumber,v=t.isString,y=t.LegendSymbolMixin,b=t.merge,_=t.objectEach,w=t.pick,x=t.Point,k=t.removeEvent,C=t.splat,T=t.SVGElement,S=t.syncTimeout,E=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:x,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,n){var i,r,o=this,a=t.series;o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),h(o,{name:n.name,state:"",visible:n.visible!==!1,selected:n.selected===!0}),i=n.events,_(i,function(t,n){e(o,n,t)}),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),u(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),a.length&&(r=a[a.length-1]),o._i=w(r&&r._i,-1)+1,t.orderSeries(this.insert(a))},insert:function(t){var e,n=this.options.index;if(g(n)){for(e=t.length;e--;)if(n>=w(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}e===-1&&t.unshift(this),e+=1}else t.push(this);return w(e,t.length-1)},bindAxes:function(){var e,n=this,i=n.options,r=n.chart;u(n.axisTypes||[],function(o){u(r[o],function(t){e=t.options,(i[o]===e.index||void 0!==i[o]&&i[o]===e.id||void 0===i[o]&&0===e.index)&&(n.insert(t.series),n[o]=t,t.isDirty=!0)}),n[o]||n.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=g(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};u(n.parallelArrays,r)},autoIncrement:function(){var t,e,n=this.options,i=this.xIncrement,r=n.pointIntervalUnit;return i=w(i,n.pointStart,0),this.pointInterval=e=w(this.pointInterval,n.pointInterval,1),r&&(t=new a(i),"day"===r?t=+t[a.hcSetDate](t[a.hcGetDate]()+e):"month"===r?t=+t[a.hcSetMonth](t[a.hcGetMonth]()+e):"year"===r&&(t=+t[a.hcSetFullYear](t[a.hcGetFullYear]()+e)),e=t-i),this.xIncrement=i+e,i},setOptions:function(t){var e,n,i=this.chart,r=i.options,o=r.plotOptions,a=i.userOptions||{},l=a.plotOptions||{},u=o[this.type];return this.userOptions=t,e=b(u,o.series,t),this.tooltipOptions=b(s.tooltip,s.plotOptions.series&&s.plotOptions.series.tooltip,s.plotOptions[this.type].tooltip,r.tooltip.userOptions,o.series&&o.series.tooltip,o[this.type].tooltip,t.tooltip),this.stickyTracking=w(t.stickyTracking,l[this.type]&&l[this.type].stickyTracking,l.series&&l.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===u.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,n=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||n.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),n.length&&c(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,n){var i,r,o=this.chart,a=this.userOptions,s=t+"Index",l=t+"Counter",u=n?n.length:w(o.options.chart[t+"Count"],o[t+"Count"]);e||(r=w(a[s],a["_"+s]),c(r)?i=r:(o.series.length||(o[l]=0),a["_"+s]=i=o[l]%u,o[l]+=1),n&&(e=n[i])),void 0!==i&&(this[s]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)},drawLegendSymbol:y.drawLineMarker,setData:function(e,n,i,r){var o,a,s,l=this,c=l.points,d=c&&c.length||0,h=l.options,f=l.chart,p=null,y=l.xAxis,b=h.turboThreshold,_=this.xData,x=this.yData,k=l.pointArrayMap,C=k&&k.length;if(e=e||[],o=e.length,n=w(n,!0),r!==!1&&o&&d===o&&!l.cropped&&!l.hasGroupedData&&l.visible)u(e,function(t,e){c[e].update&&t!==h.data[e]&&c[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.colorCounter=0,u(this.parallelArrays,function(t){l[t+"Data"].length=0}),b&&o>b){for(a=0;null===p&&a<o;)p=e[a],a++;if(g(p))for(a=0;a<o;a++)_[a]=this.autoIncrement(),x[a]=e[a];else if(m(p))if(C)for(a=0;a<o;a++)s=e[a],_[a]=s[0],x[a]=s.slice(1,C+1);else for(a=0;a<o;a++)s=e[a],_[a]=s[0],x[a]=s[1];else t.error(12)}else for(a=0;a<o;a++)void 0!==e[a]&&(s={series:l},l.pointClass.prototype.applyOptions.apply(s,[e[a]]),l.updateParallelArrays(s,a));for(x&&v(x[0])&&t.error(14,!0),l.data=[],l.options.data=l.userOptions.data=e,a=d;a--;)c[a]&&c[a].destroy&&c[a].destroy();y&&(y.minRange=y.userMinRange),l.isDirty=f.isDirtyBox=!0,l.isDirtyData=!!c,i=!1}"point"===h.legendType&&(this.processData(),this.generatePoints()),n&&f.redraw(i)},processData:function(e){var n,i,r,o,a,s,l,c,u=this,d=u.xData,h=u.yData,f=d.length,p=0,m=u.xAxis,g=u.options,v=g.cropThreshold,y=u.getExtremesFromAll||g.getExtremesFromAll,b=u.isCartesian,_=m&&m.val2lin,w=m&&m.isLog,x=u.requireSorting;if(b&&!u.isDirty&&!m.isDirty&&!u.yAxis.isDirty&&!e)return!1;for(m&&(s=m.getExtremes(),l=s.min,c=s.max),b&&u.sorted&&!y&&(!v||f>v||u.forceCrop)&&(d[f-1]<l||d[0]>c?(d=[],h=[]):(d[0]<l||d[f-1]>c)&&(n=this.cropData(u.xData,u.yData,l,c),d=n.xData,h=n.yData,p=n.start,i=!0)),a=d.length||1;--a;)r=w?_(d[a])-_(d[a-1]):d[a]-d[a-1],r>0&&(void 0===o||r<o)?o=r:r<0&&x&&(t.error(15),x=!1);u.cropped=i,u.cropStart=p,u.processedXData=d,u.processedYData=h,u.closestPointRange=o},cropData:function(t,e,n,i){var r,o,a=t.length,s=0,l=a,c=w(this.cropShoulder,1);for(r=0;r<a;r++)if(t[r]>=n){s=Math.max(0,r-c);break}for(o=r;o<a;o++)if(t[o]>i){l=o+c;break}return{xData:t.slice(s,l),yData:e.slice(s,l),start:s,end:l}},generatePoints:function(){var t,e,n,i,r=this,o=r.options,a=o.data,s=r.data,l=r.processedXData,c=r.processedYData,u=r.pointClass,d=l.length,h=r.cropStart||0,f=r.hasGroupedData,p=o.keys,m=[];if(!s&&!f){var g=[];g.length=a.length,s=r.data=g}for(p&&f&&(r.options.keys=!1),i=0;i<d;i++)e=h+i,f?(n=(new u).init(r,[l[i]].concat(C(c[i]))),n.dataGroup=r.groupMap[i]):(n=s[e],n||void 0===a[e]||(s[e]=n=(new u).init(r,a[e],l[i]))),n&&(n.index=e,m[i]=n);if(r.options.keys=p,s&&(d!==(t=s.length)||f))for(i=0;i<t;i++)i!==h||f||(i+=d),s[i]&&(s[i].destroyElements(),s[i].plotX=void 0);r.data=s,r.points=m},getExtremes:function(t){var e,n,o,a,s,l,c,u=this.xAxis,d=this.yAxis,h=this.processedXData,f=[],p=0,v=u.getExtremes(),y=v.min,b=v.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,l=0;l<e;l++)if(a=h[l],s=t[l],n=(g(s,!0)||m(s))&&(!d.positiveValuesOnly||s.length||s>0),o=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(h[l+1]||a)>=y&&(h[l-1]||a)<=b,n&&o)if(c=s.length)for(;c--;)null!==s[c]&&(f[p++]=s[c]);else f[p++]=s;this.dataMin=r(f),this.dataMax=i(f)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,r,a=this,s=a.options,l=s.stacking,u=a.xAxis,d=u.categories,h=a.yAxis,f=a.points,p=f.length,m=!!a.modifyValue,v=s.pointPlacement,y="between"===v||g(v),b=s.threshold,_=s.startFromThreshold?b:0,x=Number.MAX_VALUE;for("between"===v&&(v=.5),g(v)&&(v*=w(s.pointRange||u.pointRange)),t=0;t<p;t++){var k,C,T=f[t],S=T.x,E=T.y,O=T.low,A=l&&h.stacks[(a.negStacks&&E<(_?0:b)?"-":"")+a.stackKey];h.positiveValuesOnly&&null!==E&&E<=0&&(T.isNull=!0),T.plotX=e=o(Math.min(Math.max(-1e5,u.translate(S,0,0,0,1,v,"flags"===this.type)),1e5)),l&&a.visible&&!T.isNull&&A&&A[S]&&(r=a.getStackIndicator(r,S,a.index),k=A[S],C=k.points[r.key],O=C[0],E=C[1],O===_&&r.key===A[S].base&&(O=w(b,h.min)),h.positiveValuesOnly&&O<=0&&(O=null),T.total=T.stackTotal=k.total,T.percentage=k.total&&T.y/k.total*100,T.stackY=E,k.setOffset(a.pointXOffset||0,a.barW||0)),T.yBottom=c(O)?h.translate(O,0,1,0,1):null,m&&(E=a.modifyValue(E,T)),T.plotY=n="number"==typeof E&&E!==1/0?Math.min(Math.max(-1e5,h.translate(E,0,1,0,1)),1e5):void 0,T.isInside=void 0!==n&&n>=0&&n<=h.len&&e>=0&&e<=u.len,T.clientX=y?o(u.translate(S,0,0,0,1,v)):e,T.negative=T.y<(b||0),T.category=d&&void 0!==d[T.x]?d[T.x]:T.x,T.isNull||(void 0!==i&&(x=Math.min(x,Math.abs(e-i))),i=e),T.zone=this.zones.length&&T.getZone()}a.closestPointRangePx=x},getValidPoints:function(t,e){var n=this.chart;return p(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,a=o||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,a.height,n.xAxis,n.yAxis].join(","),l=e[s],c=e[s+"m"];l||(t&&(a.width=0,r&&(a.x=e.plotSizeX),e[s+"m"]=c=i.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[s]=l=i.clipRect(a),l.count={length:0}),t&&(l.count[this.index]||(l.count[this.index]=!0,l.count.length+=1)),n.clip!==!1&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],l.count.length-=1),0===l.count.length&&s&&e[s]&&(o||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,i,r=this,o=r.chart,a=n(r.options.animation);t?r.setClip(a):(i=this.sharedClipKey,e=o[i],e&&e.animate({width:o.plotSizeX,x:0},a),o[i+"m"]&&o[i+"m"].animate({width:o.plotSizeX+99,x:0},a),r.animate=null)},afterAnimate:function(){this.setClip(),f(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,i,r,o,a,s,l,c=this,u=c.points,d=c.chart,h=c.options,f=h.marker,p=c[c.specialGroup]||c.markerGroup,m=c.xAxis,g=w(f.enabled,!!m.isRadial||null,c.closestPointRangePx>=2*f.radius);if(f.enabled!==!1||c._hasPointMarkers)for(t=0;t<u.length;t++)e=u[t],i=e.graphic,r=e.marker||{},o=!!e.marker,a=g&&void 0===r.enabled||r.enabled,s=e.isInside,a&&!e.isNull?(n=w(r.symbol,c.symbol),e.hasImage=0===n.indexOf("url"),l=c.markerAttribs(e,e.selected&&"select"),i?i[s?"show":"hide"](!0).animate(l):s&&(l.width>0||e.hasImage)&&(e.graphic=i=d.renderer.symbol(n,l.x,l.y,l.width,l.height,o?r:f).add(p)),i&&i.attr(c.pointAttribs(e,e.selected&&"select")),i&&i.addClass(e.getClassName(),!0)):i&&(e.graphic=i.destroy())},markerAttribs:function(t,e){var n,i,r,o=this.options.marker,a=t.marker||{},s=w(a.radius,o.radius);return e&&(n=o.states[e],i=a.states&&a.states[e],s=w(i&&i.radius,n&&n.radius,s+(n&&n.radiusPlus||0))),t.hasImage&&(s=0),r={x:Math.floor(t.plotX)-s,y:t.plotY-s},s&&(r.width=r.height=2*s),r},pointAttribs:function(t,e){var n,i,r,o,a=this.options.marker,s=t&&t.options,l=s&&s.marker||{},c=this.color,u=s&&s.color,d=t&&t.color,h=w(l.lineWidth,a.lineWidth),f=t&&t.zone&&t.zone.color;return c=u||f||d||c,r=l.fillColor||a.fillColor||c,o=l.lineColor||a.lineColor||c,e&&(n=a.states[e],i=l.states&&l.states[e]||{},h=w(i.lineWidth,n.lineWidth,h+w(i.lineWidthPlus,n.lineWidthPlus,0)),r=i.fillColor||n.fillColor||r,o=i.lineColor||n.lineColor||o),{stroke:o,"stroke-width":h,fill:r}},destroy:function(){var t,e,n,i,r=this,o=r.chart,a=/AppleWebKit\/533/.test(E.navigator.userAgent),s=r.data||[];for(f(r,"destroy"),k(r),u(r.axisTypes||[],function(t){i=r[t],i&&i.series&&(d(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=s.length;e--;)n=s[e],n&&n.destroy&&n.destroy();r.points=null,clearTimeout(r.animationTimeout),_(r,function(e,n){e instanceof T&&!e.survive&&(t=a&&"group"===n?"hide":"destroy",e[t]())}),o.hoverSeries===r&&(o.hoverSeries=null),d(o.series,r),o.orderSeries(),_(r,function(t,e){delete r[e]})},getGraphPath:function(t,e,n){var i,r,o=this,a=o.options,s=a.step,l=[],d=[];return t=t||o.points,i=t.reversed,i&&t.reverse(),s={right:1,center:2}[s]||s&&3,s&&i&&(s=4-s),!a.connectNulls||e||n||(t=this.getValidPoints(t)),u(t,function(i,u){var h,f=i.plotX,p=i.plotY,m=t[u-1];(i.leftCliff||m&&m.rightCliff)&&!n&&(r=!0),i.isNull&&!c(e)&&u>0?r=!a.connectNulls:i.isNull&&!e?r=!0:(0===u||r?h=["M",i.plotX,i.plotY]:o.getPointSpline?h=o.getPointSpline(t,i,u):s?(h=1===s?["L",m.plotX,p]:2===s?["L",(m.plotX+f)/2,m.plotY,"L",(m.plotX+f)/2,p]:["L",f,m.plotY],h.push("L",f,p)):h=["L",f,p],d.push(i.x),s&&d.push(i.x),l.push.apply(l,h),r=!1)}),l.xMap=d,o.graphPath=l,l},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];u(this.zones,function(n,r){i.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(n.className||""),n.color||t.color,n.dashStyle||e.dashStyle])}),u(i,function(i,r){var o,a=i[0],s=t[a];s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):n.length&&(t[a]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),o={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?o.dashstyle=i[3]:"square"!==e.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),s=t[a].attr(o).shadow(r<2&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)})},applyZones:function(){var t,e,n,i,r,o,a,s,l,c=this,d=this.chart,h=d.renderer,f=this.zones,p=this.clips||[],m=this.graph,g=this.area,v=Math.max(d.chartWidth,d.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=d.inverted,_=!1;f.length&&(m||g)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,m&&m.hide(),g&&g.hide(),i=y.getExtremes(),u(f,function(u,f){t=r?o?d.plotWidth:0:o?0:y.toPixels(i.min),t=Math.min(Math.max(w(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(w(u.value,i.max),!0)),0),v),_&&(t=e=y.toPixels(i.max)),a=Math.abs(t-e),s=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(n={x:b?l:s,y:0,width:a,height:v},o||(n.x=d.plotHeight-n.x)):(n={x:0,y:b?l:s,width:v,height:a},o&&(n.y=d.plotWidth-n.y)),b&&h.isVML&&(n=y.isXAxis?{x:0,y:r?s:l,height:n.width,width:d.chartWidth}:{x:n.y-d.plotLeft-d.spacingBox.x,y:0,width:n.height,height:d.chartHeight}),p[f]?p[f].animate(n):(p[f]=h.clipRect(n),m&&c["zone-graph-"+f].clip(p[f]),g&&c["zone-area-"+f].clip(p[f])),_=u.value>i.max}),this.clips=p)},invertGroups:function(t){function n(){u(["group","markerGroup"],function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var i,r=this,o=r.chart;r.xAxis&&(i=e(o,"resize",n),e(r,"destroy",i),n(t),r.invertGroups=n)},plotGroup:function(t,e,n,i,r){var o=this[t],a=!o;return a&&(this[t]=o=this.chart.renderer.g().attr({zIndex:i||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(c(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:n})[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,o=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,a=e.visible?"inherit":"hidden",s=r.zIndex,l=e.hasRendered,c=i.seriesGroup,u=i.inverted;t=e.plotGroup("group","series",a,s,c),e.markerGroup=e.plotGroup("markerGroup","markers",a,s,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&u,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),e.invertGroups(u),r.clip===!1||e.sharedClipKey||l||t.clip(i.clipRect),o&&e.animate(),l||(e.animationTimeout=S(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,n=t.isDirty||t.isDirtyData,i=t.group,r=t.xAxis,o=t.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:w(r&&r.left,e.plotLeft),translateY:w(o&&o.top,e.plotTop)})),t.translate(),t.render(),n&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this,i=n.xAxis,r=n.yAxis,o=n.chart.inverted;return this.searchKDTree({clientX:o?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:o?r.len-t.chartX+r.pos:t.chartY-r.pos},e)},buildKDTree:function(){function t(e,i,r){var o,a,s=e&&e.length;if(s)return o=n.kdAxisArray[i%r],e.sort(function(t,e){return t[o]-e[o]}),a=Math.floor(s/2),{point:e[a],left:t(e.slice(0,a),i+1,r),right:t(e.slice(a+1),i+1,r)}}function e(){n.kdTree=t(n.getValidPoints(null,!n.directTouch),i,i),n.buildingKdTree=!1}this.buildingKdTree=!0;var n=this,i=n.options.findNearestPointBy.indexOf("y")>-1?2:1;delete n.kdTree,S(e,n.options.kdNow?0:1)},searchKDTree:function(t,e){function n(t,e){var n=c(t[o])&&c(e[o])?Math.pow(t[o]-e[o],2):null,i=c(t[a])&&c(e[a])?Math.pow(t[a]-e[a],2):null,r=(n||0)+(i||0);e.dist=c(r)?Math.sqrt(r):Number.MAX_VALUE,e.distX=c(n)?Math.sqrt(n):Number.MAX_VALUE}function i(t,e,o,a){var l,c,u,d,h,f=e.point,p=r.kdAxisArray[o%a],m=f;return n(t,f),l=t[p]-f[p],c=l<0?"left":"right",u=l<0?"right":"left",e[c]&&(d=i(t,e[c],o+1,a),m=d[s]<m[s]?d:f),e[u]&&Math.sqrt(l*l)<m[s]&&(h=i(t,e[u],o+1,a),m=h[s]<m[s]?h:m),m}var r=this,o=this.kdAxisArray[0],a=this.kdAxisArray[1],s=e?"distX":"dist",l=r.options.findNearestPointBy.indexOf("y")>-1?2:1;if(this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,l,l)}})}(e),function(t){var e=t.Axis,n=t.Chart,i=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,a=t.each,s=t.format,l=t.objectEach,c=t.pick,u=t.Series;t.StackItem=function(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:c(e.y,o?4:n?14:-6),x:c(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.options,n=e.format,i=n?s(n,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var n,i=this,r=i.axis,o=r.chart,a=r.translate(r.usePercentage?100:i.total,0,0,0,1),s=r.translate(0),l=Math.abs(a-s),c=o.xAxis[0].translate(i.x)+t,u=i.getStackBox(o,i,c,a,e,l),d=i.label;d&&(d.align(i.alignOptions,null,u),n=d.alignAttr,d[i.options.crop===!1||o.isInsidePlot(n.x,n.y)?"show":"hide"](!0))},getStackBox:function(t,e,n,i,r,o){var a=e.axis.reversed,s=t.inverted,l=t.plotHeight,c=e.isNegative&&!a||!e.isNegative&&a;return{x:s?c?i:i-o:n,y:s?l-n-r:c?l-i-o:l-i,width:s?o:r,height:s?r:o}}},n.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+c(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,n=c(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)e[n?t:i-t-1].setStackedPoints();for(t=0;t<i;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this,e=t.chart,n=e.renderer,i=t.stacks,r=t.stackTotalGroup;r||(t.stackTotalGroup=r=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(e.plotLeft,e.plotTop),
l(i,function(t){l(t,function(t){t.render(r)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,function(e){l(e,function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cum=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,function(t){l(t,function(t){t.cum=t.total})}))},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,n,o,a,s,l,u,d,h,f=this,p=f.processedXData,m=f.processedYData,g=[],v=m.length,y=f.options,b=y.threshold,_=y.startFromThreshold?b:0,w=y.stack,x=y.stacking,k=f.stackKey,C="-"+k,T=f.negStacks,S=f.yAxis,E=S.stacks,O=S.oldStacks;for(S.stacksTouched+=1,u=0;u<v;u++)d=p[u],h=m[u],e=f.getStackIndicator(e,d,f.index),l=e.key,n=T&&h<(_?0:b),s=n?C:k,E[s]||(E[s]={}),E[s][d]||(O[s]&&O[s][d]?(E[s][d]=O[s][d],E[s][d].total=null):E[s][d]=new t.StackItem(S,S.options.stackLabels,n,d,w)),o=E[s][d],null!==h&&(o.points[l]=o.points[f.index]=[c(o.cum,_)],r(o.cum)||(o.base=l),o.touched=S.stacksTouched,e.index>0&&f.singleStacks===!1&&(o.points[l][0]=o.points[f.index+","+d+",0"][0])),"percent"===x?(a=n?k:C,T&&E[a]&&E[a][d]?(a=E[a][d],o.total=a.total=Math.max(a.total,o.total)+Math.abs(h)||0):o.total=i(o.total+(Math.abs(h)||0))):o.total=i(o.total+(h||0)),o.cum=c(o.cum,_)+(h||0),null!==h&&(o.points[l].push(o.cum),g[u]=o.cum);"percent"===x&&(S.usePercentage=!0),this.stackedYData=g,S.oldStacks={}}},u.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,r=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&a([n,"-"+n],function(n){for(var a,s,l,c=r.length;c--;)a=r[c],t=e.getStackIndicator(t,a,e.index,n),s=i[n]&&i[n][a],l=s&&s.points[t.key],l&&e[o+"Stacker"](l,s,c)})},u.prototype.percentStacker=function(t,e,n){var r=e.total?100/e.total:0;t[0]=i(t[0]*r),t[1]=i(t[1]*r),this.stackedYData[n]=t[1]},u.prototype.getStackIndicator=function(t,e,n,i){return!r(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(","),t}}(e),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,r=t.Chart,o=t.createElement,a=t.css,s=t.defined,l=t.each,c=t.erase,u=t.extend,d=t.fireEvent,h=t.inArray,f=t.isNumber,p=t.isObject,m=t.isArray,g=t.merge,v=t.objectEach,y=t.pick,b=t.Point,_=t.Series,w=t.seriesTypes,x=t.setAnimation,k=t.splat;u(r.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=y(e,!0),d(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o,a=e?"xAxis":"yAxis",s=this.options,l=g(t,{index:this[a].length,isX:e});return o=new i(this,l),s[a]=k(s[a]||{}),s[a].push(l),y(n,!0)&&this.redraw(r),o},showLoading:function(t){var i=this,r=i.options,s=i.loadingDiv,l=r.loading,c=function(){s&&a(s,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};s||(i.loadingDiv=s=o("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=o("span",{className:"highcharts-loading-inner"},null,s),e(i,"redraw",c)),s.className="highcharts-loading",i.loadingSpan.innerHTML=t||r.lang.loading,a(s,u(l.style,{zIndex:10})),a(i.loadingSpan,l.labelStyle),i.loadingShown||(a(s,{opacity:0,display:""}),n(s,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){a(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","tooltip"],update:function(t,e,n){var i,r,o,a,c=this,u={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},d=t.chart,p=[];d&&(g(!0,c.options.chart,d),"className"in d&&c.setClassName(d.className),("inverted"in d||"polar"in d)&&(c.propFromSeries(),i=!0),"alignTicks"in d&&(i=!0),v(d,function(t,e){h("chart."+e,c.propsRequireUpdateSeries)!==-1&&(r=!0),h(e,c.propsRequireDirtyBox)!==-1&&(c.isDirtyBox=!0)}),"style"in d&&c.renderer.setStyle(d.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),v(t,function(t,e){c[e]&&"function"==typeof c[e].update?c[e].update(t,!1):"function"==typeof c[u[e]]&&c[u[e]](t),"chart"!==e&&h(e,c.propsRequireUpdateSeries)!==-1&&(r=!0)}),l(["xAxis","yAxis","zAxis","series","colorAxis","pane"],function(e){t[e]&&(l(k(t[e]),function(t,i){var r=s(t.id)&&c.get(t.id)||c[e][i];r&&r.coll===e&&(r.update(t,!1),n&&(r.touched=!0)),!r&&n&&("series"===e?c.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(c.addAxis(t,"xAxis"===e,!1).touched=!0))}),n&&l(c[e],function(t){t.touched?delete t.touched:p.push(t)}))}),l(p,function(t){t.remove(!1)}),i&&l(c.axes,function(t){t.update({},!1)}),r&&l(c.series,function(t){t.update({},!1)}),t.loading&&g(!0,c.options.loading,t.loading),o=d&&d.width,a=d&&d.height,f(o)&&o!==c.chartWidth||f(a)&&a!==c.chartHeight?c.setSize(o,a):y(e,!0)&&c.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(b.prototype,{update:function(t,e,n,i){function r(){a.applyOptions(t),null===a.y&&l&&(a.graphic=l.destroy()),p(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(a.graphic=l.destroy()),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.connector&&(a.connector=a.connector.destroy())),o=a.index,s.updateParallelArrays(a,o),u.data[o]=p(u.data[o],!0)||p(t,!0)?a.options:t,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(n)}var o,a=this,s=a.series,l=a.graphic,c=s.chart,u=s.options;e=y(e,!0),i===!1?r():a.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(h(this,this.series.data),t,e)}}),u(_.prototype,{addPoint:function(t,e,n,i){var r,o,a,s,l=this,c=l.options,u=l.data,d=l.chart,h=l.xAxis,f=h&&h.hasNames&&h.names,p=c.data,m=l.xData;if(e=y(e,!0),r={series:l},l.pointClass.prototype.applyOptions.apply(r,[t]),s=r.x,a=m.length,l.requireSorting&&s<m[a-1])for(o=!0;a&&m[a-1]>s;)a--;l.updateParallelArrays(r,"splice",a,0,0),l.updateParallelArrays(r,a),f&&r.name&&(f[s]=r.name),p.splice(a,0,t),o&&(l.data.splice(a,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),l.updateParallelArrays(r,"shift"),p.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&d.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],a=i.points,s=i.chart,l=function(){a&&a.length===r.length&&a.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&s.redraw()};x(n,s),e=y(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),y(t,!0)&&o.redraw(e)}var r=this,o=r.chart;n!==!1?d(r,"remove",null,i):i()},update:function(t,e){var n,i=this,r=i.chart,o=i.userOptions,a=i.oldType||i.type,s=t.type||o.type||r.options.chart.type,c=w[a].prototype,d=["group","markerGroup","dataLabelsGroup"],h=["navigatorSeries","baseSeries"],f=i.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(t).toString())return this.setData(t.data,e);(s&&s!==a||void 0!==t.zIndex)&&(d.length=0),h=d.concat(h),l(h,function(t){h[t]=i[t],delete i[t]}),t=g(o,f,{index:i.index,pointStart:i.xData[0]},{data:i.options.data},t),i.remove(!1,null,!1);for(n in c)i[n]=void 0;u(i,w[s||a].prototype),l(h,function(t){i[t]=h[t]}),i.init(r,t),i.oldType=a,r.linkSeries(),y(e,!0)&&r.redraw(!1)}}),u(i.prototype,{update:function(t,e){var n=this.chart;t=n.options[this.coll][this.options.index]=g(this.userOptions,t),this.destroy(!0),this.init(n,u(t,{events:void 0})),n.isDirtyBox=!0,y(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);c(e.axes,this),c(e[n],this),m(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],l(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,y(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,n=t.each,i=t.LegendSymbolMixin,r=t.map,o=t.pick,a=t.Series,s=t.seriesType;s("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var i,a,s=this,l=[],c=[],u=this.xAxis,d=this.yAxis,h=d.stacks[this.stackKey],f={},p=s.index,m=d.series,g=m.length,v=o(d.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(a=0;a<e.length;a++)e[a].leftNull=e[a].rightNull=null,f[e[a].x]=e[a];t.objectEach(h,function(t,e){null!==t.total&&c.push(e)}),c.sort(function(t,e){return t-e}),i=r(m,function(){return this.visible}),n(c,function(t,e){var r,o,s=0;if(f[t]&&!f[t].isNull)l.push(f[t]),n([-1,1],function(n){var s=1===n?"rightNull":"leftNull",l=1===n?"rightCliff":"leftCliff",u=0,d=h[c[e+n]];if(d)for(a=p;a>=0&&a<g;)r=d.points[a],r||(a===p?f[t][s]=!0:i[a]&&(o=h[t].points[a],o&&(u-=o[1]-o[0]))),a+=v;f[t][l]=u});else{for(a=p;a>=0&&a<g;){if(r=h[t].points[a]){s=r[1];break}a+=v}s=d.translate(s,0,1,0,1),l.push({isNull:!0,plotX:u.translate(t,0,0,0,1),x:t,plotY:s,yBottom:s})}})}return l},getGraphPath:function(t){var e,n,i,r,s,l,c,u,d=a.prototype.getGraphPath,h=this.options,f=h.stacking,p=this.yAxis,m=[],g=[],v=this.index,y=p.stacks[this.stackKey],b=h.threshold,_=p.getThreshold(h.threshold),w=h.connectNulls||"percent"===f,x=function(e,n,i){var r,o,a=t[e],s=f&&y[a.x].points[v],c=a[i+"Null"]||0,u=a[i+"Cliff"]||0,d=!0;u||c?(r=(c?s[0]:s[1])+u,o=s[0]+u,d=!!c):!f&&t[n]&&t[n].isNull&&(r=o=b),void 0!==r&&(g.push({plotX:l,plotY:null===r?_:p.getThreshold(r),isNull:d,isCliff:!0}),m.push({plotX:l,plotY:null===o?_:p.getThreshold(o),doCurve:!1}))};for(t=t||this.points,f&&(t=this.getStackPoints(t)),r=0;r<t.length;r++)c=t[r].isNull,l=o(t[r].rectPlotX,t[r].plotX),u=o(t[r].yBottom,_),c&&!w||(w||x(r,r-1,"left"),c&&!f&&w||(g.push(t[r]),m.push({x:r,plotX:l,plotY:u})),w||x(r,r+1,"right"));return n=d.call(this,g,!0,!0),m.reversed=!0,i=d.call(this,m,!0,!0),i.length&&(i[0]="L"),s=n.concat(i),e=d.call(this,g,!1,w),s.xMap=n.xMap,this.areaPath=s,e},drawGraph:function(){this.areaPath=[],a.prototype.drawGraph.apply(this);var t=this,i=this.areaPath,r=this.options,s=this.zones,l=[["area","highcharts-area",this.color,r.fillColor]];n(s,function(e,n){l.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||r.fillColor])}),n(l,function(n){var a=n[0],s=t[a];s?(s.endX=t.preventGraphAnimation?null:i.xMap,s.animate({d:i})):(s=t[a]=t.chart.renderer.path(i).addClass(n[1]).attr({fill:o(n[3],e(n[2]).setOpacity(o(r.fillOpacity,.75)).get()),zIndex:0}).add(t.group),s.isArea=!0),s.startX=i.xMap,s.shiftUnit=r.step?2:1})},drawLegendSymbol:i.drawRectangle})}(e),function(t){var e=t.pick,n=t.seriesType;n("spline","line",{},{getPointSpline:function(t,n,i){function r(t){return t&&!t.isNull&&t.doCurve!==!1&&!n.isCliff}var o,a,s,l,c,u=1.5,d=u+1,h=n.plotX,f=n.plotY,p=t[i-1],m=t[i+1];if(r(p)&&r(m)){var g=p.plotX,v=p.plotY,y=m.plotX,b=m.plotY,_=0;o=(u*h+g)/d,a=(u*f+v)/d,s=(u*h+y)/d,l=(u*f+b)/d,s!==o&&(_=(l-a)*(s-h)/(s-o)+f-l),a+=_,l+=_,a>v&&a>f?(a=Math.max(v,f),l=2*f-a):a<v&&a<f&&(a=Math.min(v,f),l=2*f-a),l>b&&l>f?(l=Math.max(b,f),a=2*f-l):l<b&&l<f&&(l=Math.min(b,f),a=2*f-l),n.rightContX=s,n.rightContY=l}return c=["C",e(p.rightContX,p.plotX),e(p.rightContY,p.plotY),e(o,h),e(a,f),h,f],p.rightContX=p.rightContY=null,c}})}(e),function(t){var e=t.seriesTypes.area.prototype,n=t.defaultPlotOptions,i=t.LegendSymbolMixin,r=t.seriesType;r("areaspline","spline",n.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:i.drawRectangle})}(e),function(t){var e=t.animObject,n=t.color,i=t.each,r=t.extend,o=t.isNumber,a=t.LegendSymbolMixin,s=t.merge,l=t.noop,c=t.pick,u=t.Series,d=t.seriesType,h=t.svg;d("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){u.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,r=e.xAxis,o=e.yAxis,a=r.reversed,s={},l=0;n.grouping===!1?l=1:i(e.chart.series,function(n){var i,r=n.options,a=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==a.len||o.pos!==a.pos||(r.stacking?(t=n.stackKey,void 0===s[t]&&(s[t]=l++),i=s[t]):r.grouping!==!1&&(i=l++),n.columnIndex=i)});var u=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),d=u*n.groupPadding,h=u-2*d,f=h/(l||1),p=Math.min(n.maxPointWidth||r.len,c(n.pointWidth,f*(1-2*n.pointPadding))),m=(f-p)/2,g=(e.columnIndex||0)+(a?1:0),v=m+(d+g*f-u/2)*(a?-1:1);return e.columnMetrics={width:p,offset:v},e.columnMetrics},crispCol:function(t,e,n,i){var r,o,a,s=this.chart,l=this.borderWidth,c=-(l%2?.5:0),u=l%2?.5:1;return s.inverted&&s.renderer.isVML&&(u+=1),this.options.crisp&&(r=Math.round(t+n)+c,t=Math.round(t)+c,n=r-t),o=Math.round(e+i)+u,a=Math.abs(e)<=.5&&o>.5,e=Math.round(e)+u,i=o-e,a&&i&&(e-=1,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=t.closestPointRange*t.xAxis.transA<2,o=t.borderWidth=c(n.borderWidth,r?0:1),a=t.yAxis,s=n.threshold,l=t.translatedThreshold=a.getThreshold(s),d=c(n.minPointLength,5),h=t.getColumnMetrics(),f=h.width,p=t.barW=Math.max(f,1+2*o),m=t.pointXOffset=h.offset;e.inverted&&(l-=.5),n.pointPadding&&(p=Math.ceil(p)),u.prototype.translate.apply(t),i(t.points,function(n){var i,r=c(n.yBottom,l),o=999+Math.abs(r),u=Math.min(Math.max(-o,n.plotY),a.len+o),h=n.plotX+m,g=p,v=Math.min(u,r),y=Math.max(u,r)-v;d&&Math.abs(y)<d&&(y=d,i=!a.reversed&&!n.negative||a.reversed&&n.negative,n.y===s&&t.dataMax<=s&&a.min<s&&(i=!i),v=Math.abs(v-l)>d?r-d:l-(i?d:0)),n.barX=h,n.pointWidth=f,n.tooltipPos=e.inverted?[a.len+a.pos-e.plotLeft-u,t.xAxis.len-h-g/2,y]:[h+g/2,u+a.pos-e.plotTop,y],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[h,l,g,0]:[h,v,g,y])})},getSymbol:l,drawLegendSymbol:a.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,r,o,a,l=this.options,c=this.pointAttrToOptions||{},u=c.stroke||"borderColor",d=c["stroke-width"]||"borderWidth",h=t&&t.color||this.color,f=t&&t[u]||l[u]||this.color||h,p=t&&t[d]||l[d]||this[d]||0,m=l.dashStyle;return t&&this.zones.length&&(o=t.getZone(),h=t.options.color||o&&o.color||this.color),e&&(i=s(l.states[e],t.options.states&&t.options.states[e]||{}),a=i.brightness,h=i.color||void 0!==a&&n(h).brighten(i.brightness).get()||h,f=i[u]||f,p=i[d]||p,m=i.dashStyle||m),r={fill:h,stroke:f,"stroke-width":p},m&&(r.dashstyle=m),r},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,a=n.renderer,l=r.animationLimit||250;i(e.points,function(i){var c=i.plotY,u=i.graphic;o(c)&&null!==i.y?(t=i.shapeArgs,u?u[n.pointCount<l?"animate":"attr"](s(t)):i.graphic=u=a[i.shapeType](t).add(i.group||e.group),r.borderRadius&&u.attr({r:r.borderRadius}),u.attr(e.pointAttribs(i,i.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),u.addClass(i.getClassName(),!0)):u&&(i.graphic=u.destroy())})},animate:function(t){var n,i,o=this,a=this.yAxis,s=o.options,l=this.chart.inverted,c={},u=l?"translateX":"translateY";h&&(t?(c.scaleY=.001,i=Math.min(a.pos+a.len,Math.max(a.pos,a.toPixels(s.threshold))),l?c.translateX=i-a.len:c.translateY=i,o.group.attr(c)):(n=o.group.attr(u),o.group.animate({scaleY:1},r(e(o.options.animation),{step:function(t,e){c[u]=n+e.pos*(a.pos-n),o.group.attr(c)}})),o.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),u.prototype.remove.apply(t,arguments)}})}(e),function(t){var e=t.seriesType;e("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series,n=t.seriesType;n("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){var e=t.deg2rad,n=t.isNumber,i=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,n,o=this.options,a=this.chart,s=2*(o.slicedOffset||0),l=a.plotWidth-2*s,c=a.plotHeight-2*s,u=o.center,d=[i(u[0],"50%"),i(u[1],"50%"),o.size||"100%",o.innerSize||0],h=Math.min(l,c);for(e=0;e<4;++e)n=d[e],t=e<2||2===e&&/%$/.test(n),d[e]=r(n,[l,c,h,d[2]][e])+(t?s:0);return d[3]>d[2]&&(d[3]=d[2]),d},getStartAndEndRadians:function(t,i){var r=n(t)?t:0,o=n(i)&&i>r&&i-r<360?i:r+360,a=-90;return{start:e*(r+a),end:e*(o+a)}}}}(e),function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,i=t.defined,r=t.each,o=t.extend,a=n.getStartAndEndRadians,s=t.inArray,l=t.LegendSymbolMixin,c=t.noop,u=t.pick,d=t.Point,h=t.Series,f=t.seriesType,p=t.seriesTypes,m=t.setAnimation;f("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:p.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(r(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;t<r;t++)e=i[t],e.percentage=n>0&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){h.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,s,l,c,d=this,h=0,f=1e3,p=d.options,m=p.slicedOffset,g=m+(p.borderWidth||0),v=a(p.startAngle,p.endAngle),y=d.startAngleRad=v.start,b=d.endAngleRad=v.end,_=b-y,w=d.points,x=p.dataLabels.distance,k=p.ignoreHiddenPoint,C=w.length;for(t||(d.center=t=d.getCenter()),d.getX=function(e,n,i){return r=Math.asin(Math.min((e-t[1])/(t[2]/2+i.labelDistance),1)),t[0]+(n?-1:1)*(Math.cos(r)*(t[2]/2+i.labelDistance))},l=0;l<C;l++)c=w[l],c.labelDistance=u(c.options.dataLabels&&c.options.dataLabels.distance,x),d.maxLabelDistance=Math.max(d.maxLabelDistance||0,c.labelDistance),n=y+h*_,k&&!c.visible||(h+=c.percentage/100),i=y+h*_,c.shapeType="arc",c.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(n*f)/f,end:Math.round(i*f)/f},r=(i+n)/2,r>1.5*Math.PI?r-=2*Math.PI:r<-Math.PI/2&&(r+=2*Math.PI),c.slicedTranslation={translateX:Math.round(Math.cos(r)*m),translateY:Math.round(Math.sin(r)*m)},o=Math.cos(r)*t[2]/2,s=Math.sin(r)*t[2]/2,c.tooltipPos=[t[0]+.7*o,t[1]+.7*s],c.half=r<-Math.PI/2||r>Math.PI/2?1:0,c.angle=r,e=Math.min(g,c.labelDistance/5),c.labelPos=[t[0]+o+Math.cos(r)*c.labelDistance,t[1]+s+Math.sin(r)*c.labelDistance,t[0]+o+Math.cos(r)*e,t[1]+s+Math.sin(r)*e,t[0]+o,t[1]+s,c.labelDistance<0?"center":c.half?"right":"left",r]},drawGraph:null,drawPoints:function(){var t,e,n,i,a=this,s=a.chart,l=s.renderer,c=a.options.shadow;c&&!a.shadowGroup&&(a.shadowGroup=l.g("shadow").add(a.group)),r(a.points,function(r){if(e=r.graphic,r.isNull)e&&(r.graphic=e.destroy());else{i=r.shapeArgs,t=r.getTranslate();var s=r.shadowGroup;c&&!s&&(s=r.shadowGroup=l.g("shadow").add(a.shadowGroup)),s&&s.attr(t),n=a.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(a.center).attr(n).animate(o(i,t)):(r.graphic=e=l[r.shapeType](i).setRadialReference(a.center).attr(t).add(a.group),r.visible||e.attr({visibility:"hidden"}),e.attr(n).attr({"stroke-linejoin":"round"}).shadow(c,s)),e.addClass(r.getClassName())}})},searchPoint:c,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:l.drawRectangle,getCenter:n.getCenter,getSymbol:c},{init:function(){d.prototype.init.apply(this,arguments);var t,n=this;return n.name=u(n.name,"Slice"),t=function(t){n.slice("select"===t.type)},e(n,"select",t),e(n,"unselect",t),n},isValid:function(){return t.isNumber(this.y,!0)&&this.y>=0},setVisible:function(t,e){var n=this,i=n.series,o=i.chart,a=i.options.ignoreHiddenPoint;e=u(e,a),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[s(n,i.data)]=n.options,r(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),a&&(i.isDirty=!0),e&&o.redraw())},slice:function(t,e,n){var r=this,o=r.series,a=o.chart;m(n,a),e=u(e,!0),r.sliced=r.options.sliced=t=i(t)?t:!r.sliced,o.options.data[s(r,o.data)]=r.options,r.graphic.animate(this.getTranslate()),r.shadowGroup&&r.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(e),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.each,o=t.extend,a=t.format,s=t.map,l=t.merge,c=t.noop,u=t.pick,d=t.relativeLength,h=t.Series,f=t.seriesTypes,p=t.stableSort;t.distribute=function(t,e){function n(t,e){return t.target-e.target}var i,o,a,l=!0,c=t,d=[],h=0;for(i=t.length;i--;)h+=t[i].size;if(h>e){for(p(t,function(t,e){return(e.rank||0)-(t.rank||0)}),i=0,h=0;h<=e;)h+=t[i].size,i++;d=t.splice(i-1,t.length)}for(p(t,n),t=s(t,function(t){return{size:t.size,targets:[t.target],align:u(t.align,.5)}});l;){for(i=t.length;i--;)o=t[i],a=(Math.min.apply(0,o.targets)+Math.max.apply(0,o.targets))/2,o.pos=Math.min(Math.max(0,a-o.size*o.align),e-o.size);for(i=t.length,l=!1;i--;)i>0&&t[i-1].pos+t[i-1].size>t[i].pos&&(t[i-1].size+=t[i].size,t[i-1].targets=t[i-1].targets.concat(t[i].targets),t[i-1].align=.5,t[i-1].pos+t[i-1].size>e&&(t[i-1].pos=e-t[i-1].size),t.splice(i,1),l=!0)}i=0,r(t,function(t){var e=0;r(t.targets,function(){c[i].pos=t.pos+e,e+=c[i].size,i++})}),c.push.apply(c,d),p(c,n)},h.prototype.drawDataLabels=function(){function n(t,e){var n,i,r,o=e.filter;return!o||(n=o.operator,i=t[o.property],r=o.value,">"===n&&i>r||"<"===n&&i<r||">="===n&&i>=r||"<="===n&&i<=r||"=="===n&&i==r||"==="===n&&i===r)}var o,s,c,d,h=this,f=h.options,p=f.dataLabels,m=h.points,g=h.hasRendered||0,v=u(p.defer,!!f.animation),y=h.chart.renderer;(p.enabled||h._hasPointLabels)&&(h.dlProcessOptions&&h.dlProcessOptions(p),d=h.plotGroup("dataLabelsGroup","data-labels",v&&!g?"hidden":"visible",p.zIndex||6),v&&(d.attr({opacity:+g}),g||e(h,"afterAnimate",function(){h.visible&&d.show(!0),d[f.animation?"animate":"attr"]({opacity:1},{duration:200})})),s=p,r(m,function(e){var r,m,g,v,b,_,w=e.dataLabel,x=e.connector,k=!w;o=e.dlOptions||e.options&&e.options.dataLabels,r=u(o&&o.enabled,s.enabled)&&!e.isNull,r&&(r=n(e,o||p)===!0),r&&(p=l(s,o),m=e.getLabelConfig(),_=p[e.formatPrefix+"Format"]||p.format,c=i(_)?a(_,m):(p[e.formatPrefix+"Formatter"]||p.formatter).call(m,p),b=p.style,v=p.rotation,b.color=u(p.color,b.color,h.color,"#000000"),"contrast"===b.color&&(e.contrastColor=y.getContrast(e.color||h.color),b.color=p.inside||u(e.labelDistance,p.distance)<0||f.stacking?e.contrastColor:"#000000"),f.cursor&&(b.cursor=f.cursor),g={fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth,r:p.borderRadius||0,rotation:v,padding:p.padding,zIndex:1},t.objectEach(g,function(t,e){void 0===t&&delete g[e]})),!w||r&&i(c)?r&&i(c)&&(w?g.text=c:(w=e.dataLabel=y[v?"text":"label"](c,0,-9999,p.shape,null,null,p.useHTML,null,"data-label"),w.addClass("highcharts-data-label-color-"+e.colorIndex+" "+(p.className||"")+(p.useHTML?"highcharts-tracker":""))),w.attr(g),w.css(b).shadow(p.shadow),w.added||w.add(d),h.alignDataLabel(e,w,p,null,k)):(e.dataLabel=w=w.destroy(),x&&(e.connector=x.destroy()))}))},h.prototype.alignDataLabel=function(t,e,n,i,r){var a,s,l,c,d,h,f=this.chart,p=f.inverted,m=u(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),g=u(t.plotY,-9999),v=e.getBBox(),y=n.rotation,b=n.align,_=this.visible&&(t.series.forceDL||f.isInsidePlot(m,Math.round(g),p)||i&&f.isInsidePlot(m,p?i.x+1:i.y+i.height-1,p)),w="justify"===u(n.overflow,"justify");_&&(a=n.style.fontSize,s=f.renderer.fontMetrics(a,e).b,i=o({x:p?this.yAxis.len-g:m,y:Math.round(p?this.xAxis.len-m:g),width:0,height:0},i),o(n,{width:v.width,height:v.height}),y?(w=!1,d=f.renderer.rotCorr(s,y),h={x:i.x+n.x+i.width/2+d.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](h).attr({align:b}),l=(y+720)%360,c=l>180&&l<360,"left"===b?h.y-=c?v.height:0:"center"===b?(h.x-=v.width/2,h.y-=v.height/2):"right"===b&&(h.x-=v.width,h.y-=c?0:v.height)):(e.align(n,null,i),h=e.alignAttr),w?t.isLabelJustified=this.justifyDataLabel(e,n,h,v,i,r):u(n.crop,!0)&&(_=f.isInsidePlot(h.x,h.y)&&f.isInsidePlot(h.x+v.width,h.y+v.height)),n.shape&&!y&&e[r?"attr":"animate"]({anchorX:p?f.plotWidth-t.plotY:t.plotX,anchorY:p?f.plotHeight-t.plotX:t.plotY})),_||(e.attr({y:-9999}),e.placed=!1)},h.prototype.justifyDataLabel=function(t,e,n,i,r,o){var a,s,l=this.chart,c=e.align,u=e.verticalAlign,d=t.box?0:t.padding||0;return a=n.x+d,a<0&&("right"===c?e.align="left":e.x=-a,s=!0),a=n.x+i.width-d,a>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-a,s=!0),a=n.y+d,a<0&&("bottom"===u?e.verticalAlign="top":e.y=-a,s=!0),a=n.y+i.height-d,a>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-a,s=!0),s&&(t.placed=!o,t.align(e,null,r)),s},f.pie&&(f.pie.prototype.drawDataLabels=function(){var e,o,a,s,l,c,d,f,p,m,g=this,v=g.data,y=g.chart,b=g.options.dataLabels,_=u(b.connectorPadding,10),w=u(b.connectorWidth,1),x=y.plotWidth,k=y.plotHeight,C=g.center,T=C[2]/2,S=C[1],E=[[],[]],O=[0,0,0,0];g.visible&&(b.enabled||g._hasPointLabels)&&(r(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),h.prototype.drawDataLabels.apply(g),r(v,function(t){t.dataLabel&&t.visible&&(E[t.half].push(t),t.dataLabel._pos=null)}),r(E,function(n,o){var h,v,w,E,A,M,P=n.length,D=[];if(P)for(g.sortByAngle(n,o-.5),g.maxLabelDistance>0&&(h=Math.max(0,S-T-g.maxLabelDistance),v=Math.min(S+T+g.maxLabelDistance,y.plotHeight),r(n,function(t){t.labelDistance>0&&t.dataLabel&&(t.top=Math.max(0,S-T-t.labelDistance),t.bottom=Math.min(S+T+t.labelDistance,y.plotHeight),M=t.dataLabel.getBBox().height||21,t.positionsIndex=D.push({target:t.labelPos[1]-t.top+M/2,size:M,rank:t.y})-1)}),t.distribute(D,v+M-h)),m=0;m<P;m++)e=n[m],A=e.positionsIndex,l=e.labelPos,a=e.dataLabel,p=e.visible===!1?"hidden":"inherit",w=l[1],f=w,D&&i(D[A])&&(void 0===D[A].pos?p="hidden":(c=D[A].size,f=e.top+D[A].pos)),delete e.positionIndex,d=b.justify?C[0]+(o?-1:1)*(T+e.labelDistance):g.getX(f<e.top+2||f>e.bottom-2?w:f,o,e),a._attr={visibility:p,align:l[6]},a._pos={x:d+b.x+({left:_,right:-_}[l[6]]||0),y:f+b.y-10},l.x=d,l.y=f,u(b.crop,!0)&&(s=a.getBBox().width,E=null,d-s<_?(E=Math.round(s-d+_),O[3]=Math.max(E,O[3])):d+s>x-_&&(E=Math.round(d+s-x+_),O[1]=Math.max(E,O[1])),f-c/2<0?O[0]=Math.max(Math.round(-f+c/2),O[0]):f+c/2>k&&(O[2]=Math.max(Math.round(f+c/2-k),O[2])),a.sideOverflow=E)}),(0===n(O)||this.verifyDataLabelOverflow(O))&&(this.placeDataLabels(),w&&r(this.points,function(t){var e;o=t.connector,a=t.dataLabel,a&&a._pos&&t.visible&&t.labelDistance>0?(p=a._attr.visibility,e=!o,e&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex).add(g.dataLabelsGroup),o.attr({"stroke-width":w,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),o.attr("visibility",p)):o&&(t.connector=o.destroy())})))},f.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return u(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},f.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e,n=t.dataLabel;n&&t.visible&&(e=n._pos,e?(n.sideOverflow&&(n._attr.width=n.getBBox().width-n.sideOverflow,n.css({width:n._attr.width+"px",textOverflow:"ellipsis"}),n.shortened=!0),n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-9999}))},this)},f.pie.prototype.alignDataLabel=c,f.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,n=this.options,i=n.center,r=n.minSize||80,o=r,a=null!==n.size;return a||(null!==i[0]?o=Math.max(e[2]-Math.max(t[1],t[3]),r):(o=Math.max(e[2]-t[1]-t[3],r),e[0]+=(t[3]-t[1])/2),null!==i[1]?o=Math.max(Math.min(o,e[2]-Math.max(t[0],t[2])),r):(o=Math.max(Math.min(o,e[2]-t[0]-t[2]),r),e[1]+=(t[0]-t[2])/2),o<e[2]?(e[2]=o,e[3]=Math.min(d(n.innerSize||0,o),o),this.translate(e),this.drawDataLabels&&this.drawDataLabels()):a=!0),a}),f.column&&(f.column.prototype.alignDataLabel=function(t,e,n,i,r){var o,a=this.chart.inverted,s=t.series,c=t.dlBox||t.shapeArgs,d=u(t.below,t.plotY>u(this.translatedThreshold,s.yAxis.len)),f=u(n.inside,!!this.options.stacking);c&&(i=l(c),i.y<0&&(i.height+=i.y,i.y=0),o=i.y+i.height-s.yAxis.len,o>0&&(i.height-=o),a&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),f||(a?(i.x+=d?0:i.width,i.width=0):(i.y+=d?i.height:0,i.height=0))),n.align=u(n.align,!a||f?"center":d?"right":"left"),n.verticalAlign=u(n.verticalAlign,a||f?"middle":d?"top":"bottom"),h.prototype.alignDataLabel.call(this,t,e,n,i,r),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,n=t.each,i=t.objectEach,r=t.pick,o=t.addEvent;o(e.prototype,"render",function(){var t=[];n(this.labelCollectors||[],function(e){t=t.concat(e())}),n(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&i(e.stacks,function(e){i(e,function(e){t.push(e.label)})})}),n(this.series||[],function(e){var i=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(i.enabled||e._hasPointLabels)&&!i.allowOverlap&&e.visible&&n(o,function(i){n(e.points,function(e){e[i]&&(e[i].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[i]))})})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,a,s,l,c,u,d,h,f,p=t.length,m=function(t,e,n,i,r,o,a,s){return!(r>t+n||r+a<t||o>e+i||o+s<e)};for(i=0;i<p;i++)e=t[i],e&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.width||(f=e.getBBox(),e.width=f.width,e.height=f.height));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<p;i++)for(o=t[i],r=i+1;r<p;++r)a=t[r],o&&a&&o!==a&&o.placed&&a.placed&&0!==o.newOpacity&&0!==a.newOpacity&&(l=o.alignAttr,c=a.alignAttr,u=o.parentGroup,d=a.parentGroup,h=2*(o.box?0:o.padding||0),s=m(l.x+u.translateX,l.y+u.translateY,o.width-h,o.height-h,c.x+d.translateX,c.y+d.translateY,a.width-h,a.height-h),s&&((o.labelrank<a.labelrank?o:a).newOpacity=0));n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&t.placed&&(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(e),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,o=t.css,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.each,c=t.extend,u=t.fireEvent,d=t.hasTouch,h=t.inArray,f=t.isObject,p=t.Legend,m=t.merge,g=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,_=t.svg;
e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=function(t){var e=n.getPointFromEvent(t);void 0!==e&&(n.isDirectTouch=!0,e.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){n.onTrackerMouseOut(t)}),d&&t[e].on("touchstart",i),t.options.cursor&&t[e].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,a=e.chart,s=a.pointer,c=a.renderer,u=a.options.tooltip.snap,h=e.tracker,f=function(){a.hoverSeries!==e&&e.onMouseOver()},p="rgba(192,192,192,"+(_?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-u,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+u,r[t-1]);h?h.attr({d:r}):e.graph&&(e.tracker=c.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:p,fill:i?p:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*u),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(t){s.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),d&&t.on("touchstart",f)}))}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),c(p.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart.renderer.boxWrapper,o="highcharts-legend-"+(t.series?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),e.css(i.options.itemHoverStyle)}).on("mouseout",function(){e.css(m(t.visible?i.itemStyle:i.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var n="legendItemClick",i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(n,e,i):u(t,n,e,i)})},createCheckboxForItem:function(t){var e=this;t.checkbox=r("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),n(t.checkbox,"click",function(e){var n=e.target;u(t.series||t,"checkboxClick",{checked:n.checked,item:t},function(){t.select()})})}}),a.legend.itemStyle.cursor="pointer",c(i.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=a.lang,i=e.options.chart.resetZoomButton,r=i.theme,o=r.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,s)},zoomOut:function(){var t=this;u(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,i=this,r=i.pointer,o=!1;!t||t.resetSelection?(l(i.axes,function(t){e=t.zoom()}),r.initiated=!1):l(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,i=n.isXAxis;r[i?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(o=!0))}),n=i.resetZoomButton,o&&!n?i.showResetZoom():!o&&f(n)&&(i.resetZoomButton=n.destroy()),e&&i.redraw(g(i.options.chart.animation,t&&t.animation,i.pointCount<100))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){var r,o=i[e?"xAxis":"yAxis"][0],a=o.horiz,s=t[a?"chartX":"chartY"],l=a?"mouseDownX":"mouseDownY",c=i[l],u=(o.pointRange||0)/2,d=o.getExtremes(),h=o.toValue(c-s,!0)+u,f=o.toValue(c+o.len-s,!0)-u,p=f<h,m=p?f:h,g=p?h:f,v=Math.min(d.dataMin,o.toValue(o.toPixels(d.min)-o.minPixelPadding)),y=Math.max(d.dataMax,o.toValue(o.toPixels(d.max)+o.minPixelPadding));r=v-m,r>0&&(g+=r,m=v),r=g-y,r>0&&(g=y,m-=r),o.series.length&&m!==d.min&&g!==d.max&&(o.setExtremes(m,g,!1,!1,{trigger:"pan"}),n=!0),i[l]=s}),n&&i.redraw(!1),o(i.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=g(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[h(n,i.data)]=n.options,n.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[h(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,n=e.series,i=n.chart,r=i.pointer;t=t?r.normalize(t):r.getChartCoordinatesFromPoint(e,i.inverted),r.runPointActions(t,e)},onMouseOut:function(){var t=this,e=t.series.chart;t.firePointEvent("mouseOut"),l(e.hoverPoints||[],function(t){t.setState()}),e.hoverPoints=e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=m(e.series.options.point,e.options),r=i.events;e.events=r,t.objectEach(r,function(t,i){n(e,i,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var n,i,r,o=this,a=Math.floor(o.plotX),l=o.plotY,u=o.series,d=u.options.states[t]||{},h=s[u.type].marker&&u.options.marker,f=h&&h.enabled===!1,p=h&&h.states&&h.states[t]||{},m=p.enabled===!1,v=u.stateMarkerGraphic,y=o.marker||{},b=u.chart,_=u.halo,w=h&&u.markerAttribs;t=t||"",t===o.state&&!e||o.selected&&"select"!==t||d.enabled===!1||t&&(m||f&&p.enabled===!1)||t&&y.states&&y.states[t]&&y.states[t].enabled===!1||(w&&(i=u.markerAttribs(o,t)),o.graphic?(o.state&&o.graphic.removeClass("highcharts-point-"+o.state),t&&o.graphic.addClass("highcharts-point-"+t),o.graphic.animate(u.pointAttribs(o,t),g(b.options.chart.animation,d.animation)),i&&o.graphic.animate(i,g(b.options.chart.animation,p.animation,h.animation)),v&&v.hide()):(t&&p&&(r=y.symbol||u.symbol,v&&v.currentSymbol!==r&&(v=v.destroy()),v?v[e?"animate":"attr"]({x:i.x,y:i.y}):r&&(u.stateMarkerGraphic=v=b.renderer.symbol(r,i.x,i.y,i.width,i.height).add(u.markerGroup),v.currentSymbol=r),v&&v.attr(u.pointAttribs(o,t))),v&&(v[t&&b.isInsidePlot(a,l,b.inverted)?"show":"hide"](),v.element.point=o)),n=d.halo,n&&n.size?(_||(u.halo=_=b.renderer.path().add((o.graphic||v).parentGroup)),_[e?"animate":"attr"]({d:o.haloPath(n.size)}),_.attr({"class":"highcharts-halo highcharts-color-"+g(o.colorIndex,u.colorIndex)}),_.point=o,_.attr(c({fill:o.color||u.color,"fill-opacity":n.opacity,zIndex:-1},n.attributes))):_&&_.point&&_.point.haloPath&&_.animate({d:_.point.haloPath(0)}),o.state=t)},haloPath:function(t){var e=this.series,n=e.chart;return n.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(y.prototype,{onMouseOver:function(){var t=this,e=t.chart,n=e.hoverSeries;n&&n!==t&&n.onMouseOut(),t.options.events.mouseOver&&u(t,"mouseOver"),t.setState("hover"),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,n=t.chart,i=n.tooltip,r=n.hoverPoint;n.hoverSeries=null,r&&r.onMouseOut(),t&&e.events.mouseOut&&u(t,"mouseOut"),!i||t.stickyTracking||i.shared&&!t.noSharedTooltip||i.hide(),t.setState()},setState:function(t){var e,n=this,i=n.options,r=n.graph,o=i.states,a=i.lineWidth,s=0;if(t=t||"",n.state!==t){if(l([n.group,n.markerGroup,n.dataLabelsGroup],function(e){e&&(n.state&&e.removeClass("highcharts-series-"+n.state),t&&e.addClass("highcharts-series-"+t))}),n.state=t,o[t]&&o[t].enabled===!1)return;if(t&&(a=o[t].lineWidth||a+(o[t].lineWidthPlus||0)),r&&!r.dashstyle)for(e={"stroke-width":a},r.animate(e,g(n.chart.options.chart.animation,o[t]&&o[t].animation));n["zone-graph-"+s];)n["zone-graph-"+s].attr(e),s+=1}},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,a=r.options.chart.ignoreHiddenSeries,s=i.visible;i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!s:t,n=t?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(i.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),u(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=void 0===t?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),u(e,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,n=t.each,i=t.inArray,r=t.isArray,o=t.isObject,a=t.pick,s=t.splat;e.prototype.setResponsive=function(e){var i,r=this.options.responsive,o=[],a=this.currentResponsive;r&&r.rules&&n(r.rules,function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,o,e)},this);var s=t.merge.apply(0,t.map(o,function(e){return t.find(r.rules,function(t){return t._id===e}).chartOptions}));o=o.toString()||void 0,i=a&&a.ruleIds,o!==i&&(a&&this.update(a.undoOptions,e),o?(this.currentResponsive={ruleIds:o,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition,i=n.callback||function(){return this.chartWidth<=a(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(n.minWidth,0)&&this.chartHeight>=a(n.minHeight,0)};i.call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function n(e,a,l,c){var u;t.objectEach(e,function(t,e){if(!c&&i(e,["series","xAxis","yAxis"])>-1)for(t=s(t),l[e]=[],u=0;u<t.length;u++)a[e][u]&&(l[e][u]={},n(t[u],a[e][u],l[e][u],c+1));else o(t)?(l[e]=r(t)?[]:{},n(t,a[e]||{},l[e],c+1)):l[e]=a[e]||null})}var a={};return n(e,this.options,a,0),a}}(e),e}),function(t){"use strict";function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Function}function i(t){return!n(t)&&t instanceof Object}function r(t,n){var o;for(o in n)i(n[o])||e(n[o])?(i(n[o])&&!i(t[o])&&(t[o]={}),e(n[o])&&!e(t[o])&&(t[o]=[]),r(t[o],n[o])):void 0!==n[o]&&(t[o]=n[o])}function o(t,e){var n={};return r(n,t),r(n,e),n}function a(t){var e,n,i,r,o,a,s,l,c,u,d;return u=Object.prototype.toString.call(t),"[object Date]"===u?t:"[object String]"===u?(i=t.match(Q),i?(d=parseInt(i[1],10),a=parseInt(i[3],10)-1,e=parseInt(i[5],10),n=parseInt(i[7],10),o=i[9]?parseInt(i[9],10):0,c=i[11]?parseInt(i[11],10):0,r=i[12]?1e3*parseFloat(J+i[12].slice(1)):0,l=Date.UTC(d,a,e,n,o,c,r),i[13]&&i[14]&&(s=60*i[15],i[17]&&(s+=parseInt(i[17],10)),s*="-"===i[14]?-1:1,l-=60*s*1e3),new Date(l)):void 0):void 0}function s(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(i[n][1]<0)return!0;return!1}function l(t,e,n,i,r,a,l,c){return function(u,d,h){var f=u.data,p=o({},t);return p=o(p,h||{}),(u.hideLegend||"legend"in d)&&e(p,d.legend,u.hideLegend),d.title&&n(p,d.title),"min"in d?i(p,d.min):s(f)||i(p,0),d.max&&r(p,d.max),"stacked"in d&&a(p,d.stacked),d.colors&&(p.colors=d.colors),d.xtitle&&l(p,d.xtitle),d.ytitle&&c(p,d.ytitle),p=o(p,d.library||{})}}function c(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function u(t,e){c(t,"Error Loading Chart: "+e),t.style.color="#ff0000"}function d(t,e,n){at.push([t,e,n]),h()}function h(){if(st<lt){var t=at.shift();t&&(st++,p(t[0],t[1],t[2]),h())}}function f(){st--,h()}function p(t,e,n){m(e,n,function(e,n,i){var r="string"==typeof i?i:i.message;u(t,r)})}function m(e,n,i){var r=t.jQuery||t.Zepto||t.$;if(r)r.ajax({dataType:"json",url:e,success:n,error:i,complete:f});else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){f(),200===o.status?n(JSON.parse(o.responseText),o.statusText,o):i(o,"error",o.statusText)},o.send()}}function g(t,e){try{e(t)}catch(e){throw u(t.element,e.message),e}}function v(t,e,n){"string"==typeof n?d(t.element,n,function(n){t.rawData=n,g(t,e)}):(t.rawData=n,g(t,e))}function y(t){var e=t.element,n=document.createElement("a");n.download=t.options.download===!0?"chart.png":t.options.download,n.style.position="absolute",n.style.top="20px",n.style.right="20px",n.style.zIndex=1e3,n.style.lineHeight="20px",n.target="_blank";var i=document.createElement("img");i.alt="Download",i.style.border="none",i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",n.appendChild(i),e.style.position="relative",t.downloadAttached=!0,b(e,"mouseover",function(i){var r=i.relatedTarget;(!r||r!==this&&!_(this,r)&&t.options.download)&&(n.href=t.toImage(),e.appendChild(n))}),b(e,"mouseout",function(t){var e=t.relatedTarget;e&&(e===this||_(this,e))||n.parentNode&&n.parentNode.removeChild(n)})}function b(e,n,i){e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent("on"+n,function(){return i.call(e,t.event)})}function _(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function w(t){return""+t}function x(t){return parseFloat(t)}function k(t){var e,n,i,r;if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{if(e=t.match(ot))return n=parseInt(e[1],10),i=parseInt(e[3],10)-1,r=parseInt(e[5],10),new Date(n,i,r);var o=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");t=a(o)||new Date(t)}return t}function C(t){if(!e(t)){var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push([n,t[n]]);t=i}return t}function T(t,e){return t[0].getTime()-e[0].getTime()}function S(t,e){return t[0]-e[0]}function E(t,e){return t-e}function O(){!et&&"Highcharts"in t&&(et=new function(){var e=t.Highcharts;this.name="highcharts";var n={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},series:{marker:{}}}},i=function(t,e,n){void 0!==e?(t.legend.enabled=!!e,e&&e!==!0&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):n&&(t.legend.enabled=!1)},r=function(t,e){t.title.text=e},a=function(t,e){t.yAxis.min=e},s=function(t,e){t.yAxis.max=e},c=function(t,e){t.plotOptions.series.stacking=e?"normal":null},u=function(t,e){t.xAxis.title.text=e},d=function(t,e){t.yAxis.title.text=e},h=l(n,i,r,a,s,c,u,d);this.renderLineChart=function(t,n){n=n||"spline";var i={};"areaspline"===n&&(i={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),t.options.curve===!1&&("areaspline"===n?n="area":"spline"===n&&(n="line"));var r,o,a,s=h(t,t.options,i);s.xAxis.type=t.discrete?"category":"datetime",s.chart.type||(s.chart.type=n),s.chart.renderTo=t.element.id;var l=t.data;for(o=0;o<l.length;o++){if(r=l[o].data,!t.discrete)for(a=0;a<r.length;a++)r[a][0]=r[a][0].getTime();l[o].marker={symbol:"circle"},t.options.points===!1&&(l[o].marker.enabled=!1)}s.series=l,t.chart=new e.Chart(s)},this.renderScatterChart=function(t){var n={},i=h(t,t.options,n);i.chart.type="scatter",i.chart.renderTo=t.element.id,i.series=t.data,t.chart=new e.Chart(i)},this.renderPieChart=function(t){var a=o(n,{});t.options.colors&&(a.colors=t.options.colors),t.options.donut&&(a.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&i(a,t.options.legend),t.options.title&&r(a,t.options.title);var s=o(a,t.options.library||{});s.chart.renderTo=t.element.id,s.series=[{type:"pie",name:t.options.label||"Value",data:t.data}],t.chart=new e.Chart(s)},this.renderColumnChart=function(t,n){n=n||"column";var i,r,o,a,s=t.data,l=h(t,t.options),c=[],u=[];for(l.chart.type=n,l.chart.renderTo=t.element.id,i=0;i<s.length;i++)for(o=s[i],r=0;r<o.data.length;r++)a=o.data[r],c[a[0]]||(c[a[0]]=new Array(s.length),u.push(a[0])),c[a[0]][i]=a[1];"number"===t.options.xtype&&u.sort(E),l.xAxis.categories=u;var d,f=[];for(i=0;i<s.length;i++){for(a=[],r=0;r<u.length;r++)a.push(c[u[r]][i]||0);d={name:s[i].name,data:a},s[i].stack&&(d.stack=s[i].stack),f.push(d)}l.series=f,t.chart=new e.Chart(l)};var f=this;this.renderBarChart=function(t){f.renderColumnChart(t,"bar")},this.renderAreaChart=function(t){f.renderLineChart(t,"areaspline")}},rt.push(et)),!tt&&t.google&&(t.google.setOnLoadCallback||t.google.charts)&&(tt=new function(){var e=t.google;this.name="google";var n={},i=[],r=function(){for(var t,n,r=0;r<i.length;r++)t=i[r],n=e.visualization&&("corechart"===t.pack&&e.visualization.LineChart||"timeline"===t.pack&&e.visualization.Timeline),n&&(t.callback(),i.splice(r,1),r--)},a=function(o,a){if(a||(a=o,o="corechart"),i.push({pack:o,callback:a}),n[o])r();else{n[o]=!0;var s={packages:[o],callback:r};it.language&&(s.language=it.language),"corechart"===o&&it.mapsApiKey&&(s.mapsApiKey=it.mapsApiKey),t.google.setOnLoadCallback?e.load("visualization","1",s):e.charts.load("current",s)}},s={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},c=function(t,e,n){if(void 0!==e){var i;i=e?e===!0?"right":e:"none",t.legend.position=i}else n&&(t.legend.position="none")},u=function(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}},d=function(t,e){t.vAxis.viewWindow.min=e},h=function(t,e){t.vAxis.viewWindow.max=e},f=function(t,e){t.hAxis.viewWindow.min=e},p=function(t,e){t.hAxis.viewWindow.max=e},m=function(t,e){t.isStacked=!!e},g=function(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1},v=function(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1},y=l(s,c,u,d,h,m,g,v),b=function(t,n,i){var r,o,a,s,l,c=[],u=[];for(r=0;r<t.length;r++)for(a=t[r],o=0;o<a.data.length;o++)s=a.data[o],l="datetime"===n?s[0].getTime():s[0],c[l]||(c[l]=new Array(t.length),u.push(l)),c[l][r]=x(s[1]);for(var d,h=[],f=!0,o=0;o<u.length;o++){var r=u[o];"datetime"===n?(d=new Date(x(r)),f=f&&j(d)):d="number"===n?x(r):r,h.push([d].concat(c[r]))}if("datetime"===n?h.sort(T):"number"===n&&h.sort(S),"number"===i){h.sort(S);for(var r=0;r<h.length;r++)h[r][0]=w(h[r][0])}var p=new e.visualization.DataTable;for(n="datetime"===n&&f?"date":n,p.addColumn(n,""),r=0;r<t.length;r++)p.addColumn("number",t[r].name);return p.addRows(h),p},_=function(e){t.attachEvent?t.attachEvent("onresize",e):t.addEventListener&&t.addEventListener("resize",e,!0),e()};this.renderLineChart=function(t){a(function(){var n={};t.options.curve===!1&&(n.curveType="none"),t.options.points===!1&&(n.pointSize=0);var i=y(t,t.options,n),r=t.discrete?"string":"datetime";"number"===t.options.xtype&&(r="number");var o=b(t.data,r);t.chart=new e.visualization.LineChart(t.element),_(function(){t.chart.draw(o,i)})})},this.renderPieChart=function(t){a(function(){var n={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(n.colors=t.options.colors),t.options.donut&&(n.pieHole=.5),"legend"in t.options&&c(n,t.options.legend),t.options.title&&u(n,t.options.title);var i=o(o(s,n),t.options.library||{}),r=new e.visualization.DataTable;r.addColumn("string",""),r.addColumn("number","Value"),r.addRows(t.data),t.chart=new e.visualization.PieChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderColumnChart=function(t){a(function(){var n=y(t,t.options),i=b(t.data,"string",t.options.xtype);t.chart=new e.visualization.ColumnChart(t.element),_(function(){t.chart.draw(i,n)})})},this.renderBarChart=function(t){a(function(){var n={hAxis:{gridlines:{color:"#ccc"}}},i=l(s,c,u,f,p,m,g,v)(t,t.options,n),r=b(t.data,"string",t.options.xtype);t.chart=new e.visualization.BarChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderAreaChart=function(t){a(function(){var n={isStacked:!0,pointSize:0,areaOpacity:.5},i=y(t,t.options,n),r=t.discrete?"string":"datetime";"number"===t.options.xtype&&(r="number");var o=b(t.data,r);t.chart=new e.visualization.AreaChart(t.element),_(function(){t.chart.draw(o,i)})})},this.renderGeoChart=function(t){a(function(){var n={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},i=o(o(s,n),t.options.library||{}),r=new e.visualization.DataTable;r.addColumn("string",""),r.addColumn("number",t.options.label||"Value"),r.addRows(t.data),t.chart=new e.visualization.GeoChart(t.element),_(function(){t.chart.draw(r,i)})})},this.renderScatterChart=function(t){a(function(){var n,i,r,o,a={},s=y(t,t.options,a),l=t.data,c=[];for(n=0;n<l.length;n++)for(o=l[n].data,i=0;i<o.length;i++){var u=new Array(l.length+1);u[0]=o[i][0],u[n+1]=o[i][1],c.push(u)}var r=new e.visualization.DataTable;for(r.addColumn("number",""),n=0;n<l.length;n++)r.addColumn("number",l[n].name);r.addRows(c),t.chart=new e.visualization.ScatterChart(t.element),_(function(){t.chart.draw(r,s)})})},this.renderTimeline=function(t){a("timeline",function(){var n={legend:"none"};t.options.colors&&(n.colors=t.options.colors);var i=o(o(s,n),t.options.library||{}),r=new e.visualization.DataTable;r.addColumn({type:"string",id:"Name"}),r.addColumn({type:"date",id:"Start"}),r.addColumn({type:"date",id:"End"}),r.addRows(t.data),t.element.style.lineHeight="normal",t.chart=new e.visualization.Timeline(t.element),_(function(){t.chart.draw(r,i)})})}},rt.push(tt)),!nt&&"Chart"in t&&(nt=new function(){var e=t.Chart;this.name="chartjs";var n={maintainAspectRatio:!1,animation:!1,tooltips:{displayColors:!1},legend:{},title:{fontSize:20,fontColor:"#333"}},i={scales:{yAxes:[{ticks:{maxTicksLimit:4},scaleLabel:{fontSize:16,fontColor:"#333"}}],xAxes:[{gridLines:{drawOnChartArea:!1},scaleLabel:{fontSize:16,fontColor:"#333"},time:{},ticks:{}}]}},r=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],a=function(t,e,n){void 0!==e?(t.legend.display=!!e,e&&e!==!0&&(t.legend.position=e)):n&&(t.legend.display=!1)},s=function(t,e){t.title.display=!0,t.title.text=e},c=function(t,e){null!==e&&(t.scales.yAxes[0].ticks.min=x(e))},u=function(t,e){t.scales.yAxes[0].ticks.max=x(e)},d=function(t,e){null!==e&&(t.scales.xAxes[0].ticks.min=x(e))},h=function(t,e){t.scales.xAxes[0].ticks.max=x(e)},f=function(t,e){t.scales.xAxes[0].stacked=!!e,t.scales.yAxes[0].stacked=!!e},p=function(t,e){t.scales.xAxes[0].scaleLabel.display=!0,t.scales.xAxes[0].scaleLabel.labelString=e},m=function(t,e){t.scales.yAxes[0].scaleLabel.display=!0,t.scales.yAxes[0].scaleLabel.labelString=e},g=function(t,n,i,r){t.chart?t.chart.destroy():t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new e(o,{type:n,data:i,options:r})},v=function(t,e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?"rgba("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+", "+e+")":t},y=function(t,e,n){var i=Math.ceil(t.element.offsetWidth/4/e.labels.length);i>25&&(i=25),n.scales.xAxes[0].ticks.callback=function(t){return t=w(t),t.length>i?t.substring(0,i-2)+"...":t}},b=l(o(n,i),a,s,c,u,f,p,m),_=function(t,e,n){var i,a,s,l,c,u,d=[],h=[],f=t.options.colors||r,p=!0,m=!0,g=!0,y=!0,b=!0,_=!0,w=("line"===n||"area"===n)&&!t.discrete,k=t.data,C=[],T=[];for(a=0;a<k.length;a++)for(l=k[a],s=0;s<l.data.length;s++)c=l.data[s],u=w?c[0].getTime():c[0],T[u]||(T[u]=new Array(k.length)),T[u][a]=x(c[1]),C.indexOf(u)===-1&&C.push(u);(w||"number"===t.options.xtype)&&C.sort(E);var S=[];for(s=0;s<k.length;s++)S.push([]);var O,A;for(A=0;A<C.length;A++)for(a=C[A],w?(O=new Date(x(a)),p=p&&j(O),i||(i=O.getDay()),m=m&&N(O,i),g=g&&L(O),y=y&&I(O),b=b&&D(O),_=_&&P(O)):O=a,h.push(O),s=0;s<k.length;s++)S[s].push(void 0===T[a][s]?null:T[a][s]);for(a=0;a<k.length;a++){l=k[a];var M=l.color||f[a],R="line"!==n?v(M,.5):M,B={label:l.name,data:S[a],fill:"area"===n,borderColor:M,backgroundColor:R,pointBackgroundColor:M,borderWidth:2};l.stack&&(B.stack=l.stack),t.options.curve===!1&&(B.lineTension=0),t.options.points===!1&&(B.pointRadius=0,B.pointHitRadius=5),d.push(o(B,l.library||{}))}if(w&&h.length>0){var F=h[0].getTime(),$=h[0].getTime();for(a=1;a<h.length;a++)O=h[a].getTime(),O<F&&(F=O),O>$&&($=O);var z=($-F)/864e5;if(!e.scales.xAxes[0].time.unit){var U;if(y||z>3650?(e.scales.xAxes[0].time.unit="year",U=365):g||z>300?(e.scales.xAxes[0].time.unit="month",U=30):p||z>10?(e.scales.xAxes[0].time.unit="day",U=1):b||z>.5?(e.scales.xAxes[0].time.displayFormats={hour:"MMM D, h a"},e.scales.xAxes[0].time.unit="hour",U=1/24):_&&(e.scales.xAxes[0].time.displayFormats={minute:"h:mm a"},e.scales.xAxes[0].time.unit="minute",U=1/24/60),U&&z>0){var H=Math.ceil(z/U/(t.element.offsetWidth/100));m&&1===U&&(H=7*Math.ceil(H/7)),e.scales.xAxes[0].time.unitStepSize=H}}e.scales.xAxes[0].time.tooltipFormat||(p?e.scales.xAxes[0].time.tooltipFormat="ll":b?e.scales.xAxes[0].time.tooltipFormat="MMM D, h a":_&&(e.scales.xAxes[0].time.tooltipFormat="h:mm a"))}var W={labels:h,datasets:d};return W};this.renderLineChart=function(t,e){if("number"===t.options.xtype)return k.renderScatterChart(t,e,!0);var n={};!t.options.max&&B(t.data)&&(n.max=1);var i=b(t,o(n,t.options)),r=_(t,i,e||"line");i.scales.xAxes[0].type=t.discrete?"category":"time",g(t,"line",r,i)},this.renderPieChart=function(t){var e=o({},n);t.options.donut&&(e.cutoutPercentage=50),"legend"in t.options&&a(e,t.options.legend),t.options.title&&s(e,t.options.title),e=o(e,t.options.library||{});for(var i=[],l=[],c=0;c<t.data.length;c++){var u=t.data[c];i.push(u[0]),l.push(u[1])}var d={labels:i,datasets:[{data:l,backgroundColor:t.options.colors||r}]};g(t,"pie",d,e)},this.renderColumnChart=function(t,e){var r;r="bar"===e?l(o(n,i),a,s,d,h,f,p,m)(t,t.options):b(t,t.options);var c=_(t,r,"column");y(t,c,r),g(t,"bar"===e?"horizontalBar":"bar",c,r)};var k=this;this.renderAreaChart=function(t){k.renderLineChart(t,"area")},this.renderBarChart=function(t){k.renderColumnChart(t,"bar")},this.renderScatterChart=function(t,e,n){e=e||"line";for(var i=b(t,t.options),o=t.options.colors||r,a=[],s=t.data,l=0;l<s.length;l++){for(var c=s[l],u=[],d=0;d<c.data.length;d++){var h={x:x(c.data[d][0]),y:x(c.data[d][1])};"bubble"===e&&(h.r=x(c.data[d][2])),u.push(h)}var f=c.color||o[l],p="area"===e?v(f,.5):f;a.push({label:c.name,showLine:n||!1,data:u,borderColor:f,backgroundColor:p,pointBackgroundColor:f,fill:"area"===e})}"area"===e&&(e="line");var m={datasets:a};i.scales.xAxes[0].type="linear",i.scales.xAxes[0].position="bottom",g(t,e,m,i)},this.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")}},rt.unshift(nt))}function A(t,e){M(t,e),e.options.download&&!e.downloadAttached&&"chartjs"===e.adapter&&y(e)}function M(t,e){var i,r,o,a;for(o="render"+t,a=e.options.adapter,O(),i=0;i<rt.length;i++)if(r=rt[i],(!a||a===r.name)&&n(r[o]))return e.adapter=r.name,r[o](e);throw new Error("No adapter found")}function P(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}function D(t){return P(t)&&0===t.getMinutes()}function j(t){return D(t)&&0===t.getHours()}function N(t,e){return j(t)&&t.getDay()===e}function L(t){return j(t)&&1===t.getDate()}function I(t){return L(t)&&0===t.getMonth()}function R(t){return!isNaN(k(t))&&w(t).length>=6}function B(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(0!=i[n][1])return!1;return!0}function F(t){var e,n,i;for(e=0;e<t.length;e++)for(i=C(t[e].data),n=0;n<i.length;n++)if(!R(i[n][0]))return!0;return!1}function $(t){var e,n,i=[];for(e=0;e<t.length;e++){var r={};for(n in t[e])t[e].hasOwnProperty(n)&&(r[n]=t[e][n]);i.push(r)}return i}function z(t,n){var i,r=t.options,o=t.rawData;for(!e(o)||"object"!=typeof o[0]||e(o[0])?(o=[{name:r.label||"Value",data:o}],t.hideLegend=!0):t.hideLegend=!1,null!==r.discrete&&void 0!==r.discrete||"bubble"===n||"number"===n?t.discrete=r.discrete:t.discrete=F(o),t.discrete&&(n="string"),t.options.xtype&&(n=t.options.xtype),o=$(o),i=0;i<o.length;i++)o[i].data=ut(C(o[i].data),n);return o}function U(t){var e,n=C(t.rawData);for(e=0;e<n.length;e++)n[e]=[w(n[e][0]),x(n[e][1])];return n}function H(t){var e,n=t.rawData;for(e=0;e<n.length;e++)n[e][1]=k(n[e][1]),n[e][2]=k(n[e][2]);return n}function W(t){return z(t,"datetime")}function Y(t){return z(t,"string")}function V(t){return z(t,"string")}function G(t){return z(t,"datetime")}function q(t){return z(t,"number")}function X(t){return z(t,"bubble")}function K(t,e,n,i,r,a){var s;if("string"==typeof n&&(s=n,n=document.getElementById(n),!n))throw new Error("No element with id "+s);e.element=n,r=o(Z.options,r||{}),e.options=r,e.dataSource=i,a||(a=function(t){return t.rawData}),e.getElement=function(){return n},e.getDataSource=function(){return e.dataSource},e.getData=function(){return e.data},e.getOptions=function(){return e.options},e.getChartObject=function(){return e.chart},e.getAdapter=function(){return e.adapter};var l=function(){e.data=a(e),A(t,e)};e.updateData=function(t,n){e.dataSource=t,n&&(e.options=o(Z.options,n)),v(e,l,t)},e.setOptions=function(t){e.options=o(Z.options,t),e.redraw()},e.redraw=function(){v(e,l,e.rawData)},e.refreshData=function(){if("string"==typeof e.dataSource){var t=e.dataSource.indexOf("?")===-1?"?":"&",n=e.dataSource+t+"_="+(new Date).getTime();v(e,l,n)}},e.stopRefresh=function(){e.intervalId&&clearInterval(e.intervalId)},e.toImage=function(){return"chartjs"===e.adapter?e.chart.toBase64Image():null},Z.charts[n.id]=e,v(e,l,i),r.refresh&&(e.intervalId=setInterval(function(){e.refreshData()},1e3*r.refresh))}var Z,Q,J,tt,et,nt,it=t.Chartkick||{},rt=[],ot=/^(\d\d\d\d)(\-)?(\d\d)(\-)?(\d\d)$/i,at=[],st=0,lt=4;Q=/(\d\d\d\d)(\-)?(\d\d)(\-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([\.,]\d+)?($|Z|([\+\-])(\d\d)(:)?(\d\d)?)/i,J=String(1.5).charAt(1);var ct=function(t,e){return t="number"===e?x(t):"datetime"===e?k(t):w(t)},ut=function(t,e){var n,i,r=[];for(i=0;i<t.length;i++)"bubble"===e?r.push([x(t[i][0]),x(t[i][1]),x(t[i][2])]):(n=ct(t[i][0],e),r.push([n,x(t[i][1])]));return"datetime"===e?r.sort(T):"number"===e&&r.sort(S),r};Z={LineChart:function(t,e,n){K("LineChart",this,t,e,n,W)},PieChart:function(t,e,n){K("PieChart",this,t,e,n,U)},ColumnChart:function(t,e,n){K("ColumnChart",this,t,e,n,Y)},BarChart:function(t,e,n){K("BarChart",this,t,e,n,V)},AreaChart:function(t,e,n){K("AreaChart",this,t,e,n,G)},GeoChart:function(t,e,n){K("GeoChart",this,t,e,n,U)},ScatterChart:function(t,e,n){K("ScatterChart",this,t,e,n,q)},BubbleChart:function(t,e,n){K("BubbleChart",this,t,e,n,X)},Timeline:function(t,e,n){K("Timeline",this,t,e,n,H)},charts:{},configure:function(t){for(var e in t)t.hasOwnProperty(e)&&(it[e]=t[e])},eachChart:function(t){for(var e in Z.charts)Z.charts.hasOwnProperty(e)&&t(Z.charts[e])},options:{},adapters:rt,createChart:K},"object"==typeof module&&"object"==typeof module.exports?module.exports=Z:t.Chartkick=Z}(window),function(n){n.fn.countDown=function(t){return config={},n.extend(config,t),diffSecs=this.setCountDown(config),config.onComplete&&n.data(n(this)[0],"callback",config.onComplete),config.omitWeeks&&n.data(n(this)[0],"omitWeeks",config.omitWeeks),n("#"+n(this).attr("id")+" .digit").html('<div class="top"></div><div class="bottom"></div>'),n(this).doCountDown(n(this).attr("id"),diffSecs,500),this},n.fn.stopCountDown=function(){clearTimeout(n.data(this[0],"timer"))},n.fn.startCountDown=function(){this.doCountDown(n(this).attr("id"),n.data(this[0],"diffSecs"),500)},n.fn.setCountDown=function(t){var e=new Date;t.targetDate?e=new Date(t.targetDate.month+"/"+t.targetDate.day+"/"+t.targetDate.year+" "+t.targetDate.hour+":"+t.targetDate.min+":"+t.targetDate.sec+(t.targetDate.utc?" UTC":"")):t.targetOffset&&(e.setFullYear(t.targetOffset.year+e.getFullYear()),e.setMonth(t.targetOffset.month+e.getMonth()),e.setDate(t.targetOffset.day+e.getDate()),e.setHours(t.targetOffset.hour+e.getHours()),e.setMinutes(t.targetOffset.min+e.getMinutes()),e.setSeconds(t.targetOffset.sec+e.getSeconds()));var i=new Date;return diffSecs=Math.floor((e.valueOf()-i.valueOf())/1e3),n.data(this[0],"diffSecs",diffSecs),diffSecs},n.fn.doCountDown=function(i,r,o){$this=n("#"+i),
r<=0&&(r=0,n.data($this[0],"timer")&&clearTimeout(n.data($this[0],"timer"))),secs=r%60,mins=Math.floor(r/60)%60,hours=Math.floor(r/60/60)%24,1==n.data($this[0],"omitWeeks")?(days=Math.floor(r/60/60/24),weeks=Math.floor(r/60/60/24/7)):(days=Math.floor(r/60/60/24)%7,weeks=Math.floor(r/60/60/24/7)),$this.dashChangeTo(i,"seconds_dash",secs,o?o:800),$this.dashChangeTo(i,"minutes_dash",mins,o?o:1200),$this.dashChangeTo(i,"hours_dash",hours,o?o:1200),$this.dashChangeTo(i,"days_dash",days,o?o:1200),$this.dashChangeTo(i,"weeks_dash",weeks,o?o:1200),n.data($this[0],"diffSecs",r),r>0?(e=$this,t=setTimeout(function(){e.doCountDown(i,r-1)},1e3),n.data(e[0],"timer",t)):(cb=n.data($this[0],"callback"))&&n.data($this[0],"callback")()},n.fn.dashChangeTo=function(t,e,i,r){$this=n("#"+t);for(var o=$this.find("."+e+" .digit").length-1;o>=0;o--){var a=i%10;i=(i-a)/10,$this.digitChangeTo("#"+$this.attr("id")+" ."+e+" .digit:eq("+o+")",a,r)}},n.fn.digitChangeTo=function(t,e,i){i||(i=800),n(t+" div.top").html()!=e+""&&(n(t+" div.top").css({display:"none"}),n(t+" div.top").html(e?e:"0").slideDown(i),n(t+" div.bottom").animate({height:""},i,function(){n(t+" div.bottom").html(n(t+" div.top").html()),n(t+" div.bottom").css({display:"block",height:""}),n(t+" div.top").hide().slideUp(10)}))}}(jQuery),function(){var t=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function e(n){function i(){!t&&this._init&&this._init.apply(this,arguments)}var r=this.prototype;t=!0;var o=new this;t=!1;for(var a in n)o[a]="function"==typeof n[a]&&"function"==typeof r[a]?function(t,e){return function(){var n=this._super;this._super=function(e){return r[t].apply(this,e||[])};var i=e.apply(this,arguments);return this._super=n,i}}(a,n[a]):n[a];return i.prototype=o,i.prototype.constructor=i,i.extend=e,i}}(),function($){function camelCase(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var t=camelCase(this.name);$[t]=this,$.fn[t]=function(e){var n=Array.prototype.slice.call(arguments,1);return $[t]._isNotChained(e,n)?$[t][e].apply($[t],[this[0]].concat(n)):this.each(function(){if("string"==typeof e){if("_"===e[0]||!$[t][e])throw"Unknown method: "+e;$[t][e].apply($[t],[this].concat(n))}else $[t]._attach(this,e)})}},setDefaults:function(t){$.extend(this.defaultOptions,t||{})},_isNotChained:function(t,e){return"option"===t&&(0===e.length||1===e.length&&"string"==typeof e[0])||$.inArray(t,this._getters)>-1},_attach:function(t,e){if(t=$(t),!t.hasClass(this._getMarker())){t.addClass(this._getMarker()),e=$.extend({},this.defaultOptions,this._getMetadata(t),e||{});var n=$.extend({name:this.name,elem:t,options:e},this._instSettings(t,e));t.data(this.name,n),this._postAttach(t,n),this.option(t,e)}},_instSettings:function(){return{}},_postAttach:function(){},_getMetadata:function(elem){try{var data=elem.data(this.name.toLowerCase())||"";data=data.replace(/'/g,'"'),data=data.replace(/([a-zA-Z0-9]+):/g,function(t,e,n){var i=data.substring(0,n).match(/"/g);return i&&i.length%2!==0?e+":":'"'+e+'":'}),data=$.parseJSON("{"+data+"}");for(var name in data){var value=data[name];"string"==typeof value&&value.match(/^new Date\((.*)\)$/)&&(data[name]=eval(value))}return data}catch(t){return{}}},_getInst:function(t){return $(t).data(this.name)||{}},option:function(t,e,n){t=$(t);var i=t.data(this.name);if(!e||"string"==typeof e&&null==n){var r=(i||{}).options;return r&&e?r[e]:r}if(t.hasClass(this._getMarker())){var r=e||{};"string"==typeof e&&(r={},r[e]=n),this._optionsChanged(t,i,r),$.extend(i.options,r)}},_optionsChanged:function(){},destroy:function(t){t=$(t),t.hasClass(this._getMarker())&&(this._preDestroy(t,this._getInst(t)),t.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(){}}),$.JQPlugin={createPlugin:function(t,e){"object"==typeof t&&(e=t,t="JQPlugin"),t=camelCase(t);var n=camelCase(e.name);JQClass.classes[n]=JQClass.classes[t].extend(e),new JQClass.classes[n]}}}(jQuery),function(t){var e="countdown",n=0,i=1,r=2,o=3,a=4,s=5,l=6;t.JQPlugin.createPlugin({name:e,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,padZeroes:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}},_getters:["getTimes"],_rtlClass:e+"-rtl",_sectionClass:e+"-section",_amountClass:e+"-amount",_periodClass:e+"-period",_rowClass:e+"-row",_holdingClass:e+"-holding",_showClass:e+"-show",_descrClass:e+"-descr",_timerElems:[],_init:function(){function e(t){var s=t<1e12?r?performance.now()+performance.timing.navigationStart:i():t||i();s-a>=1e3&&(n._updateElems(),a=s),o(e)}var n=this;this._super(),this._serverSyncs=[];var i="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},r=window.performance&&"function"==typeof window.performance.now,o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,a=0;!o||t.noRequestAnimationFrame?(t.noRequestAnimationFrame=null,setInterval(function(){n._updateElems()},980)):(a=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||i(),o(e))},UTCDate:function(t,e,n,i,r,o,a,s){"object"==typeof e&&e.constructor==Date&&(s=e.getMilliseconds(),a=e.getSeconds(),o=e.getMinutes(),r=e.getHours(),i=e.getDate(),n=e.getMonth(),e=e.getFullYear());var l=new Date;return l.setUTCFullYear(e),l.setUTCDate(1),l.setUTCMonth(n||0),l.setUTCDate(i||1),l.setUTCHours(r||0),l.setUTCMinutes((o||0)-(Math.abs(t)<30?60*t:t)),l.setUTCSeconds(a||0),l.setUTCMilliseconds(s||0),l},periodsToSeconds:function(t){return 31557600*t[0]+2629800*t[1]+604800*t[2]+86400*t[3]+3600*t[4]+60*t[5]+t[6]},resync:function(){var e=this;t("."+this._getMarker()).each(function(){var n=t.data(this,e.name);if(n.options.serverSync){for(var i=null,r=0;r<e._serverSyncs.length;r++)if(e._serverSyncs[r][0]==n.options.serverSync){i=e._serverSyncs[r];break}if(null==i[2]){var o=t.isFunction(n.options.serverSync)?n.options.serverSync.apply(this,[]):null;i[2]=(o?(new Date).getTime()-o.getTime():0)-i[1]}n._since&&n._since.setMilliseconds(n._since.getMilliseconds()+i[2]),n._until.setMilliseconds(n._until.getMilliseconds()+i[2])}});for(var n=0;n<e._serverSyncs.length;n++)null!=e._serverSyncs[n][2]&&(e._serverSyncs[n][1]+=e._serverSyncs[n][2],delete e._serverSyncs[n][2])},_instSettings:function(){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(t){this._hasElem(t)||this._timerElems.push(t)},_hasElem:function(e){return t.inArray(e,this._timerElems)>-1},_removeElem:function(e){this._timerElems=t.map(this._timerElems,function(t){return t==e?null:t})},_updateElems:function(){for(var t=this._timerElems.length-1;t>=0;t--)this._updateCountdown(this._timerElems[t])},_optionsChanged:function(e,n,i){i.layout&&(i.layout=i.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(n.options,i);var r=n.options.timezone!=i.timezone;t.extend(n.options,i),this._adjustSettings(e,n,null!=i.until||null!=i.since||r);var o=new Date;(n._since&&n._since<o||n._until&&n._until>o)&&this._addElem(e[0]),this._updateCountdown(e,n)},_updateCountdown:function(e,n){if(e=e.jquery?e:t(e),n=n||this._getInst(e)){if(e.html(this._generateHTML(n)).toggleClass(this._rtlClass,n.options.isRTL),t.isFunction(n.options.onTick)){var i="lap"!=n._hold?n._periods:this._calculatePeriods(n,n._show,n.options.significant,new Date);1!=n.options.tickInterval&&this.periodsToSeconds(i)%n.options.tickInterval!=0||n.options.onTick.apply(e[0],[i])}var r="pause"!=n._hold&&(n._since?n._now.getTime()<n._since.getTime():n._now.getTime()>=n._until.getTime());if(r&&!n._expiring){if(n._expiring=!0,this._hasElem(e[0])||n.options.alwaysExpire){if(this._removeElem(e[0]),t.isFunction(n.options.onExpiry)&&n.options.onExpiry.apply(e[0],[]),n.options.expiryText){var o=n.options.layout;n.options.layout=n.options.expiryText,this._updateCountdown(e[0],n),n.options.layout=o}n.options.expiryUrl&&(window.location=n.options.expiryUrl)}n._expiring=!1}else"pause"==n._hold&&this._removeElem(e[0])}},_resetExtraLabels:function(t,e){for(var n in e)n.match(/[Ll]abels[02-9]|compactLabels1/)&&(t[n]=e[n]);for(var n in t)n.match(/[Ll]abels[02-9]|compactLabels1/)&&"undefined"==typeof e[n]&&(t[n]=null)},_adjustSettings:function(e,n,i){for(var r=null,o=0;o<this._serverSyncs.length;o++)if(this._serverSyncs[o][0]==n.options.serverSync){r=this._serverSyncs[o][1];break}if(null!=r)var a=n.options.serverSync?r:0,s=new Date;else{var l=t.isFunction(n.options.serverSync)?n.options.serverSync.apply(e[0],[]):null,s=new Date,a=l?s.getTime()-l.getTime():0;this._serverSyncs.push([n.options.serverSync,a])}var c=n.options.timezone;c=null==c?-s.getTimezoneOffset():c,(i||!i&&null==n._until&&null==n._since)&&(n._since=n.options.since,null!=n._since&&(n._since=this.UTCDate(c,this._determineTime(n._since,null)),n._since&&a&&n._since.setMilliseconds(n._since.getMilliseconds()+a)),n._until=this.UTCDate(c,this._determineTime(n.options.until,s)),a&&n._until.setMilliseconds(n._until.getMilliseconds()+a)),n._show=this._determineShow(n)},_preDestroy:function(t){this._removeElem(t[0]),t.empty()},pause:function(t){this._hold(t,"pause")},lap:function(t){this._hold(t,"lap")},resume:function(t){this._hold(t,null)},toggle:function(e){var n=t.data(e,this.name)||{};this[n._hold?"resume":"pause"](e)},toggleLap:function(e){var n=t.data(e,this.name)||{};this[n._hold?"resume":"lap"](e)},_hold:function(e,n){var i=t.data(e,this.name);if(i){if("pause"==i._hold&&!n){i._periods=i._savePeriods;var r=i._since?"-":"+";i[i._since?"_since":"_until"]=this._determineTime(r+i._periods[0]+"y"+r+i._periods[1]+"o"+r+i._periods[2]+"w"+r+i._periods[3]+"d"+r+i._periods[4]+"h"+r+i._periods[5]+"m"+r+i._periods[6]+"s"),this._addElem(e)}i._hold=n,i._savePeriods="pause"==n?i._periods:null,t.data(e,this.name,i),this._updateCountdown(e,i)}},getTimes:function(e){var n=t.data(e,this.name);return n?"pause"==n._hold?n._savePeriods:n._hold?this._calculatePeriods(n,n._show,n.options.significant,new Date):n._periods:null},_determineTime:function(t,e){var n=this,i=function(t){var e=new Date;return e.setTime(e.getTime()+1e3*t),e},r=function(t){t=t.toLowerCase();for(var e=new Date,i=e.getFullYear(),r=e.getMonth(),o=e.getDate(),a=e.getHours(),s=e.getMinutes(),l=e.getSeconds(),c=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,u=c.exec(t);u;){switch(u[2]||"s"){case"s":l+=parseInt(u[1],10);break;case"m":s+=parseInt(u[1],10);break;case"h":a+=parseInt(u[1],10);break;case"d":o+=parseInt(u[1],10);break;case"w":o+=7*parseInt(u[1],10);break;case"o":r+=parseInt(u[1],10),o=Math.min(o,n._getDaysInMonth(i,r));break;case"y":i+=parseInt(u[1],10),o=Math.min(o,n._getDaysInMonth(i,r))}u=c.exec(t)}return new Date(i,r,o,a,s,l,0)},o=null==t?e:"string"==typeof t?r(t):"number"==typeof t?i(t):t;return o&&o.setMilliseconds(0),o},_getDaysInMonth:function(t,e){return 32-new Date(t,e,32).getDate()},_normalLabels:function(t){return t},_generateHTML:function(e){var c=this;e._periods=e._hold?e._periods:this._calculatePeriods(e,e._show,e.options.significant,new Date);for(var u=!1,d=0,h=e.options.significant,f=t.extend({},e._show),p=n;p<=l;p++)u|="?"==e._show[p]&&e._periods[p]>0,f[p]="?"!=e._show[p]||u?e._show[p]:null,d+=f[p]?1:0,h-=e._periods[p]>0?1:0;for(var m=[!1,!1,!1,!1,!1,!1,!1],p=l;p>=n;p--)e._show[p]&&(e._periods[p]?m[p]=!0:(m[p]=h>0,h--));var g=e.options.compact?e.options.compactLabels:e.options.labels,v=e.options.whichLabels||this._normalLabels,y=function(t){var n=e.options["compactLabels"+v(e._periods[t])];return f[t]?c._translateDigits(e,e._periods[t])+(n?n[t]:g[t])+" ":""},b=e.options.padZeroes?2:1,_=function(t){var n=e.options["labels"+v(e._periods[t])];return!e.options.significant&&f[t]||e.options.significant&&m[t]?'<span class="'+c._sectionClass+'"><span class="'+c._amountClass+'">'+c._minDigits(e,e._periods[t],b)+'</span><span class="'+c._periodClass+'">'+(n?n[t]:g[t])+"</span></span>":""};return e.options.layout?this._buildLayout(e,f,e.options.layout,e.options.compact,e.options.significant,m):(e.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(e._hold?" "+this._holdingClass:"")+'">'+y(n)+y(i)+y(r)+y(o)+(f[a]?this._minDigits(e,e._periods[a],2):"")+(f[s]?(f[a]?e.options.timeSeparator:"")+this._minDigits(e,e._periods[s],2):"")+(f[l]?(f[a]||f[s]?e.options.timeSeparator:"")+this._minDigits(e,e._periods[l],2):""):'<span class="'+this._rowClass+" "+this._showClass+(e.options.significant||d)+(e._hold?" "+this._holdingClass:"")+'">'+_(n)+_(i)+_(r)+_(o)+_(a)+_(s)+_(l))+"</span>"+(e.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+e.options.description+"</span>":"")},_buildLayout:function(e,c,u,d,h,f){for(var p=e.options[d?"compactLabels":"labels"],m=e.options.whichLabels||this._normalLabels,g=function(t){return(e.options[(d?"compactLabels":"labels")+m(e._periods[t])]||p)[t]},v=function(t,n){return e.options.digits[Math.floor(t/n)%10]},y={desc:e.options.description,sep:e.options.timeSeparator,yl:g(n),yn:this._minDigits(e,e._periods[n],1),ynn:this._minDigits(e,e._periods[n],2),ynnn:this._minDigits(e,e._periods[n],3),y1:v(e._periods[n],1),y10:v(e._periods[n],10),y100:v(e._periods[n],100),y1000:v(e._periods[n],1e3),ol:g(i),on:this._minDigits(e,e._periods[i],1),onn:this._minDigits(e,e._periods[i],2),onnn:this._minDigits(e,e._periods[i],3),o1:v(e._periods[i],1),o10:v(e._periods[i],10),o100:v(e._periods[i],100),o1000:v(e._periods[i],1e3),wl:g(r),wn:this._minDigits(e,e._periods[r],1),wnn:this._minDigits(e,e._periods[r],2),wnnn:this._minDigits(e,e._periods[r],3),w1:v(e._periods[r],1),w10:v(e._periods[r],10),w100:v(e._periods[r],100),w1000:v(e._periods[r],1e3),dl:g(o),dn:this._minDigits(e,e._periods[o],1),dnn:this._minDigits(e,e._periods[o],2),dnnn:this._minDigits(e,e._periods[o],3),d1:v(e._periods[o],1),d10:v(e._periods[o],10),d100:v(e._periods[o],100),d1000:v(e._periods[o],1e3),hl:g(a),hn:this._minDigits(e,e._periods[a],1),hnn:this._minDigits(e,e._periods[a],2),hnnn:this._minDigits(e,e._periods[a],3),h1:v(e._periods[a],1),h10:v(e._periods[a],10),h100:v(e._periods[a],100),h1000:v(e._periods[a],1e3),ml:g(s),mn:this._minDigits(e,e._periods[s],1),mnn:this._minDigits(e,e._periods[s],2),mnnn:this._minDigits(e,e._periods[s],3),m1:v(e._periods[s],1),m10:v(e._periods[s],10),m100:v(e._periods[s],100),m1000:v(e._periods[s],1e3),sl:g(l),sn:this._minDigits(e,e._periods[l],1),snn:this._minDigits(e,e._periods[l],2),snnn:this._minDigits(e,e._periods[l],3),s1:v(e._periods[l],1),s10:v(e._periods[l],10),s100:v(e._periods[l],100),s1000:v(e._periods[l],1e3)},b=u,_=n;_<=l;_++){var w="yowdhms".charAt(_),x=new RegExp("\\{"+w+"<\\}([\\s\\S]*)\\{"+w+">\\}","g");b=b.replace(x,!h&&c[_]||h&&f[_]?"$1":"")}return t.each(y,function(t,e){var n=new RegExp("\\{"+t+"\\}","g");b=b.replace(n,e)}),b},_minDigits:function(t,e,n){return e=""+e,e.length>=n?this._translateDigits(t,e):(e="0000000000"+e,this._translateDigits(t,e.substr(e.length-n)))},_translateDigits:function(t,e){return(""+e).replace(/[0-9]/g,function(e){return t.options.digits[e]})},_determineShow:function(t){var e=t.options.format,c=[];return c[n]=e.match("y")?"?":e.match("Y")?"!":null,c[i]=e.match("o")?"?":e.match("O")?"!":null,c[r]=e.match("w")?"?":e.match("W")?"!":null,c[o]=e.match("d")?"?":e.match("D")?"!":null,c[a]=e.match("h")?"?":e.match("H")?"!":null,c[s]=e.match("m")?"?":e.match("M")?"!":null,c[l]=e.match("s")?"?":e.match("S")?"!":null,c},_calculatePeriods:function(t,e,c,u){t._now=u,t._now.setMilliseconds(0);var d=new Date(t._now.getTime());t._since?u.getTime()<t._since.getTime()?t._now=u=d:u=t._since:(d.setTime(t._until.getTime()),u.getTime()>t._until.getTime()&&(t._now=u=d));var h=[0,0,0,0,0,0,0];if(e[n]||e[i]){var f=this._getDaysInMonth(u.getFullYear(),u.getMonth()),p=this._getDaysInMonth(d.getFullYear(),d.getMonth()),m=d.getDate()==u.getDate()||d.getDate()>=Math.min(f,p)&&u.getDate()>=Math.min(f,p),g=function(t){return 60*(60*t.getHours()+t.getMinutes())+t.getSeconds()},v=Math.max(0,12*(d.getFullYear()-u.getFullYear())+d.getMonth()-u.getMonth()+(d.getDate()<u.getDate()&&!m||m&&g(d)<g(u)?-1:0));h[n]=e[n]?Math.floor(v/12):0,h[i]=e[i]?v-12*h[n]:0,u=new Date(u.getTime());var y=u.getDate()==f,b=this._getDaysInMonth(u.getFullYear()+h[n],u.getMonth()+h[i]);u.getDate()>b&&u.setDate(b),u.setFullYear(u.getFullYear()+h[n]),u.setMonth(u.getMonth()+h[i]),y&&u.setDate(b)}var _=Math.floor((d.getTime()-u.getTime())/1e3),w=function(t,n){h[t]=e[t]?Math.floor(_/n):0,_-=h[t]*n};if(w(r,604800),w(o,86400),w(a,3600),w(s,60),w(l,1),_>0&&!t._since)for(var x=[1,12,4.3482,7,24,60,60],k=l,C=1,T=l;T>=n;T--)e[T]&&(h[k]>=C&&(h[k]=0,_=1),_>0&&(h[T]++,_=0,k=T,C=1)),C*=x[T];if(c)for(var T=n;T<=l;T++)c&&h[T]?c--:c||(h[T]=0);return h}})}(jQuery),function(t){t.isScrollToFixed=function(e){return!!t(e).data("ScrollToFixed")},t.ScrollToFixed=function(e,n){function i(){w.trigger("preUnfixed.ScrollToFixed"),u(),w.trigger("unfixed.ScrollToFixed"),T=-1,x=w.offset().top,k=w.offset().left,g.options.offsets&&(k+=w.offset().left-w.position().left),C==-1&&(C=k),v=w.css("position"),_=!0,g.options.bottom!=-1&&(w.trigger("preFixed.ScrollToFixed"),l(),w.trigger("fixed.ScrollToFixed"))}function r(){var t=g.options.limit;return t?"function"==typeof t?t.apply(w):t:0}function o(){return"fixed"===v}function a(){return"absolute"===v}function s(){return!(o()||a())}function l(){o()||(S.css({display:w.css("display"),width:w.outerWidth(!0),height:w.outerHeight(!0),"float":w.css("float")}),cssOptions={position:"fixed",top:g.options.bottom==-1?h():"",bottom:g.options.bottom==-1?"":g.options.bottom,"margin-left":"0px"},g.options.dontSetWidth||(cssOptions.width=w.width()),w.css(cssOptions),w.addClass(g.options.baseClassName),g.options.className&&w.addClass(g.options.className),v="fixed")}function c(){var t=r(),e=k;g.options.removeOffsets&&(e="",t-=x),cssOptions={position:"absolute",top:t,left:e,"margin-left":"0px",bottom:""},g.options.dontSetWidth||(cssOptions.width=w.width()),w.css(cssOptions),v="absolute"}function u(){s()||(T=-1,S.css("display","none"),w.css({width:"",position:y,left:"",top:b,"margin-left":""}),w.removeClass("scroll-to-fixed-fixed"),g.options.className&&w.removeClass(g.options.className),v=null)}function d(t){t!=T&&(w.css("left",k-t),T=t)}function h(){var t=g.options.marginTop;return t?"function"==typeof t?t.apply(w):t:0}function f(){if(t.isScrollToFixed(w)){var e=_;_||i();var n=t(window).scrollLeft(),f=t(window).scrollTop(),v=r();g.options.minWidth&&t(window).width()<g.options.minWidth?s()&&e||(m(),w.trigger("preUnfixed.ScrollToFixed"),u(),w.trigger("unfixed.ScrollToFixed")):g.options.maxWidth&&t(window).width()>g.options.maxWidth?s()&&e||(m(),w.trigger("preUnfixed.ScrollToFixed"),u(),w.trigger("unfixed.ScrollToFixed")):g.options.bottom==-1?v>0&&f>=v-h()?a()&&e||(m(),w.trigger("preAbsolute.ScrollToFixed"),c(),w.trigger("unfixed.ScrollToFixed")):f>=x-h()?(o()&&e||(m(),w.trigger("preFixed.ScrollToFixed"),l(),T=-1,w.trigger("fixed.ScrollToFixed")),d(n)):s()&&e||(m(),w.trigger("preUnfixed.ScrollToFixed"),u(),w.trigger("unfixed.ScrollToFixed")):v>0?f+t(window).height()-w.outerHeight(!0)>=v-(h()||-p())?o()&&(m(),w.trigger("preUnfixed.ScrollToFixed"),"absolute"===y?c():u(),w.trigger("unfixed.ScrollToFixed")):(o()||(m(),w.trigger("preFixed.ScrollToFixed"),l()),d(n),w.trigger("fixed.ScrollToFixed")):d(n)}}function p(){return g.options.bottom?g.options.bottom:0}function m(){var t=w.css("position");"absolute"==t?w.trigger("postAbsolute.ScrollToFixed"):"fixed"==t?w.trigger("postFixed.ScrollToFixed"):w.trigger("postUnfixed.ScrollToFixed")}var g=this;g.$el=t(e),g.el=e,g.$el.data("ScrollToFixed",g);var v,y,b,_=!1,w=g.$el,x=0,k=0,C=-1,T=-1,S=null,E=function(){w.is(":visible")&&(_=!1,f())},O=function(){f()},A=function(t){t=t||window.event,t.preventDefault&&t.preventDefault(),t.returnValue=!1};g.init=function(){g.options=t.extend({},t.ScrollToFixed.defaultOptions,n),g.$el.css("z-index",g.options.zIndex),S=t("<div />"),v=w.css("position"),y=w.css("position"),b=w.css("top"),s()&&g.$el.after(S),t(window).bind("resize.ScrollToFixed",E),t(window).bind("scroll.ScrollToFixed",O),g.options.preFixed&&w.bind("preFixed.ScrollToFixed",g.options.preFixed),g.options.postFixed&&w.bind("postFixed.ScrollToFixed",g.options.postFixed),g.options.preUnfixed&&w.bind("preUnfixed.ScrollToFixed",g.options.preUnfixed),g.options.postUnfixed&&w.bind("postUnfixed.ScrollToFixed",g.options.postUnfixed),g.options.preAbsolute&&w.bind("preAbsolute.ScrollToFixed",g.options.preAbsolute),g.options.postAbsolute&&w.bind("postAbsolute.ScrollToFixed",g.options.postAbsolute),g.options.fixed&&w.bind("fixed.ScrollToFixed",g.options.fixed),g.options.unfixed&&w.bind("unfixed.ScrollToFixed",g.options.unfixed),g.options.spacerClass&&S.addClass(g.options.spacerClass),w.bind("resize.ScrollToFixed",function(){S.height(w.height())}),w.bind("scroll.ScrollToFixed",function(){w.trigger("preUnfixed.ScrollToFixed"),u(),w.trigger("unfixed.ScrollToFixed"),f()}),w.bind("detach.ScrollToFixed",function(e){A(e),w.trigger("preUnfixed.ScrollToFixed"),u(),w.trigger("unfixed.ScrollToFixed"),t(window).unbind("resize.ScrollToFixed",E),t(window).unbind("scroll.ScrollToFixed",O),w.unbind(".ScrollToFixed"),S.remove(),g.$el.removeData("ScrollToFixed")}),E()},g.init()},t.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},t.fn.scrollToFixed=function(e){return this.each(function(){new t.ScrollToFixed(this,e)})}}(jQuery),function(t){jQuery.browser={},jQuery.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),jQuery.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),jQuery.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),jQuery.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()),t.fn.printPreview=function(){return this.each(function(){t(this).bind("click",function(e){e.preventDefault(),t("#print-modal").length||t.printPreview.loadPrintPreview()})}),this};var e,n,i,r;t.printPreview={loadPrintPreview:function(){i=t('<div id="print-modal"></div>'),r=t('<div id="print-modal-controls"><a href="#" class="print" title="Print page">Print page</a><a href="#" class="close" title="Close print preview">Close</a>').hide();var e=t('<iframe id="print-modal-content" scrolling="no" border="0" frameborder="0" name="print-frame" />');i.hide().append(r).append(e).appendTo("body"),print_frame_ref=e[0].contentWindow.document,print_frame_ref.open(),print_frame_ref.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>'+document.title+'</title></head><body id="print-modal-body"><h3>'+document.title+"</h3></body></html>"),print_frame_ref.close();var n=t("head link[media*=print], head link[media=all]").clone(),o=t("body > *:not(#print-modal):not(script) .print").clone();n.each(function(){t(this).attr("media","all")}),t("head",print_frame_ref).append(n),t("body",print_frame_ref).append(o),t("a",print_frame_ref).bind("click.printPreview",function(t){t.preventDefault()}),t("head").append('<style type="text/css">@media print {/* -- Print Preview --*/#print-modal-mask,#print-modal {display: none !important;}}</style>'),t.printPreview.loadMask(),t("body").css({overflowY:"hidden",height:"100%"}),t("img",print_frame_ref).load(function(){e.height(t("body",e.contents())[0].scrollHeight)}),starting_position=t(window).height()+t(window).scrollTop();var a={top:starting_position,height:"100%",overflowY:"auto",zIndex:1e4,display:"block"};i.css(a).animate({top:t(window).scrollTop()},400,"linear",function(){r.fadeIn("slow").focus()}),e.height(t("body",e.contents())[0].scrollHeight+60),t("a",r).bind("click",function(e){e.preventDefault(),t(this).hasClass("print")?t("#print-modal-content").get(0).contentWindow.print():t.printPreview.distroyPrintPreview()})},distroyPrintPreview:function(){r.fadeOut(100),i.animate({top:t(window).scrollTop()-t(window).height(),opacity:1},400,"linear",function(){i.remove(),t("body").css({overflowY:"auto",height:"auto"})}),e.fadeOut("slow",function(){e.remove()}),t(document).unbind("keydown.printPreview.mask"),e.unbind("click.printPreview.mask"),t(window).unbind("resize.printPreview.mask")},loadMask:function(){n=t.printPreview.sizeUpMask(),e=t('<div id="print-modal-mask" />').appendTo(t("body")),e.css({position:"absolute",top:0,left:0,width:n[0],height:n[1],display:"none",opacity:0,zIndex:9999,backgroundColor:"#000"}),e.css({display:"block"}).fadeTo("400",.75),t(window).bind("resize..printPreview.mask",function(){t.printPreview.updateMaskSize()}),e.bind("click.printPreview.mask",function(){t.printPreview.distroyPrintPreview()}),t(document).bind("keydown.printPreview.mask",function(e){27==e.keyCode&&t.printPreview.distroyPrintPreview()})},sizeUpMask:function(){if(t.browser.msie){var e=t(document).height(),n=t(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e-n<20?n:e]}return[t(document).width(),t(document).height()]},updateMaskSize:function(){var n=t.printPreview.sizeUpMask();e.css({width:n[0],height:n[1]})}}}(jQuery),function(t){var e=0,n=5,i=.5,r=function(e,n){return"undefined"==typeof e||null===e||void 0===e||e==[]||""===e||n&&""===t.trim(e)},o=function(t,e,n){var i=r(t.data(e))?t.attr(e):t.data(e);return i?i:n[e]},a=function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},s=function(t,e){return parseFloat(t.toFixed(e))},l=function(e,n){this.$element=t(e),this.init(n)};l.prototype={constructor:l,_parseAttr:function(t,a){var s=this,l=s.$element;if("range"===l.attr("type")||"number"===l.attr("type")){var c=o(l,t,a),u=i;"min"===t?u=e:"max"===t?u=n:"step"===t&&(u=i);var d=r(c)?u:c;return parseFloat(d)}return parseFloat(a[t])},listen:function(){var e=this;e.$rating.on("click",function(t){e.inactive||(w=t.pageX-e.$rating.offset().left,e.setStars(w),e.$element.trigger("change"),e.$element.trigger("rating.change",[e.$element.val(),e.$caption.html()]))}),e.$clear.on("click",function(){e.inactive||e.clear()}),t(e.$element[0].form).on("reset",function(){e.inactive||e.reset()})},initSlider:function(t){var o=this;r(o.$element.val())&&o.$element.val(0),o.initialValue=o.$element.val(),o.min="undefined"!=typeof t.min?t.min:o._parseAttr("min",t),o.max="undefined"!=typeof t.max?t.max:o._parseAttr("max",t),o.step="undefined"!=typeof t.step?t.step:o._parseAttr("step",t),(isNaN(o.min)||r(o.min))&&(o.min=e),(isNaN(o.max)||r(o.max))&&(o.max=n),(isNaN(o.step)||r(o.step)||0==o.step)&&(o.step=i),o.diff=o.max-o.min},init:function(e){var n=this;n.options=e,n.initSlider(e),n.checkDisabled(),$element=n.$element,n.containerClass=e.containerClass,n.glyphicon=e.glyphicon;var i=n.glyphicon?"\uf005":"\u2605";n.symbol=r(e.symbol)?i:e.symbol,n.rtl=e.rtl||n.$element.attr("dir"),n.rtl&&n.$element.attr("dir","rtl"),n.showClear=e.showClear,n.showCaption=e.showCaption,n.size=e.size,n.stars=e.stars,n.defaultCaption=e.defaultCaption,n.starCaptions=e.starCaptions,n.starCaptionClasses=e.starCaptionClasses,n.clearButton=e.clearButton,n.clearButtonTitle=e.clearButtonTitle,n.clearButtonBaseClass=r(e.clearButtonBaseClass)?"clear-rating":e.clearButtonBaseClass,n.clearButtonActiveClass=r(e.clearButtonActiveClass)?"clear-rating-active":e.clearButtonActiveClass,n.clearCaption=e.clearCaption,n.clearCaptionClass=e.clearCaptionClass,n.clearValue=e.clearValue,n.$element.removeClass("form-control").addClass("form-control"),n.$clearElement=r(e.clearElement)?null:t(e.clearElement),n.$captionElement=r(e.captionElement)?null:t(e.captionElement),"undefined"==typeof n.$rating&&"undefined"==typeof n.$container&&(n.$rating=t(document.createElement("div")).html('<div class="rating-stars"></div>'),n.$container=t(document.createElement("div")),n.$container.before(n.$rating),n.$container.append(n.$rating),n.$element.before(n.$container).appendTo(n.$rating)),n.$stars=n.$rating.find(".rating-stars"),n.generateRating(),n.$clear=r(n.$clearElement)?n.$container.find("."+n.clearButtonBaseClass):n.$clearElement,n.$caption=r(n.$captionElement)?n.$container.find(".caption"):n.$captionElement,n.setStars(),n.$element.hide(),n.listen(),n.showClear&&n.$clear.attr({"class":n.getClearClass()}),n.$element.removeClass("rating-loading")},checkDisabled:function(){var t=this;t.disabled=o(t.$element,"disabled",t.options),t.readonly=o(t.$element,"readonly",t.options),t.inactive=t.disabled||t.readonly},getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},generateRating:function(){var t=this,e=t.renderClear(),n=t.renderCaption(),i=t.rtl?"rating-container-rtl":"rating-container",o=t.getStars();i+=t.glyphicon?"\uf005"==t.symbol?" rating-gly-star":" rating-gly":" rating-uni",t.$rating.attr("class",i),t.$rating.attr("data-content",o),t.$stars.attr("data-content",o);var i=t.rtl?"star-rating-rtl":"star-rating";t.$container.attr("class",i+" rating-"+t.size),t.inactive?t.$container.removeClass("rating-active").addClass("rating-disabled"):t.$container.removeClass("rating-disabled").addClass("rating-active"),"undefined"==typeof t.$caption&&"undefined"==typeof t.$clear&&(t.rtl?t.$container.prepend(n).append(e):t.$container.prepend(e).append(n)),r(t.containerClass)||t.$container.removeClass(t.containerClass).addClass(t.containerClass)},getStars:function(){for(var t=this,e=t.stars,n="",i=1;i<=e;i++)n+=t.symbol;return n},renderClear:function(){var t=this;if(!t.showClear)return"";var e=t.getClearClass();return r(t.$clearElement)?'<div class="'+e+'" title="'+t.clearButtonTitle+'">'+t.clearButton+"</div>":(t.$clearElement.removeClass(e).addClass(e).attr({title:t.clearButtonTitle}),t.$clearElement.html(t.clearButton),"")},renderCaption:function(){var t=this,e=t.$element.val();if(!t.showCaption)return"";var n=t.fetchCaption(e);return r(t.$captionElement)?'<div class="caption">'+n+"</div>":(t.$captionElement.removeClass("caption").addClass("caption").attr({title:t.clearCaption}),t.$captionElement.html(n),"")},fetchCaption:function(t){var e,n,i=this,o=parseFloat(t);if(e="function"==typeof i.starCaptionClasses?r(i.starCaptionClasses(o))?i.clearCaptionClass:i.starCaptionClasses(o):r(i.starCaptionClasses[o])?i.clearCaptionClass:i.starCaptionClasses[o],"function"==typeof i.starCaptions)var n=r(i.starCaptions(o))?i.defaultCaption.replace(/\{rating\}/g,o):i.starCaptions(o);else var n=r(i.starCaptions[o])?i.defaultCaption.replace(/\{rating\}/g,o):i.starCaptions[o];var a=o==i.clearValue?i.clearCaption:n;return'<span class="'+e+'">'+a+"</span>"},getValueFromPosition:function(t){var e,n,i=this,r=a(i.step),o=i.$rating.width();return e=t/o,n=i.rtl?i.min+Math.floor(i.diff*e/i.step)*i.step:i.min+Math.ceil(i.diff*e/i.step)*i.step,n<i.min?n=i.min:n>i.max&&(n=i.max),n=s(parseFloat(n),r),i.rtl&&(n=i.max-n),n},setStars:function(t){var e=this,n=e.min,i=e.max,o=(e.step,arguments.length?e.getValueFromPosition(t):r(e.$element.val())?0:e.$element.val()),a=0,s=(e.$rating.width(),e.fetchCaption(o));a=(o-n)/i*100,e.rtl&&(a=100-a),e.$element.val(o),a+="%",e.$stars.css("width",a),e.$caption.html(s)},clear:function(){var t=this,e='<span class="'+t.clearCaptionClass+'">'+t.clearCaption+"</span>";t.$stars.removeClass("rated"),t.inactive||t.$caption.html(e),t.$element.val(t.clearValue),t.setStars(),t.$element.trigger("rating.clear")},reset:function(){var t=this;t.$element.val(t.initialValue),t.setStars(),t.$element.trigger("rating.reset")},update:function(t){if(arguments.length>0){var e=this;e.$element.val(t),e.setStars()}},refresh:function(e){var n=this;if(arguments.length){n.init(t.extend(n.options,e)),n.showClear?n.$clear.show():n.$clear.hide(),n.showCaption?n.$caption.show():n.$caption.hide()}}},t.fn.rating=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var i=t(this),r=i.data("rating"),o="object"==typeof e&&e;r||i.data("rating",r=new l(this,t.extend({},t.fn.rating.defaults,o,t(this).data()))),"string"==typeof e&&r[e].apply(r,n)})},t.fn.rating.defaults={stars:5,glyphicon:!0,symbol:null,disabled:!1,readonly:!1,rtl:!1,size:"md",showClear:!0,showCaption:!0,
defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},starCaptionClasses:{.5:"label label-danger",1:"label label-danger",1.5:"label label-warning",2:"label label-warning",2.5:"label label-info",3:"label label-info",3.5:"label label-primary",4:"label label-primary",4.5:"label label-success",5:"label label-success"},clearButton:'<i class="fa fa-minus"></i>',clearButtonTitle:"Clear",clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaption:"Not Rated",clearCaptionClass:"label label-default",clearValue:0,captionElement:null,clearElement:null,containerClass:null},t("input.rating").addClass("rating-loading"),t(document).ready(function(){var e=t("input.rating"),n=Object.keys(e).length;n>0&&e.rating()})}(jQuery),function(t){"use strict";function e(e,n){this.$target=t(e),void 0!==n&&void 0!==n.container&&null!==n.container?this.$container=t(n.container):this.$container=this.$target,this.opts=t.extend({},l,n,this.$target.data()),void 0===this.isOpen&&this._init()}var n,i,r,o,a,s,l={loadingNotice:"Loading image",errorNotice:"The image could not be loaded",errorDuration:2500,preventClicks:!0,onShow:t.noop,onHide:t.noop,onMove:t.noop};e.prototype._init=function(){this.$link=this.$target.find("a"),this.$image=this.$target.find("img"),this.$flyout=t('<div class="easyzoom-flyout" />'),this.$notice=t('<div class="easyzoom-notice" />'),this.$target.on({"mousemove.easyzoom touchmove.easyzoom":t.proxy(this._onMove,this),"mouseleave.easyzoom touchend.easyzoom":t.proxy(this._onLeave,this),"mouseenter.easyzoom touchstart.easyzoom":t.proxy(this._onEnter,this)}),this.opts.preventClicks&&this.$target.on("click.easyzoom",function(t){t.preventDefault()})},e.prototype.show=function(t,e){var a,s,l,c,u=this;return this.isReady?(this.$container.append(this.$flyout),a=this.$container.width(),s=this.$container.height(),l=this.$flyout.width(),c=this.$flyout.height(),n=this.$zoom.width()-l,i=this.$zoom.height()-c,r=n/a,o=i/s,this.isOpen=!0,this.opts.onShow.call(this),void(t&&this._move(t))):this._loadImage(this.$link.attr("href"),function(){!u.isMouseOver&&e||u.show(t)})},e.prototype._onEnter=function(t){var e=t.originalEvent.touches;this.isMouseOver=!0,e&&1!=e.length||(t.preventDefault(),this.show(t,!0))},e.prototype._onMove=function(t){this.isOpen&&(t.preventDefault(),this._move(t))},e.prototype._onLeave=function(){this.isMouseOver=!1,this.isOpen&&this.hide()},e.prototype._onLoad=function(t){t.currentTarget.width&&(this.isReady=!0,this.$notice.detach(),this.$flyout.html(this.$zoom),this.$target.removeClass("is-loading").addClass("is-ready"),t.data.call&&t.data())},e.prototype._onError=function(){var t=this;this.$notice.text(this.opts.errorNotice),this.$target.removeClass("is-loading").addClass("is-error"),this.detachNotice=setTimeout(function(){t.$notice.detach(),t.detachNotice=null},this.opts.errorDuration)},e.prototype._loadImage=function(e,n){var i=new Image;this.$target.addClass("is-loading").append(this.$notice.text(this.opts.loadingNotice)),this.$zoom=t(i).on("error",t.proxy(this._onError,this)).on("load",n,t.proxy(this._onLoad,this)),i.style.position="absolute",i.src=e},e.prototype._move=function(t){if(0===t.type.indexOf("touch")){var e=t.touches||t.originalEvent.touches;a=e[0].pageX,s=e[0].pageY}else a=t.pageX||a,s=t.pageY||s;var n=this.$target.offset(),i=s-n.top,l=a-n.left,c=Math.ceil(i*o),u=Math.ceil(l*r),d=c*-1,h=u*-1;this.$zoom.css({top:d,left:h}),this.opts.onMove.call(this,d,h)},e.prototype.hide=function(){this.isOpen&&(this.$flyout.detach(),this.isOpen=!1,this.opts.onHide.call(this))},e.prototype.swap=function(e,n,i){this.hide(),this.isReady=!1,this.detachNotice&&clearTimeout(this.detachNotice),this.$notice.parent().length&&this.$notice.detach(),this.$target.removeClass("is-loading is-ready is-error"),this.$image.attr({src:e,srcset:t.isArray(i)?i.join():i}),this.$link.attr("href",n)},e.prototype.teardown=function(){this.hide(),this.$target.off(".easyzoom").removeClass("is-loading is-ready is-error"),this.detachNotice&&clearTimeout(this.detachNotice),delete this.$link,delete this.$zoom,delete this.$image,delete this.$notice,delete this.$flyout,delete this.isOpen,delete this.isReady},t.fn.easyZoom=function(n){return this.each(function(){var i=t.data(this,"easyZoom");i?void 0===i.isOpen&&i._init():t.data(this,"easyZoom",new e(this,n))})},"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports&&(module.exports=e)}(jQuery);var Mailcheck={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu"],run:function(t){t.domains=t.domains||Mailcheck.defaultDomains,t.secondLevelDomains=t.secondLevelDomains||Mailcheck.defaultSecondLevelDomains,t.topLevelDomains=t.topLevelDomains||Mailcheck.defaultTopLevelDomains,t.distanceFunction=t.distanceFunction||Mailcheck.sift3Distance;var e=function(t){return t},n=t.suggested||e,i=t.empty||e,r=Mailcheck.suggest(Mailcheck.encodeEmail(t.email),t.domains,t.secondLevelDomains,t.topLevelDomains,t.distanceFunction);return r?n(r):i()},suggest:function(t,e,n,i,r){t=t.toLowerCase();var o=this.splitEmail(t);if(n&&i&&n.indexOf(o.secondLevelDomain)!==-1&&i.indexOf(o.topLevelDomain)!==-1)return!1;var a=this.findClosestDomain(o.domain,e,r,this.domainThreshold);if(a)return a!=o.domain&&{address:o.address,domain:a,full:o.address+"@"+a};var s=this.findClosestDomain(o.secondLevelDomain,n,r,this.secondLevelThreshold),l=this.findClosestDomain(o.topLevelDomain,i,r,this.topLevelThreshold);if(o.domain){var a=o.domain,c=!1;if(s&&s!=o.secondLevelDomain&&(a=a.replace(o.secondLevelDomain,s),c=!0),l&&l!=o.topLevelDomain&&(a=a.replace(o.topLevelDomain,l),c=!0),1==c)return{address:o.address,domain:a,full:o.address+"@"+a}}return!1},findClosestDomain:function(t,e,n,i){i=i||this.topLevelThreshold;var r,o=99,a=null;if(!t||!e)return!1;n||(n=this.sift3Distance);for(var s=0;s<e.length;s++){if(t===e[s])return t;r=n(t,e[s]),r<o&&(o=r,a=e[s])}return o<=i&&null!==a&&a},sift3Distance:function(t,e){if(null==t||0===t.length)return null==e||0===e.length?0:e.length;if(null==e||0===e.length)return t.length;for(var n=0,i=0,r=0,o=0,a=5;n+i<t.length&&n+r<e.length;){if(t.charAt(n+i)==e.charAt(n+r))o++;else{i=0,r=0;for(var s=0;s<a;s++){if(n+s<t.length&&t.charAt(n+s)==e.charAt(n)){i=s;break}if(n+s<e.length&&t.charAt(n)==e.charAt(n+s)){r=s;break}}}n++}return(t.length+e.length)/2-o},splitEmail:function(t){var e=t.trim().split("@");if(e.length<2)return!1;for(var n=0;n<e.length;n++)if(""===e[n])return!1;var i=e.pop(),r=i.split("."),o="",a="";if(0==r.length)return!1;if(1==r.length)a=r[0];else{o=r[0];for(var n=1;n<r.length;n++)a+=r[n]+".";a=a.substring(0,a.length-1)}return{topLevelDomain:a,secondLevelDomain:o,domain:i,address:e.join("@")}},encodeEmail:function(t){var e=encodeURI(t);return e=e.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};"undefined"!=typeof module&&module.exports&&(module.exports=Mailcheck),"function"==typeof define&&define.amd&&define("mailcheck",[],function(){return Mailcheck}),"undefined"!=typeof window&&window.jQuery&&!function(t){t.fn.mailcheck=function(t){var e=this;if(t.suggested){var n=t.suggested;t.suggested=function(t){n(e,t)}}if(t.empty){var i=t.empty;t.empty=function(){i.call(null,e)}}t.email=this.val(),Mailcheck.run(t)}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lozad=e()}(this,function(){"use strict";function t(t){t.setAttribute("data-loaded",!0)}var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n=document.documentMode,i={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var e=document.createElement("img");n&&t.getAttribute("data-iesrc")&&(e.src=t.getAttribute("data-iesrc")),t.appendChild(e)}t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&(t.srcset=t.getAttribute("data-srcset")),t.getAttribute("data-background-image")&&(t.style.backgroundImage="url("+t.getAttribute("data-background-image")+")")}},r=function(t){return"true"===t.getAttribute("data-loaded")},o=function(e){return function(n,i){n.forEach(function(n){n.intersectionRatio>0&&(i.unobserve(n.target),r(n.target)||(e(n.target),t(n.target)))})}},a=function(t){return t instanceof Element?[t]:t instanceof NodeList?t:document.querySelectorAll(t)},s=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".lozad",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e({},i,s),c=l.rootMargin,u=l.threshold,d=l.load,h=void 0;return window.IntersectionObserver&&(h=new IntersectionObserver(o(d),{rootMargin:c,threshold:u})),{observe:function(){for(var e=a(n),i=0;i<e.length;i++)r(e[i])||(h?h.observe(e[i]):(d(e[i]),t(e[i])))},triggerLoad:function(e){r(e)||(d(e),t(e))}}};return s}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e,n){var i,r,o,a,s,c=t('<div class="minicolors" />'),u=t.minicolors.defaults;if(!e.data("minicolors-initialized")){if(n=t.extend(!0,{},u,n),c.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity),void 0!==n.position&&t.each(n.position.split(" "),function(){c.addClass("minicolors-position-"+this)}),i="rgb"===n.format?n.opacity?"25":"20":n.keywords?"11":"7",e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",i).wrap(c).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(e.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-input-swatch").on("click",function(t){t.preventDefault(),e.focus()})),a=e.parent().find(".minicolors-panel"),a.on("selectstart",function(){return!1}).end(),n.swatches&&0!==n.swatches.length)for(a.addClass("minicolors-with-swatches"),r=t('<ul class="minicolors-swatches"></ul>').appendTo(a),s=0;s<n.swatches.length;++s)o=n.swatches[s],o=v(o)?p(o,!0):T(f(o,!0)),t('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(r).data("swatch-color",n.swatches[s]).find(".minicolors-swatch-color").css({backgroundColor:w(o),opacity:o.a}),n.swatches[s]=o;n.inline&&e.parent().addClass("minicolors-inline"),l(e,!1),e.data("minicolors-initialized",!0)}}function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function i(t){var e=t.parent(),n=e.find(".minicolors-panel"),i=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(r(),e.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(t.get(0))}))}function r(){t(".minicolors-focus").each(function(){var e=t(this),n=e.find(".minicolors-input"),i=e.find(".minicolors-panel"),r=n.data("minicolors-settings");i.fadeOut(r.hideSpeed,function(){r.hide&&r.hide.call(n.get(0)),e.removeClass("minicolors-focus")})})}function o(t,e,n){var i,r,o,s,l=t.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),u=t.find("[class$=-picker]"),d=t.offset().left,h=t.offset().top,f=Math.round(e.pageX-d),p=Math.round(e.pageY-h),m=n?c.animationSpeed:0;e.originalEvent.changedTouches&&(f=e.originalEvent.changedTouches[0].pageX-d,p=e.originalEvent.changedTouches[0].pageY-h),f<0&&(f=0),p<0&&(p=0),f>t.width()&&(f=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(i=75-f,r=75-p,o=Math.sqrt(i*i+r*r),s=Math.atan2(r,i),s<0&&(s+=2*Math.PI),o>75&&(o=75,f=75-75*Math.cos(s),p=75-75*Math.sin(s)),f=Math.round(f),p=Math.round(p)),t.is(".minicolors-grid")?u.stop(!0).animate({top:p+"px",left:f+"px"},m,c.animationEasing,function(){a(l,t)}):u.stop(!0).animate({top:p+"px"},m,c.animationEasing,function(){a(l,t)})}function a(t,e){function n(t,e){var n,i;return t.length&&e?(n=t.offset().left,i=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:i-e.offset().top+t.outerHeight()/2}):null}var i,r,o,a,l,u,d,h=t.val(),f=t.attr("data-opacity"),p=t.parent(),m=t.data("minicolors-settings"),v=p.find(".minicolors-input-swatch"),y=p.find(".minicolors-grid"),b=p.find(".minicolors-slider"),_=p.find(".minicolors-opacity-slider"),w=y.find("[class$=-picker]"),k=b.find("[class$=-picker]"),C=_.find("[class$=-picker]"),T=n(w,y),S=n(k,b),E=n(C,_);if(e.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(m.control){case"wheel":a=y.width()/2-T.x,l=y.height()/2-T.y,u=Math.sqrt(a*a+l*l),d=Math.atan2(l,a),d<0&&(d+=2*Math.PI),u>75&&(u=75,T.x=69-75*Math.cos(d),T.y=69-75*Math.sin(d)),r=g(u/.75,0,100),i=g(180*d/Math.PI,0,360),o=g(100-Math.floor(S.y*(100/b.height())),0,100),h=x({h:i,s:r,b:o}),b.css("backgroundColor",x({h:i,s:r,b:100}));break;case"saturation":i=g(parseInt(T.x*(360/y.width()),10),0,360),r=g(100-Math.floor(S.y*(100/b.height())),0,100),o=g(100-Math.floor(T.y*(100/y.height())),0,100),h=x({h:i,s:r,b:o}),b.css("backgroundColor",x({h:i,s:100,b:o})),p.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":i=g(parseInt(T.x*(360/y.width()),10),0,360),r=g(100-Math.floor(T.y*(100/y.height())),0,100),o=g(100-Math.floor(S.y*(100/b.height())),0,100),h=x({h:i,s:r,b:o}),b.css("backgroundColor",x({h:i,s:r,b:100})),p.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:i=g(360-parseInt(S.y*(360/b.height()),10),0,360),r=g(Math.floor(T.x*(100/y.width())),0,100),o=g(100-Math.floor(T.y*(100/y.height())),0,100),h=x({h:i,s:r,b:o}),y.css("backgroundColor",x({h:i,s:100,b:100}))}f=m.opacity?parseFloat(1-E.y/_.height()).toFixed(2):1,s(t,h,f)}else v.find("span").css({backgroundColor:h,opacity:f}),c(t,h,f)}function s(t,e,n){var i,r=t.parent(),o=t.data("minicolors-settings"),a=r.find(".minicolors-input-swatch");o.opacity&&t.attr("data-opacity",n),"rgb"===o.format?(i=v(e)?p(e,!0):T(f(e,!0)),n=""===t.attr("data-opacity")?1:g(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&o.opacity||(n=1),e=t.minicolors("rgbObject").a<=1&&i&&o.opacity?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(n)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):(v(e)&&(e=_(e)),e=h(e,o.letterCase)),t.val(e),a.find("span").css({backgroundColor:e,opacity:n}),c(t,e,n)}function l(e,n){var i,r,o,a,s,l,u,d,b,w,C=e.parent(),T=e.data("minicolors-settings"),S=C.find(".minicolors-input-swatch"),E=C.find(".minicolors-grid"),O=C.find(".minicolors-slider"),A=C.find(".minicolors-opacity-slider"),M=E.find("[class$=-picker]"),P=O.find("[class$=-picker]"),D=A.find("[class$=-picker]");switch(v(e.val())?(i=_(e.val()),s=g(parseFloat(y(e.val())).toFixed(2),0,1),s&&e.attr("data-opacity",s)):i=h(f(e.val(),!0),T.letterCase),i||(i=h(m(T.defaultValue,!0),T.letterCase)),r=k(i),a=T.keywords?t.map(T.keywords.split(","),function(e){return t.trim(e.toLowerCase())}):[],l=""!==e.val()&&t.inArray(e.val().toLowerCase(),a)>-1?h(e.val()):v(e.val())?p(e.val()):i,n||e.val(l),T.opacity&&(o=""===e.attr("data-opacity")?1:g(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(o)&&(o=1),e.attr("data-opacity",o),S.find("span").css("opacity",o),d=g(A.height()-A.height()*o,0,A.height()),D.css("top",d+"px")),"transparent"===e.val().toLowerCase()&&S.find("span").css("opacity",0),S.find("span").css("backgroundColor",i),T.control){case"wheel":b=g(Math.ceil(.75*r.s),0,E.height()/2),w=r.h*Math.PI/180,u=g(75-Math.cos(w)*b,0,E.width()),d=g(75-Math.sin(w)*b,0,E.height()),M.css({top:d+"px",left:u+"px"}),d=150-r.b/(100/E.height()),""===i&&(d=0),P.css("top",d+"px"),O.css("backgroundColor",x({h:r.h,s:r.s,b:100}));break;case"saturation":u=g(5*r.h/12,0,150),d=g(E.height()-Math.ceil(r.b/(100/E.height())),0,E.height()),M.css({top:d+"px",left:u+"px"}),d=g(O.height()-r.s*(O.height()/100),0,O.height()),P.css("top",d+"px"),O.css("backgroundColor",x({h:r.h,s:100,b:r.b})),C.find(".minicolors-grid-inner").css("opacity",r.s/100);break;case"brightness":u=g(5*r.h/12,0,150),d=g(E.height()-Math.ceil(r.s/(100/E.height())),0,E.height()),M.css({top:d+"px",left:u+"px"}),d=g(O.height()-r.b*(O.height()/100),0,O.height()),P.css("top",d+"px"),O.css("backgroundColor",x({h:r.h,s:r.s,b:100})),C.find(".minicolors-grid-inner").css("opacity",1-r.b/100);break;default:u=g(Math.ceil(r.s/(100/E.width())),0,E.width()),d=g(E.height()-Math.ceil(r.b/(100/E.height())),0,E.height()),M.css({top:d+"px",left:u+"px"}),d=g(O.height()-r.h/(360/O.height()),0,O.height()),P.css("top",d+"px"),E.css("backgroundColor",x({h:r.h,s:100,b:100}))}e.data("minicolors-initialized")&&c(e,l,o)}function c(t,e,n){var i,r,o,a=t.data("minicolors-settings"),s=t.data("minicolors-lastChange");if(!s||s.value!==e||s.opacity!==n){if(t.data("minicolors-lastChange",{value:e,opacity:n}),a.swatches&&0!==a.swatches.length){for(i=v(e)?p(e,!0):T(e),r=-1,o=0;o<a.swatches.length;++o)if(i.r===a.swatches[o].r&&i.g===a.swatches[o].g&&i.b===a.swatches[o].b&&i.a===a.swatches[o].a){r=o;break}t.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),r!==-1&&t.parent().find(".minicolors-swatches .minicolors-swatch").eq(o).addClass("selected")}a.change&&(a.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){a.change.call(t.get(0),e,n)},a.changeDelay))):a.change.call(t.get(0),e,n)),t.trigger("change").trigger("input")}}function u(e){var n,i=t(e).attr("data-opacity");if(v(t(e).val()))n=p(t(e).val(),!0);else{var r=f(t(e).val(),!0);n=T(r)}return n?(void 0!==i&&t.extend(n,{a:parseFloat(i)}),n):null}function d(e,n){var i,r=t(e).attr("data-opacity");if(v(t(e).val()))i=p(t(e).val(),!0);else{var o=f(t(e).val(),!0);i=T(o)}return i?(void 0===r&&(r=1),n?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(r)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):null}function h(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function f(t,e){return t=t.replace(/^#/g,""),t.match(/^[A-F0-9]{3,6}/gi)?3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t):""}function p(t,e){var n=t.replace(/[^\d,.]/g,""),i=n.split(",");return i[0]=g(parseInt(i[0],10),0,255),i[1]=g(parseInt(i[1],10),0,255),i[2]=g(parseInt(i[2],10),0,255),i[3]&&(i[3]=g(parseFloat(i[3],10),0,1)),e?i[3]?{r:i[0],g:i[1],b:i[2],a:i[3]}:{r:i[0],g:i[1],b:i[2]}:"undefined"!=typeof i[3]&&i[3]<=1?"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+")":"rgb("+i[0]+", "+i[1]+", "+i[2]+")"}function m(t,e){return v(t)?p(t):f(t,e)}function g(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}function v(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!e||4!==e.length)}function y(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i),t&&6===t.length?t[4]:"1"}function b(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0===i)e.r=e.g=e.b=r;else{var o=r,a=(255-i)*r/255,s=(o-a)*(n%60)/60;360===n&&(n=0),n<60?(e.r=o,e.b=a,e.g=a+s):n<120?(e.g=o,e.b=a,e.r=o-s):n<180?(e.g=o,e.r=a,e.b=a+s):n<240?(e.b=o,e.r=a,e.g=o-s):n<300?(e.b=o,e.g=a,e.r=a+s):n<360?(e.r=o,e.g=a,e.b=o-s):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function _(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function w(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(n,function(t,e){1===e.length&&(n[t]="0"+e)}),"#"+n.join("")}function x(t){return w(b(t))}function k(t){var e=C(T(t));return 0===e.s&&(e.h=360),e}function C(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),r=i-n;return e.b=i,e.s=0!==i?255*r/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/r:t.g===i?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function T(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},t.extend(t.fn,{minicolors:function(o,a){switch(o){case"destroy":return t(this).each(function(){n(t(this))}),t(this);case"hide":return r(),t(this);case"opacity":return void 0===a?t(this).attr("data-opacity"):(t(this).each(function(){l(t(this).attr("data-opacity",a))}),t(this));case"rgbObject":return u(t(this),"rgbaObject"===o);case"rgbString":case"rgbaString":return d(t(this),"rgbaString"===o);case"settings":return void 0===a?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};n(t(this)),t(this).minicolors(t.extend(!0,e,a))}),t(this));case"show":return i(t(this).eq(0)),t(this);case"value":return void 0===a?t(this).val():(t(this).each(function(){"object"==typeof a&&"null"!==a?(a.opacity&&t(this).attr("data-opacity",g(a.opacity,0,1)),a.color&&t(this).val(a.color)):t(this).val(a),l(t(this))}),t(this));default:return"create"!==o&&(a=o),t(this).each(function(){e(t(this),a)}),t(this)}}}),t([document]).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||r()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var n=t(this);e.preventDefault(),t(e.delegateTarget).data("minicolors-target",n),o(n,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var n=t(e.delegateTarget).data("minicolors-target");n&&o(n,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(e){e.preventDefault();var n=t(this),i=n.parents(".minicolors").find(".minicolors-input"),r=n.data("swatch-color");s(i,r,y(r)),l(i)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(e){var n=t(this).parent().find(".minicolors-input");e.preventDefault(),i(n)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&i(e)}).on("blur.minicolors",".minicolors-input",function(){var e,n,i,r,o,a=t(this),s=a.data("minicolors-settings");a.data("minicolors-initialized")&&(e=s.keywords?t.map(s.keywords.split(","),function(e){return t.trim(e.toLowerCase())}):[],""!==a.val()&&t.inArray(a.val().toLowerCase(),e)>-1?o=a.val():(v(a.val())?i=p(a.val(),!0):(n=f(a.val(),!0),i=n?T(n):null),o=null===i?s.defaultValue:"rgb"===s.format?p(s.opacity?"rgba("+i.r+","+i.g+","+i.b+","+a.attr("data-opacity")+")":"rgb("+i.r+","+i.g+","+i.b+")"):w(i)),r=s.opacity?a.attr("data-opacity"):1,"transparent"===o.toLowerCase()&&(r=0),a.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",r),a.val(o),""===a.val()&&a.val(m(s.defaultValue,!0)),a.val(h(a.val(),s.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var n=t(this);if(n.data("minicolors-initialized"))switch(e.keyCode){case 9:r();break;case 13:case 27:r(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&l(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){l(e,!0)},1)})}),$(document).on(window.Turbolinks?"turbolinks:load":"ready",function(){$("[data-minicolors]").each(function(){var t=$(this);t.minicolors(t.data("minicolors"))})}),$.minicolors.defaults=$.extend($.minicolors.defaults,{format:"rgb",opacity:!0,keywords:"inherit, transparent, initial"});